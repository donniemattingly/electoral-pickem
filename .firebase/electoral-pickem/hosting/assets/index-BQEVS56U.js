function Xb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vT={exports:{}},cf={},yT={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pu=Symbol.for("react.element"),Zb=Symbol.for("react.portal"),eN=Symbol.for("react.fragment"),tN=Symbol.for("react.strict_mode"),nN=Symbol.for("react.profiler"),rN=Symbol.for("react.provider"),iN=Symbol.for("react.context"),sN=Symbol.for("react.forward_ref"),oN=Symbol.for("react.suspense"),aN=Symbol.for("react.memo"),lN=Symbol.for("react.lazy"),uw=Symbol.iterator;function uN(t){return t===null||typeof t!="object"?null:(t=uw&&t[uw]||t["@@iterator"],typeof t=="function"?t:null)}var _T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wT=Object.assign,ET={};function wa(t,e,n){this.props=t,this.context=e,this.refs=ET,this.updater=n||_T}wa.prototype.isReactComponent={};wa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xT(){}xT.prototype=wa.prototype;function Vv(t,e,n){this.props=t,this.context=e,this.refs=ET,this.updater=n||_T}var jv=Vv.prototype=new xT;jv.constructor=Vv;wT(jv,wa.prototype);jv.isPureReactComponent=!0;var cw=Array.isArray,TT=Object.prototype.hasOwnProperty,Fv={current:null},ST={key:!0,ref:!0,__self:!0,__source:!0};function IT(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)TT.call(e,r)&&!ST.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Pu,type:t,key:s,ref:o,props:i,_owner:Fv.current}}function cN(t,e){return{$$typeof:Pu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pu}function hN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var hw=/\/+/g;function yp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hN(""+t.key):e.toString(36)}function rh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Pu:case Zb:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+yp(o,0):r,cw(i)?(n="",t!=null&&(n=t.replace(hw,"$&/")+"/"),rh(i,e,n,"",function(u){return u})):i!=null&&(Uv(i)&&(i=cN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(hw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",cw(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+yp(s,a);o+=rh(s,e,n,l,i)}else if(l=uN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+yp(s,a++),o+=rh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function vc(t,e,n){if(t==null)return t;var r=[],i=0;return rh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function dN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},ih={transition:null},fN={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:ih,ReactCurrentOwner:Fv};function CT(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:vc,forEach:function(t,e,n){vc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vc(t,function(){e++}),e},toArray:function(t){return vc(t,function(e){return e})||[]},only:function(t){if(!Uv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=wa;_e.Fragment=eN;_e.Profiler=nN;_e.PureComponent=Vv;_e.StrictMode=tN;_e.Suspense=oN;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fN;_e.act=CT;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wT({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Fv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)TT.call(e,l)&&!ST.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Pu,type:t.type,key:i,ref:s,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:iN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rN,_context:t},t.Consumer=t};_e.createElement=IT;_e.createFactory=function(t){var e=IT.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:sN,render:t}};_e.isValidElement=Uv;_e.lazy=function(t){return{$$typeof:lN,_payload:{_status:-1,_result:t},_init:dN}};_e.memo=function(t,e){return{$$typeof:aN,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=ih.transition;ih.transition={};try{t()}finally{ih.transition=e}};_e.unstable_act=CT;_e.useCallback=function(t,e){return sn.current.useCallback(t,e)};_e.useContext=function(t){return sn.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};_e.useEffect=function(t,e){return sn.current.useEffect(t,e)};_e.useId=function(){return sn.current.useId()};_e.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return sn.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};_e.useRef=function(t){return sn.current.useRef(t)};_e.useState=function(t){return sn.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return sn.current.useTransition()};_e.version="18.3.1";yT.exports=_e;var C=yT.exports;const Oe=uf(C),pN=Xb({__proto__:null,default:Oe},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN=C,gN=Symbol.for("react.element"),vN=Symbol.for("react.fragment"),yN=Object.prototype.hasOwnProperty,_N=mN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wN={key:!0,ref:!0,__self:!0,__source:!0};function RT(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)yN.call(e,r)&&!wN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gN,type:t,key:s,ref:o,props:i,_owner:_N.current}}cf.Fragment=vN;cf.jsx=RT;cf.jsxs=RT;vT.exports=cf;var v=vT.exports,AT={exports:{}},Nn={},kT={exports:{}},PT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,F){var q=U.length;U.push(F);e:for(;0<q;){var Q=q-1>>>1,W=U[Q];if(0<i(W,F))U[Q]=F,U[q]=W,q=Q;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var F=U[0],q=U.pop();if(q!==F){U[0]=q;e:for(var Q=0,W=U.length,J=W>>>1;Q<J;){var ie=2*(Q+1)-1,se=U[ie],ge=ie+1,me=U[ge];if(0>i(se,q))ge<W&&0>i(me,se)?(U[Q]=me,U[ge]=q,Q=ge):(U[Q]=se,U[ie]=q,Q=ie);else if(ge<W&&0>i(me,q))U[Q]=me,U[ge]=q,Q=ge;else break e}}return F}function i(U,F){var q=U.sortIndex-F.sortIndex;return q!==0?q:U.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,f=3,m=!1,E=!1,x=!1,I=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(U){for(var F=n(u);F!==null;){if(F.callback===null)r(u);else if(F.startTime<=U)r(u),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(u)}}function R(U){if(x=!1,y(U),!E)if(n(l)!==null)E=!0,j(D);else{var F=n(u);F!==null&&z(R,F.startTime-U)}}function D(U,F){E=!1,x&&(x=!1,_(g),g=-1),m=!0;var q=f;try{for(y(F),d=n(l);d!==null&&(!(d.expirationTime>F)||U&&!P());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,f=d.priorityLevel;var W=Q(d.expirationTime<=F);F=t.unstable_now(),typeof W=="function"?d.callback=W:d===n(l)&&r(l),y(F)}else r(l);d=n(l)}if(d!==null)var J=!0;else{var ie=n(u);ie!==null&&z(R,ie.startTime-F),J=!1}return J}finally{d=null,f=q,m=!1}}var L=!1,A=null,g=-1,T=5,k=-1;function P(){return!(t.unstable_now()-k<T)}function M(){if(A!==null){var U=t.unstable_now();k=U;var F=!0;try{F=A(!0,U)}finally{F?b():(L=!1,A=null)}}else L=!1}var b;if(typeof w=="function")b=function(){w(M)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,V=O.port2;O.port1.onmessage=M,b=function(){V.postMessage(null)}}else b=function(){I(M,0)};function j(U){A=U,L||(L=!0,b())}function z(U,F){g=I(function(){U(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){E||m||(E=!0,j(D))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var q=f;f=F;try{return U()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var q=f;f=U;try{return F()}finally{f=q}},t.unstable_scheduleCallback=function(U,F,q){var Q=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,U){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=q+W,U={id:h++,callback:F,priorityLevel:U,startTime:q,expirationTime:W,sortIndex:-1},q>Q?(U.sortIndex=q,e(u,U),n(l)===null&&U===n(u)&&(x?(_(g),g=-1):x=!0,z(R,q-Q))):(U.sortIndex=W,e(l,U),E||m||(E=!0,j(D))),U},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(U){var F=f;return function(){var q=f;f=F;try{return U.apply(this,arguments)}finally{f=q}}}})(PT);kT.exports=PT;var EN=kT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xN=C,bn=EN;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bT=new Set,zl={};function Gs(t,e){Xo(t,e),Xo(t+"Capture",e)}function Xo(t,e){for(zl[t]=e,t=0;t<e.length;t++)bT.add(e[t])}var ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rm=Object.prototype.hasOwnProperty,TN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dw={},fw={};function SN(t){return Rm.call(fw,t)?!0:Rm.call(dw,t)?!1:TN.test(t)?fw[t]=!0:(dw[t]=!0,!1)}function IN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CN(t,e,n,r){if(e===null||typeof e>"u"||IN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var $v=/[\-:]([a-z])/g;function zv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($v,zv);Dt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($v,zv);Dt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($v,zv);Dt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bv(t,e,n,r){var i=Dt.hasOwnProperty(e)?Dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CN(e,n,i,r)&&(n=null),r||i===null?SN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pi=xN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yc=Symbol.for("react.element"),vo=Symbol.for("react.portal"),yo=Symbol.for("react.fragment"),Wv=Symbol.for("react.strict_mode"),Am=Symbol.for("react.profiler"),NT=Symbol.for("react.provider"),MT=Symbol.for("react.context"),Hv=Symbol.for("react.forward_ref"),km=Symbol.for("react.suspense"),Pm=Symbol.for("react.suspense_list"),qv=Symbol.for("react.memo"),Si=Symbol.for("react.lazy"),DT=Symbol.for("react.offscreen"),pw=Symbol.iterator;function Ga(t){return t===null||typeof t!="object"?null:(t=pw&&t[pw]||t["@@iterator"],typeof t=="function"?t:null)}var nt=Object.assign,_p;function ol(t){if(_p===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);_p=e&&e[1]||""}return`
`+_p+t}var wp=!1;function Ep(t,e){if(!t||wp)return"";wp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{wp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ol(t):""}function RN(t){switch(t.tag){case 5:return ol(t.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 2:case 15:return t=Ep(t.type,!1),t;case 11:return t=Ep(t.type.render,!1),t;case 1:return t=Ep(t.type,!0),t;default:return""}}function bm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yo:return"Fragment";case vo:return"Portal";case Am:return"Profiler";case Wv:return"StrictMode";case km:return"Suspense";case Pm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case MT:return(t.displayName||"Context")+".Consumer";case NT:return(t._context.displayName||"Context")+".Provider";case Hv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qv:return e=t.displayName||null,e!==null?e:bm(t.type)||"Memo";case Si:e=t._payload,t=t._init;try{return bm(t(e))}catch{}}return null}function AN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bm(e);case 8:return e===Wv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ji(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kN(t){var e=OT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _c(t){t._valueTracker||(t._valueTracker=kN(t))}function LT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nm(t,e){var n=e.checked;return nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ji(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VT(t,e){e=e.checked,e!=null&&Bv(t,"checked",e,!1)}function Mm(t,e){VT(t,e);var n=Ji(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Dm(t,e.type,n):e.hasOwnProperty("defaultValue")&&Dm(t,e.type,Ji(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Dm(t,e,n){(e!=="number"||Vh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var al=Array.isArray;function Mo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ji(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Om(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(G(92));if(al(n)){if(1<n.length)throw Error(G(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ji(n)}}function jT(t,e){var n=Ji(e.value),r=Ji(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function FT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?FT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wc,UT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wc=wc||document.createElement("div"),wc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},PN=["Webkit","ms","Moz","O"];Object.keys(xl).forEach(function(t){PN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xl[e]=xl[t]})});function $T(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xl.hasOwnProperty(t)&&xl[t]?(""+e).trim():e+"px"}function zT(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$T(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bN=nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vm(t,e){if(e){if(bN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function jm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fm=null;function Kv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Um=null,Do=null,Oo=null;function _w(t){if(t=Mu(t)){if(typeof Um!="function")throw Error(G(280));var e=t.stateNode;e&&(e=mf(e),Um(t.stateNode,t.type,e))}}function BT(t){Do?Oo?Oo.push(t):Oo=[t]:Do=t}function WT(){if(Do){var t=Do,e=Oo;if(Oo=Do=null,_w(t),e)for(t=0;t<e.length;t++)_w(e[t])}}function HT(t,e){return t(e)}function qT(){}var xp=!1;function KT(t,e,n){if(xp)return t(e,n);xp=!0;try{return HT(t,e,n)}finally{xp=!1,(Do!==null||Oo!==null)&&(qT(),WT())}}function Wl(t,e){var n=t.stateNode;if(n===null)return null;var r=mf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(G(231,e,typeof n));return n}var $m=!1;if(ri)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){$m=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{$m=!1}function NN(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Tl=!1,jh=null,Fh=!1,zm=null,MN={onError:function(t){Tl=!0,jh=t}};function DN(t,e,n,r,i,s,o,a,l){Tl=!1,jh=null,NN.apply(MN,arguments)}function ON(t,e,n,r,i,s,o,a,l){if(DN.apply(this,arguments),Tl){if(Tl){var u=jh;Tl=!1,jh=null}else throw Error(G(198));Fh||(Fh=!0,zm=u)}}function Qs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function GT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ww(t){if(Qs(t)!==t)throw Error(G(188))}function LN(t){var e=t.alternate;if(!e){if(e=Qs(t),e===null)throw Error(G(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ww(i),t;if(s===r)return ww(i),e;s=s.sibling}throw Error(G(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(G(189))}}if(n.alternate!==r)throw Error(G(190))}if(n.tag!==3)throw Error(G(188));return n.stateNode.current===n?t:e}function QT(t){return t=LN(t),t!==null?YT(t):null}function YT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=YT(t);if(e!==null)return e;t=t.sibling}return null}var XT=bn.unstable_scheduleCallback,Ew=bn.unstable_cancelCallback,VN=bn.unstable_shouldYield,jN=bn.unstable_requestPaint,ut=bn.unstable_now,FN=bn.unstable_getCurrentPriorityLevel,Gv=bn.unstable_ImmediatePriority,JT=bn.unstable_UserBlockingPriority,Uh=bn.unstable_NormalPriority,UN=bn.unstable_LowPriority,ZT=bn.unstable_IdlePriority,hf=null,xr=null;function $N(t){if(xr&&typeof xr.onCommitFiberRoot=="function")try{xr.onCommitFiberRoot(hf,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:WN,zN=Math.log,BN=Math.LN2;function WN(t){return t>>>=0,t===0?32:31-(zN(t)/BN|0)|0}var Ec=64,xc=4194304;function ll(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $h(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ll(a):(s&=o,s!==0&&(r=ll(s)))}else o=n&~i,o!==0?r=ll(o):s!==0&&(r=ll(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-or(e),i=1<<n,r|=t[n],e&=~i;return r}function HN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-or(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=HN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Bm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eS(){var t=Ec;return Ec<<=1,!(Ec&4194240)&&(Ec=64),t}function Tp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-or(e),t[e]=n}function KN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-or(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Qv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-or(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function tS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nS,Yv,rS,iS,sS,Wm=!1,Tc=[],Vi=null,ji=null,Fi=null,Hl=new Map,ql=new Map,Ai=[],GN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xw(t,e){switch(t){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":ji=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(e.pointerId)}}function Ya(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Mu(e),e!==null&&Yv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function QN(t,e,n,r,i){switch(e){case"focusin":return Vi=Ya(Vi,t,e,n,r,i),!0;case"dragenter":return ji=Ya(ji,t,e,n,r,i),!0;case"mouseover":return Fi=Ya(Fi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Hl.set(s,Ya(Hl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ql.set(s,Ya(ql.get(s)||null,t,e,n,r,i)),!0}return!1}function oS(t){var e=Ts(t.target);if(e!==null){var n=Qs(e);if(n!==null){if(e=n.tag,e===13){if(e=GT(n),e!==null){t.blockedOn=e,sS(t.priority,function(){rS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fm=r,n.target.dispatchEvent(r),Fm=null}else return e=Mu(n),e!==null&&Yv(e),t.blockedOn=n,!1;e.shift()}return!0}function Tw(t,e,n){sh(t)&&n.delete(e)}function YN(){Wm=!1,Vi!==null&&sh(Vi)&&(Vi=null),ji!==null&&sh(ji)&&(ji=null),Fi!==null&&sh(Fi)&&(Fi=null),Hl.forEach(Tw),ql.forEach(Tw)}function Xa(t,e){t.blockedOn===e&&(t.blockedOn=null,Wm||(Wm=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,YN)))}function Kl(t){function e(i){return Xa(i,t)}if(0<Tc.length){Xa(Tc[0],t);for(var n=1;n<Tc.length;n++){var r=Tc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vi!==null&&Xa(Vi,t),ji!==null&&Xa(ji,t),Fi!==null&&Xa(Fi,t),Hl.forEach(e),ql.forEach(e),n=0;n<Ai.length;n++)r=Ai[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ai.length&&(n=Ai[0],n.blockedOn===null);)oS(n),n.blockedOn===null&&Ai.shift()}var Lo=pi.ReactCurrentBatchConfig,zh=!0;function XN(t,e,n,r){var i=Me,s=Lo.transition;Lo.transition=null;try{Me=1,Xv(t,e,n,r)}finally{Me=i,Lo.transition=s}}function JN(t,e,n,r){var i=Me,s=Lo.transition;Lo.transition=null;try{Me=4,Xv(t,e,n,r)}finally{Me=i,Lo.transition=s}}function Xv(t,e,n,r){if(zh){var i=Hm(t,e,n,r);if(i===null)Mp(t,e,r,Bh,n),xw(t,r);else if(QN(i,t,e,n,r))r.stopPropagation();else if(xw(t,r),e&4&&-1<GN.indexOf(t)){for(;i!==null;){var s=Mu(i);if(s!==null&&nS(s),s=Hm(t,e,n,r),s===null&&Mp(t,e,r,Bh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Mp(t,e,r,null,n)}}var Bh=null;function Hm(t,e,n,r){if(Bh=null,t=Kv(r),t=Ts(t),t!==null)if(e=Qs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=GT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bh=t,null}function aS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FN()){case Gv:return 1;case JT:return 4;case Uh:case UN:return 16;case ZT:return 536870912;default:return 16}default:return 16}}var Mi=null,Jv=null,oh=null;function lS(){if(oh)return oh;var t,e=Jv,n=e.length,r,i="value"in Mi?Mi.value:Mi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return oh=i.slice(t,1<r?1-r:void 0)}function ah(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sc(){return!0}function Sw(){return!1}function Mn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Sc:Sw,this.isPropagationStopped=Sw,this}return nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sc)},persist:function(){},isPersistent:Sc}),e}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zv=Mn(Ea),Nu=nt({},Ea,{view:0,detail:0}),ZN=Mn(Nu),Sp,Ip,Ja,df=nt({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:e0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ja&&(Ja&&t.type==="mousemove"?(Sp=t.screenX-Ja.screenX,Ip=t.screenY-Ja.screenY):Ip=Sp=0,Ja=t),Sp)},movementY:function(t){return"movementY"in t?t.movementY:Ip}}),Iw=Mn(df),e2=nt({},df,{dataTransfer:0}),t2=Mn(e2),n2=nt({},Nu,{relatedTarget:0}),Cp=Mn(n2),r2=nt({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),i2=Mn(r2),s2=nt({},Ea,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),o2=Mn(s2),a2=nt({},Ea,{data:0}),Cw=Mn(a2),l2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=c2[t])?!!e[t]:!1}function e0(){return h2}var d2=nt({},Nu,{key:function(t){if(t.key){var e=l2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ah(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?u2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:e0,charCode:function(t){return t.type==="keypress"?ah(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ah(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f2=Mn(d2),p2=nt({},df,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rw=Mn(p2),m2=nt({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:e0}),g2=Mn(m2),v2=nt({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),y2=Mn(v2),_2=nt({},df,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),w2=Mn(_2),E2=[9,13,27,32],t0=ri&&"CompositionEvent"in window,Sl=null;ri&&"documentMode"in document&&(Sl=document.documentMode);var x2=ri&&"TextEvent"in window&&!Sl,uS=ri&&(!t0||Sl&&8<Sl&&11>=Sl),Aw=" ",kw=!1;function cS(t,e){switch(t){case"keyup":return E2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _o=!1;function T2(t,e){switch(t){case"compositionend":return hS(e);case"keypress":return e.which!==32?null:(kw=!0,Aw);case"textInput":return t=e.data,t===Aw&&kw?null:t;default:return null}}function S2(t,e){if(_o)return t==="compositionend"||!t0&&cS(t,e)?(t=lS(),oh=Jv=Mi=null,_o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uS&&e.locale!=="ko"?null:e.data;default:return null}}var I2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!I2[t.type]:e==="textarea"}function dS(t,e,n,r){BT(r),e=Wh(e,"onChange"),0<e.length&&(n=new Zv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Il=null,Gl=null;function C2(t){TS(t,0)}function ff(t){var e=xo(t);if(LT(e))return t}function R2(t,e){if(t==="change")return e}var fS=!1;if(ri){var Rp;if(ri){var Ap="oninput"in document;if(!Ap){var bw=document.createElement("div");bw.setAttribute("oninput","return;"),Ap=typeof bw.oninput=="function"}Rp=Ap}else Rp=!1;fS=Rp&&(!document.documentMode||9<document.documentMode)}function Nw(){Il&&(Il.detachEvent("onpropertychange",pS),Gl=Il=null)}function pS(t){if(t.propertyName==="value"&&ff(Gl)){var e=[];dS(e,Gl,t,Kv(t)),KT(C2,e)}}function A2(t,e,n){t==="focusin"?(Nw(),Il=e,Gl=n,Il.attachEvent("onpropertychange",pS)):t==="focusout"&&Nw()}function k2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ff(Gl)}function P2(t,e){if(t==="click")return ff(e)}function b2(t,e){if(t==="input"||t==="change")return ff(e)}function N2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ur=typeof Object.is=="function"?Object.is:N2;function Ql(t,e){if(ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Rm.call(e,i)||!ur(t[i],e[i]))return!1}return!0}function Mw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dw(t,e){var n=Mw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mw(n)}}function mS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gS(){for(var t=window,e=Vh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vh(t.document)}return e}function n0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function M2(t){var e=gS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&mS(n.ownerDocument.documentElement,n)){if(r!==null&&n0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Dw(n,s);var o=Dw(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var D2=ri&&"documentMode"in document&&11>=document.documentMode,wo=null,qm=null,Cl=null,Km=!1;function Ow(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Km||wo==null||wo!==Vh(r)||(r=wo,"selectionStart"in r&&n0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cl&&Ql(Cl,r)||(Cl=r,r=Wh(qm,"onSelect"),0<r.length&&(e=new Zv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=wo)))}function Ic(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Eo={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},kp={},vS={};ri&&(vS=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function pf(t){if(kp[t])return kp[t];if(!Eo[t])return t;var e=Eo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vS)return kp[t]=e[n];return t}var yS=pf("animationend"),_S=pf("animationiteration"),wS=pf("animationstart"),ES=pf("transitionend"),xS=new Map,Lw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(t,e){xS.set(t,e),Gs(e,[t])}for(var Pp=0;Pp<Lw.length;Pp++){var bp=Lw[Pp],O2=bp.toLowerCase(),L2=bp[0].toUpperCase()+bp.slice(1);os(O2,"on"+L2)}os(yS,"onAnimationEnd");os(_S,"onAnimationIteration");os(wS,"onAnimationStart");os("dblclick","onDoubleClick");os("focusin","onFocus");os("focusout","onBlur");os(ES,"onTransitionEnd");Xo("onMouseEnter",["mouseout","mouseover"]);Xo("onMouseLeave",["mouseout","mouseover"]);Xo("onPointerEnter",["pointerout","pointerover"]);Xo("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V2=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function Vw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ON(r,e,void 0,t),t.currentTarget=null}function TS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Vw(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Vw(i,a,u),s=l}}}if(Fh)throw t=zm,Fh=!1,zm=null,t}function He(t,e){var n=e[Jm];n===void 0&&(n=e[Jm]=new Set);var r=t+"__bubble";n.has(r)||(SS(e,t,2,!1),n.add(r))}function Np(t,e,n){var r=0;e&&(r|=4),SS(n,t,r,e)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Yl(t){if(!t[Cc]){t[Cc]=!0,bT.forEach(function(n){n!=="selectionchange"&&(V2.has(n)||Np(n,!1,t),Np(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cc]||(e[Cc]=!0,Np("selectionchange",!1,e))}}function SS(t,e,n,r){switch(aS(e)){case 1:var i=XN;break;case 4:i=JN;break;default:i=Xv}n=i.bind(null,e,n,t),i=void 0,!$m||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Mp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ts(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}KT(function(){var u=s,h=Kv(n),d=[];e:{var f=xS.get(t);if(f!==void 0){var m=Zv,E=t;switch(t){case"keypress":if(ah(n)===0)break e;case"keydown":case"keyup":m=f2;break;case"focusin":E="focus",m=Cp;break;case"focusout":E="blur",m=Cp;break;case"beforeblur":case"afterblur":m=Cp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Iw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=t2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=g2;break;case yS:case _S:case wS:m=i2;break;case ES:m=y2;break;case"scroll":m=ZN;break;case"wheel":m=w2;break;case"copy":case"cut":case"paste":m=o2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Rw}var x=(e&4)!==0,I=!x&&t==="scroll",_=x?f!==null?f+"Capture":null:f;x=[];for(var w=u,y;w!==null;){y=w;var R=y.stateNode;if(y.tag===5&&R!==null&&(y=R,_!==null&&(R=Wl(w,_),R!=null&&x.push(Xl(w,R,y)))),I)break;w=w.return}0<x.length&&(f=new m(f,E,null,n,h),d.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Fm&&(E=n.relatedTarget||n.fromElement)&&(Ts(E)||E[ii]))break e;if((m||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,m?(E=n.relatedTarget||n.toElement,m=u,E=E?Ts(E):null,E!==null&&(I=Qs(E),E!==I||E.tag!==5&&E.tag!==6)&&(E=null)):(m=null,E=u),m!==E)){if(x=Iw,R="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=Rw,R="onPointerLeave",_="onPointerEnter",w="pointer"),I=m==null?f:xo(m),y=E==null?f:xo(E),f=new x(R,w+"leave",m,n,h),f.target=I,f.relatedTarget=y,R=null,Ts(h)===u&&(x=new x(_,w+"enter",E,n,h),x.target=y,x.relatedTarget=I,R=x),I=R,m&&E)t:{for(x=m,_=E,w=0,y=x;y;y=so(y))w++;for(y=0,R=_;R;R=so(R))y++;for(;0<w-y;)x=so(x),w--;for(;0<y-w;)_=so(_),y--;for(;w--;){if(x===_||_!==null&&x===_.alternate)break t;x=so(x),_=so(_)}x=null}else x=null;m!==null&&jw(d,f,m,x,!1),E!==null&&I!==null&&jw(d,I,E,x,!0)}}e:{if(f=u?xo(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var D=R2;else if(Pw(f))if(fS)D=b2;else{D=k2;var L=A2}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=P2);if(D&&(D=D(t,u))){dS(d,D,n,h);break e}L&&L(t,f,u),t==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&Dm(f,"number",f.value)}switch(L=u?xo(u):window,t){case"focusin":(Pw(L)||L.contentEditable==="true")&&(wo=L,qm=u,Cl=null);break;case"focusout":Cl=qm=wo=null;break;case"mousedown":Km=!0;break;case"contextmenu":case"mouseup":case"dragend":Km=!1,Ow(d,n,h);break;case"selectionchange":if(D2)break;case"keydown":case"keyup":Ow(d,n,h)}var A;if(t0)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else _o?cS(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(uS&&n.locale!=="ko"&&(_o||g!=="onCompositionStart"?g==="onCompositionEnd"&&_o&&(A=lS()):(Mi=h,Jv="value"in Mi?Mi.value:Mi.textContent,_o=!0)),L=Wh(u,g),0<L.length&&(g=new Cw(g,t,null,n,h),d.push({event:g,listeners:L}),A?g.data=A:(A=hS(n),A!==null&&(g.data=A)))),(A=x2?T2(t,n):S2(t,n))&&(u=Wh(u,"onBeforeInput"),0<u.length&&(h=new Cw("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=A))}TS(d,e)})}function Xl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Wh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wl(t,n),s!=null&&r.unshift(Xl(t,s,i)),s=Wl(t,e),s!=null&&r.push(Xl(t,s,i))),t=t.return}return r}function so(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jw(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Wl(n,s),l!=null&&o.unshift(Xl(n,l,a))):i||(l=Wl(n,s),l!=null&&o.push(Xl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var j2=/\r\n?/g,F2=/\u0000|\uFFFD/g;function Fw(t){return(typeof t=="string"?t:""+t).replace(j2,`
`).replace(F2,"")}function Rc(t,e,n){if(e=Fw(e),Fw(t)!==e&&n)throw Error(G(425))}function Hh(){}var Gm=null,Qm=null;function Ym(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Xm=typeof setTimeout=="function"?setTimeout:void 0,U2=typeof clearTimeout=="function"?clearTimeout:void 0,Uw=typeof Promise=="function"?Promise:void 0,$2=typeof queueMicrotask=="function"?queueMicrotask:typeof Uw<"u"?function(t){return Uw.resolve(null).then(t).catch(z2)}:Xm;function z2(t){setTimeout(function(){throw t})}function Dp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Kl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Kl(e)}function Ui(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $w(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xa=Math.random().toString(36).slice(2),gr="__reactFiber$"+xa,Jl="__reactProps$"+xa,ii="__reactContainer$"+xa,Jm="__reactEvents$"+xa,B2="__reactListeners$"+xa,W2="__reactHandles$"+xa;function Ts(t){var e=t[gr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ii]||n[gr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$w(t);t!==null;){if(n=t[gr])return n;t=$w(t)}return e}t=n,n=t.parentNode}return null}function Mu(t){return t=t[gr]||t[ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function mf(t){return t[Jl]||null}var Zm=[],To=-1;function as(t){return{current:t}}function Ke(t){0>To||(t.current=Zm[To],Zm[To]=null,To--)}function Fe(t,e){To++,Zm[To]=t.current,t.current=e}var Zi={},Ht=as(Zi),mn=as(!1),Os=Zi;function Jo(t,e){var n=t.type.contextTypes;if(!n)return Zi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gn(t){return t=t.childContextTypes,t!=null}function qh(){Ke(mn),Ke(Ht)}function zw(t,e,n){if(Ht.current!==Zi)throw Error(G(168));Fe(Ht,e),Fe(mn,n)}function IS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(G(108,AN(t)||"Unknown",i));return nt({},n,r)}function Kh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zi,Os=Ht.current,Fe(Ht,t),Fe(mn,mn.current),!0}function Bw(t,e,n){var r=t.stateNode;if(!r)throw Error(G(169));n?(t=IS(t,e,Os),r.__reactInternalMemoizedMergedChildContext=t,Ke(mn),Ke(Ht),Fe(Ht,t)):Ke(mn),Fe(mn,n)}var $r=null,gf=!1,Op=!1;function CS(t){$r===null?$r=[t]:$r.push(t)}function H2(t){gf=!0,CS(t)}function ls(){if(!Op&&$r!==null){Op=!0;var t=0,e=Me;try{var n=$r;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}$r=null,gf=!1}catch(i){throw $r!==null&&($r=$r.slice(t+1)),XT(Gv,ls),i}finally{Me=e,Op=!1}}return null}var So=[],Io=0,Gh=null,Qh=0,Ln=[],Vn=0,Ls=null,qr=1,Kr="";function _s(t,e){So[Io++]=Qh,So[Io++]=Gh,Gh=t,Qh=e}function RS(t,e,n){Ln[Vn++]=qr,Ln[Vn++]=Kr,Ln[Vn++]=Ls,Ls=t;var r=qr;t=Kr;var i=32-or(r)-1;r&=~(1<<i),n+=1;var s=32-or(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,qr=1<<32-or(e)+i|n<<i|r,Kr=s+t}else qr=1<<s|n<<i|r,Kr=t}function r0(t){t.return!==null&&(_s(t,1),RS(t,1,0))}function i0(t){for(;t===Gh;)Gh=So[--Io],So[Io]=null,Qh=So[--Io],So[Io]=null;for(;t===Ls;)Ls=Ln[--Vn],Ln[Vn]=null,Kr=Ln[--Vn],Ln[Vn]=null,qr=Ln[--Vn],Ln[Vn]=null}var kn=null,Rn=null,Qe=!1,er=null;function AS(t,e){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ww(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,kn=t,Rn=Ui(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,kn=t,Rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ls!==null?{id:qr,overflow:Kr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,kn=t,Rn=null,!0):!1;default:return!1}}function eg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tg(t){if(Qe){var e=Rn;if(e){var n=e;if(!Ww(t,e)){if(eg(t))throw Error(G(418));e=Ui(n.nextSibling);var r=kn;e&&Ww(t,e)?AS(r,n):(t.flags=t.flags&-4097|2,Qe=!1,kn=t)}}else{if(eg(t))throw Error(G(418));t.flags=t.flags&-4097|2,Qe=!1,kn=t}}}function Hw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;kn=t}function Ac(t){if(t!==kn)return!1;if(!Qe)return Hw(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ym(t.type,t.memoizedProps)),e&&(e=Rn)){if(eg(t))throw kS(),Error(G(418));for(;e;)AS(t,e),e=Ui(e.nextSibling)}if(Hw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rn=Ui(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rn=null}}else Rn=kn?Ui(t.stateNode.nextSibling):null;return!0}function kS(){for(var t=Rn;t;)t=Ui(t.nextSibling)}function Zo(){Rn=kn=null,Qe=!1}function s0(t){er===null?er=[t]:er.push(t)}var q2=pi.ReactCurrentBatchConfig;function Za(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(G(309));var r=n.stateNode}if(!r)throw Error(G(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!n._owner)throw Error(G(290,t))}return t}function kc(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qw(t){var e=t._init;return e(t._payload)}function PS(t){function e(_,w){if(t){var y=_.deletions;y===null?(_.deletions=[w],_.flags|=16):y.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=Wi(_,w),_.index=0,_.sibling=null,_}function s(_,w,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<w?(_.flags|=2,w):y):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,y,R){return w===null||w.tag!==6?(w=zp(y,_.mode,R),w.return=_,w):(w=i(w,y),w.return=_,w)}function l(_,w,y,R){var D=y.type;return D===yo?h(_,w,y.props.children,R,y.key):w!==null&&(w.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Si&&qw(D)===w.type)?(R=i(w,y.props),R.ref=Za(_,w,y),R.return=_,R):(R=ph(y.type,y.key,y.props,null,_.mode,R),R.ref=Za(_,w,y),R.return=_,R)}function u(_,w,y,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=Bp(y,_.mode,R),w.return=_,w):(w=i(w,y.children||[]),w.return=_,w)}function h(_,w,y,R,D){return w===null||w.tag!==7?(w=Ps(y,_.mode,R,D),w.return=_,w):(w=i(w,y),w.return=_,w)}function d(_,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=zp(""+w,_.mode,y),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yc:return y=ph(w.type,w.key,w.props,null,_.mode,y),y.ref=Za(_,null,w),y.return=_,y;case vo:return w=Bp(w,_.mode,y),w.return=_,w;case Si:var R=w._init;return d(_,R(w._payload),y)}if(al(w)||Ga(w))return w=Ps(w,_.mode,y,null),w.return=_,w;kc(_,w)}return null}function f(_,w,y,R){var D=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return D!==null?null:a(_,w,""+y,R);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yc:return y.key===D?l(_,w,y,R):null;case vo:return y.key===D?u(_,w,y,R):null;case Si:return D=y._init,f(_,w,D(y._payload),R)}if(al(y)||Ga(y))return D!==null?null:h(_,w,y,R,null);kc(_,y)}return null}function m(_,w,y,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return _=_.get(y)||null,a(w,_,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case yc:return _=_.get(R.key===null?y:R.key)||null,l(w,_,R,D);case vo:return _=_.get(R.key===null?y:R.key)||null,u(w,_,R,D);case Si:var L=R._init;return m(_,w,y,L(R._payload),D)}if(al(R)||Ga(R))return _=_.get(y)||null,h(w,_,R,D,null);kc(w,R)}return null}function E(_,w,y,R){for(var D=null,L=null,A=w,g=w=0,T=null;A!==null&&g<y.length;g++){A.index>g?(T=A,A=null):T=A.sibling;var k=f(_,A,y[g],R);if(k===null){A===null&&(A=T);break}t&&A&&k.alternate===null&&e(_,A),w=s(k,w,g),L===null?D=k:L.sibling=k,L=k,A=T}if(g===y.length)return n(_,A),Qe&&_s(_,g),D;if(A===null){for(;g<y.length;g++)A=d(_,y[g],R),A!==null&&(w=s(A,w,g),L===null?D=A:L.sibling=A,L=A);return Qe&&_s(_,g),D}for(A=r(_,A);g<y.length;g++)T=m(A,_,g,y[g],R),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?g:T.key),w=s(T,w,g),L===null?D=T:L.sibling=T,L=T);return t&&A.forEach(function(P){return e(_,P)}),Qe&&_s(_,g),D}function x(_,w,y,R){var D=Ga(y);if(typeof D!="function")throw Error(G(150));if(y=D.call(y),y==null)throw Error(G(151));for(var L=D=null,A=w,g=w=0,T=null,k=y.next();A!==null&&!k.done;g++,k=y.next()){A.index>g?(T=A,A=null):T=A.sibling;var P=f(_,A,k.value,R);if(P===null){A===null&&(A=T);break}t&&A&&P.alternate===null&&e(_,A),w=s(P,w,g),L===null?D=P:L.sibling=P,L=P,A=T}if(k.done)return n(_,A),Qe&&_s(_,g),D;if(A===null){for(;!k.done;g++,k=y.next())k=d(_,k.value,R),k!==null&&(w=s(k,w,g),L===null?D=k:L.sibling=k,L=k);return Qe&&_s(_,g),D}for(A=r(_,A);!k.done;g++,k=y.next())k=m(A,_,g,k.value,R),k!==null&&(t&&k.alternate!==null&&A.delete(k.key===null?g:k.key),w=s(k,w,g),L===null?D=k:L.sibling=k,L=k);return t&&A.forEach(function(M){return e(_,M)}),Qe&&_s(_,g),D}function I(_,w,y,R){if(typeof y=="object"&&y!==null&&y.type===yo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case yc:e:{for(var D=y.key,L=w;L!==null;){if(L.key===D){if(D=y.type,D===yo){if(L.tag===7){n(_,L.sibling),w=i(L,y.props.children),w.return=_,_=w;break e}}else if(L.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Si&&qw(D)===L.type){n(_,L.sibling),w=i(L,y.props),w.ref=Za(_,L,y),w.return=_,_=w;break e}n(_,L);break}else e(_,L);L=L.sibling}y.type===yo?(w=Ps(y.props.children,_.mode,R,y.key),w.return=_,_=w):(R=ph(y.type,y.key,y.props,null,_.mode,R),R.ref=Za(_,w,y),R.return=_,_=R)}return o(_);case vo:e:{for(L=y.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){n(_,w.sibling),w=i(w,y.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=Bp(y,_.mode,R),w.return=_,_=w}return o(_);case Si:return L=y._init,I(_,w,L(y._payload),R)}if(al(y))return E(_,w,y,R);if(Ga(y))return x(_,w,y,R);kc(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,y),w.return=_,_=w):(n(_,w),w=zp(y,_.mode,R),w.return=_,_=w),o(_)):n(_,w)}return I}var ea=PS(!0),bS=PS(!1),Yh=as(null),Xh=null,Co=null,o0=null;function a0(){o0=Co=Xh=null}function l0(t){var e=Yh.current;Ke(Yh),t._currentValue=e}function ng(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vo(t,e){Xh=t,o0=Co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function Bn(t){var e=t._currentValue;if(o0!==t)if(t={context:t,memoizedValue:e,next:null},Co===null){if(Xh===null)throw Error(G(308));Co=t,Xh.dependencies={lanes:0,firstContext:t}}else Co=Co.next=t;return e}var Ss=null;function u0(t){Ss===null?Ss=[t]:Ss.push(t)}function NS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,u0(e)):(n.next=i.next,i.next=n),e.interleaved=n,si(t,r)}function si(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ii=!1;function c0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $i(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,si(t,n)}return i=r.interleaved,i===null?(e.next=e,u0(r)):(e.next=i.next,i.next=e),r.interleaved=e,si(t,n)}function lh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qv(t,n)}}function Kw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jh(t,e,n,r){var i=t.updateQueue;Ii=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,h=u=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,x=a;switch(f=e,m=n,x.tag){case 1:if(E=x.payload,typeof E=="function"){d=E.call(m,d,f);break e}d=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=x.payload,f=typeof E=="function"?E.call(m,d,f):E,f==null)break e;d=nt({},d,f);break e;case 2:Ii=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=m,l=d):h=h.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(h===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);js|=o,t.lanes=o,t.memoizedState=d}}function Gw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(G(191,i));i.call(r)}}}var Du={},Tr=as(Du),Zl=as(Du),eu=as(Du);function Is(t){if(t===Du)throw Error(G(174));return t}function h0(t,e){switch(Fe(eu,e),Fe(Zl,t),Fe(Tr,Du),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lm(e,t)}Ke(Tr),Fe(Tr,e)}function ta(){Ke(Tr),Ke(Zl),Ke(eu)}function DS(t){Is(eu.current);var e=Is(Tr.current),n=Lm(e,t.type);e!==n&&(Fe(Zl,t),Fe(Tr,n))}function d0(t){Zl.current===t&&(Ke(Tr),Ke(Zl))}var Ze=as(0);function Zh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Lp=[];function f0(){for(var t=0;t<Lp.length;t++)Lp[t]._workInProgressVersionPrimary=null;Lp.length=0}var uh=pi.ReactCurrentDispatcher,Vp=pi.ReactCurrentBatchConfig,Vs=0,tt=null,vt=null,Tt=null,ed=!1,Rl=!1,tu=0,K2=0;function jt(){throw Error(G(321))}function p0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ur(t[n],e[n]))return!1;return!0}function m0(t,e,n,r,i,s){if(Vs=s,tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uh.current=t===null||t.memoizedState===null?X2:J2,t=n(r,i),Rl){s=0;do{if(Rl=!1,tu=0,25<=s)throw Error(G(301));s+=1,Tt=vt=null,e.updateQueue=null,uh.current=Z2,t=n(r,i)}while(Rl)}if(uh.current=td,e=vt!==null&&vt.next!==null,Vs=0,Tt=vt=tt=null,ed=!1,e)throw Error(G(300));return t}function g0(){var t=tu!==0;return tu=0,t}function mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?tt.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function Wn(){if(vt===null){var t=tt.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=Tt===null?tt.memoizedState:Tt.next;if(e!==null)Tt=e,vt=t;else{if(t===null)throw Error(G(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Tt===null?tt.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function nu(t,e){return typeof e=="function"?e(t):e}function jp(t){var e=Wn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=vt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((Vs&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,tt.lanes|=h,js|=h}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ur(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,tt.lanes|=s,js|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Fp(t){var e=Wn(),n=e.queue;if(n===null)throw Error(G(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ur(s,e.memoizedState)||(fn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function OS(){}function LS(t,e){var n=tt,r=Wn(),i=e(),s=!ur(r.memoizedState,i);if(s&&(r.memoizedState=i,fn=!0),r=r.queue,v0(FS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Tt!==null&&Tt.memoizedState.tag&1){if(n.flags|=2048,ru(9,jS.bind(null,n,r,i,e),void 0,null),St===null)throw Error(G(349));Vs&30||VS(n,e,i)}return i}function VS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function jS(t,e,n,r){e.value=n,e.getSnapshot=r,US(e)&&$S(t)}function FS(t,e,n){return n(function(){US(e)&&$S(t)})}function US(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ur(t,n)}catch{return!0}}function $S(t){var e=si(t,1);e!==null&&ar(e,t,1,-1)}function Qw(t){var e=mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:t},e.queue=t,t=t.dispatch=Y2.bind(null,tt,t),[e.memoizedState,t]}function ru(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=tt.updateQueue,e===null?(e={lastEffect:null,stores:null},tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zS(){return Wn().memoizedState}function ch(t,e,n,r){var i=mr();tt.flags|=t,i.memoizedState=ru(1|e,n,void 0,r===void 0?null:r)}function vf(t,e,n,r){var i=Wn();r=r===void 0?null:r;var s=void 0;if(vt!==null){var o=vt.memoizedState;if(s=o.destroy,r!==null&&p0(r,o.deps)){i.memoizedState=ru(e,n,s,r);return}}tt.flags|=t,i.memoizedState=ru(1|e,n,s,r)}function Yw(t,e){return ch(8390656,8,t,e)}function v0(t,e){return vf(2048,8,t,e)}function BS(t,e){return vf(4,2,t,e)}function WS(t,e){return vf(4,4,t,e)}function HS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qS(t,e,n){return n=n!=null?n.concat([t]):null,vf(4,4,HS.bind(null,e,t),n)}function y0(){}function KS(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&p0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function GS(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&p0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function QS(t,e,n){return Vs&21?(ur(n,e)||(n=eS(),tt.lanes|=n,js|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function G2(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Vp.transition;Vp.transition={};try{t(!1),e()}finally{Me=n,Vp.transition=r}}function YS(){return Wn().memoizedState}function Q2(t,e,n){var r=Bi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},XS(t))JS(e,n);else if(n=NS(t,e,n,r),n!==null){var i=en();ar(n,t,r,i),ZS(n,e,r)}}function Y2(t,e,n){var r=Bi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(XS(t))JS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ur(a,o)){var l=e.interleaved;l===null?(i.next=i,u0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=NS(t,e,i,r),n!==null&&(i=en(),ar(n,t,r,i),ZS(n,e,r))}}function XS(t){var e=t.alternate;return t===tt||e!==null&&e===tt}function JS(t,e){Rl=ed=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qv(t,n)}}var td={readContext:Bn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},X2={readContext:Bn,useCallback:function(t,e){return mr().memoizedState=[t,e===void 0?null:e],t},useContext:Bn,useEffect:Yw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ch(4194308,4,HS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ch(4194308,4,t,e)},useInsertionEffect:function(t,e){return ch(4,2,t,e)},useMemo:function(t,e){var n=mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Q2.bind(null,tt,t),[r.memoizedState,t]},useRef:function(t){var e=mr();return t={current:t},e.memoizedState=t},useState:Qw,useDebugValue:y0,useDeferredValue:function(t){return mr().memoizedState=t},useTransition:function(){var t=Qw(!1),e=t[0];return t=G2.bind(null,t[1]),mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=tt,i=mr();if(Qe){if(n===void 0)throw Error(G(407));n=n()}else{if(n=e(),St===null)throw Error(G(349));Vs&30||VS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Yw(FS.bind(null,r,s,t),[t]),r.flags|=2048,ru(9,jS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=mr(),e=St.identifierPrefix;if(Qe){var n=Kr,r=qr;n=(r&~(1<<32-or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=tu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=K2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},J2={readContext:Bn,useCallback:KS,useContext:Bn,useEffect:v0,useImperativeHandle:qS,useInsertionEffect:BS,useLayoutEffect:WS,useMemo:GS,useReducer:jp,useRef:zS,useState:function(){return jp(nu)},useDebugValue:y0,useDeferredValue:function(t){var e=Wn();return QS(e,vt.memoizedState,t)},useTransition:function(){var t=jp(nu)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:OS,useSyncExternalStore:LS,useId:YS,unstable_isNewReconciler:!1},Z2={readContext:Bn,useCallback:KS,useContext:Bn,useEffect:v0,useImperativeHandle:qS,useInsertionEffect:BS,useLayoutEffect:WS,useMemo:GS,useReducer:Fp,useRef:zS,useState:function(){return Fp(nu)},useDebugValue:y0,useDeferredValue:function(t){var e=Wn();return vt===null?e.memoizedState=t:QS(e,vt.memoizedState,t)},useTransition:function(){var t=Fp(nu)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:OS,useSyncExternalStore:LS,useId:YS,unstable_isNewReconciler:!1};function Jn(t,e){if(t&&t.defaultProps){e=nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function rg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yf={isMounted:function(t){return(t=t._reactInternals)?Qs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=en(),i=Bi(t),s=Zr(r,i);s.payload=e,n!=null&&(s.callback=n),e=$i(t,s,i),e!==null&&(ar(e,t,i,r),lh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=en(),i=Bi(t),s=Zr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=$i(t,s,i),e!==null&&(ar(e,t,i,r),lh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),r=Bi(t),i=Zr(n,r);i.tag=2,e!=null&&(i.callback=e),e=$i(t,i,r),e!==null&&(ar(e,t,r,n),lh(e,t,r))}};function Xw(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ql(n,r)||!Ql(i,s):!0}function eI(t,e,n){var r=!1,i=Zi,s=e.contextType;return typeof s=="object"&&s!==null?s=Bn(s):(i=gn(e)?Os:Ht.current,r=e.contextTypes,s=(r=r!=null)?Jo(t,i):Zi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Jw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yf.enqueueReplaceState(e,e.state,null)}function ig(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},c0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Bn(s):(s=gn(e)?Os:Ht.current,i.context=Jo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(rg(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yf.enqueueReplaceState(i,i.state,null),Jh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function na(t,e){try{var n="",r=e;do n+=RN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Up(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function sg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eM=typeof WeakMap=="function"?WeakMap:Map;function tI(t,e,n){n=Zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rd||(rd=!0,mg=r),sg(t,e)},n}function nI(t,e,n){n=Zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){sg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){sg(t,e),typeof r!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Zw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=pM.bind(null,t,e,n),e.then(t,t))}function e1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zr(-1,1),e.tag=2,$i(n,e,1))),n.lanes|=1),t)}var tM=pi.ReactCurrentOwner,fn=!1;function Yt(t,e,n,r){e.child=t===null?bS(e,null,n,r):ea(e,t.child,n,r)}function n1(t,e,n,r,i){n=n.render;var s=e.ref;return Vo(e,i),r=m0(t,e,n,r,s,i),n=g0(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(Qe&&n&&r0(e),e.flags|=1,Yt(t,e,r,i),e.child)}function r1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!C0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,rI(t,e,s,r,i)):(t=ph(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ql,n(o,r)&&t.ref===e.ref)return oi(t,e,i)}return e.flags|=1,t=Wi(s,r),t.ref=e.ref,t.return=e,e.child=t}function rI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ql(s,r)&&t.ref===e.ref)if(fn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,oi(t,e,i)}return og(t,e,n,r,i)}function iI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Ao,Sn),Sn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Fe(Ao,Sn),Sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Fe(Ao,Sn),Sn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Fe(Ao,Sn),Sn|=r;return Yt(t,e,i,n),e.child}function sI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function og(t,e,n,r,i){var s=gn(n)?Os:Ht.current;return s=Jo(e,s),Vo(e,i),n=m0(t,e,n,r,s,i),r=g0(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,oi(t,e,i)):(Qe&&r&&r0(e),e.flags|=1,Yt(t,e,n,i),e.child)}function i1(t,e,n,r,i){if(gn(n)){var s=!0;Kh(e)}else s=!1;if(Vo(e,i),e.stateNode===null)hh(t,e),eI(e,n,r),ig(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Bn(u):(u=gn(n)?Os:Ht.current,u=Jo(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Jw(e,o,r,u),Ii=!1;var f=e.memoizedState;o.state=f,Jh(e,r,o,i),l=e.memoizedState,a!==r||f!==l||mn.current||Ii?(typeof h=="function"&&(rg(e,n,h,r),l=e.memoizedState),(a=Ii||Xw(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,MS(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Jn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Bn(l):(l=gn(n)?Os:Ht.current,l=Jo(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Jw(e,o,r,l),Ii=!1,f=e.memoizedState,o.state=f,Jh(e,r,o,i);var E=e.memoizedState;a!==d||f!==E||mn.current||Ii?(typeof m=="function"&&(rg(e,n,m,r),E=e.memoizedState),(u=Ii||Xw(e,n,u,r,f,E,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ag(t,e,n,r,s,i)}function ag(t,e,n,r,i,s){sI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Bw(e,n,!1),oi(t,e,s);r=e.stateNode,tM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ea(e,t.child,null,s),e.child=ea(e,null,a,s)):Yt(t,e,a,s),e.memoizedState=r.state,i&&Bw(e,n,!0),e.child}function oI(t){var e=t.stateNode;e.pendingContext?zw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zw(t,e.context,!1),h0(t,e.containerInfo)}function s1(t,e,n,r,i){return Zo(),s0(i),e.flags|=256,Yt(t,e,n,r),e.child}var lg={dehydrated:null,treeContext:null,retryLane:0};function ug(t){return{baseLanes:t,cachePool:null,transitions:null}}function aI(t,e,n){var r=e.pendingProps,i=Ze.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Fe(Ze,i&1),t===null)return tg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ef(o,r,0,null),t=Ps(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ug(n),e.memoizedState=lg,t):_0(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nM(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Wi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Wi(a,s):(s=Ps(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?ug(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=lg,r}return s=t.child,t=s.sibling,r=Wi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _0(t,e){return e=Ef({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pc(t,e,n,r){return r!==null&&s0(r),ea(e,t.child,null,n),t=_0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nM(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Up(Error(G(422))),Pc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ef({mode:"visible",children:r.children},i,0,null),s=Ps(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ea(e,t.child,null,o),e.child.memoizedState=ug(o),e.memoizedState=lg,s);if(!(e.mode&1))return Pc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(G(419)),r=Up(s,r,void 0),Pc(t,e,o,r)}if(a=(o&t.childLanes)!==0,fn||a){if(r=St,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,si(t,i),ar(r,t,i,-1))}return I0(),r=Up(Error(G(421))),Pc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Rn=Ui(i.nextSibling),kn=e,Qe=!0,er=null,t!==null&&(Ln[Vn++]=qr,Ln[Vn++]=Kr,Ln[Vn++]=Ls,qr=t.id,Kr=t.overflow,Ls=e),e=_0(e,r.children),e.flags|=4096,e)}function o1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ng(t.return,e,n)}function $p(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function lI(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Yt(t,e,r.children,n),r=Ze.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o1(t,n,e);else if(t.tag===19)o1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Fe(Ze,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),$p(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}$p(e,!0,n,null,s);break;case"together":$p(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function oi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),js|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,n=Wi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Wi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rM(t,e,n){switch(e.tag){case 3:oI(e),Zo();break;case 5:DS(e);break;case 1:gn(e.type)&&Kh(e);break;case 4:h0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Fe(Yh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Fe(Ze,Ze.current&1),e.flags|=128,null):n&e.child.childLanes?aI(t,e,n):(Fe(Ze,Ze.current&1),t=oi(t,e,n),t!==null?t.sibling:null);Fe(Ze,Ze.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lI(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Fe(Ze,Ze.current),r)break;return null;case 22:case 23:return e.lanes=0,iI(t,e,n)}return oi(t,e,n)}var uI,cg,cI,hI;uI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cg=function(){};cI=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Is(Tr.current);var s=null;switch(n){case"input":i=Nm(t,i),r=Nm(t,r),s=[];break;case"select":i=nt({},i,{value:void 0}),r=nt({},r,{value:void 0}),s=[];break;case"textarea":i=Om(t,i),r=Om(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Hh)}Vm(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zl.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&He("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};hI=function(t,e,n,r){n!==r&&(e.flags|=4)};function el(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iM(t,e,n){var r=e.pendingProps;switch(i0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return gn(e.type)&&qh(),Ft(e),null;case 3:return r=e.stateNode,ta(),Ke(mn),Ke(Ht),f0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ac(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,er!==null&&(yg(er),er=null))),cg(t,e),Ft(e),null;case 5:d0(e);var i=Is(eu.current);if(n=e.type,t!==null&&e.stateNode!=null)cI(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(G(166));return Ft(e),null}if(t=Is(Tr.current),Ac(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[gr]=e,r[Jl]=s,t=(e.mode&1)!==0,n){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(i=0;i<ul.length;i++)He(ul[i],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":mw(r,s),He("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},He("invalid",r);break;case"textarea":vw(r,s),He("invalid",r)}Vm(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Rc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Rc(r.textContent,a,t),i=["children",""+a]):zl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&He("scroll",r)}switch(n){case"input":_c(r),gw(r,s,!0);break;case"textarea":_c(r),yw(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Hh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=FT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gr]=e,t[Jl]=r,uI(t,e,!1,!1),e.stateNode=t;e:{switch(o=jm(n,r),n){case"dialog":He("cancel",t),He("close",t),i=r;break;case"iframe":case"object":case"embed":He("load",t),i=r;break;case"video":case"audio":for(i=0;i<ul.length;i++)He(ul[i],t);i=r;break;case"source":He("error",t),i=r;break;case"img":case"image":case"link":He("error",t),He("load",t),i=r;break;case"details":He("toggle",t),i=r;break;case"input":mw(t,r),i=Nm(t,r),He("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=nt({},r,{value:void 0}),He("invalid",t);break;case"textarea":vw(t,r),i=Om(t,r),He("invalid",t);break;default:i=r}Vm(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?zT(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&UT(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bl(t,l):typeof l=="number"&&Bl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&He("scroll",t):l!=null&&Bv(t,s,l,o))}switch(n){case"input":_c(t),gw(t,r,!1);break;case"textarea":_c(t),yw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ji(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Mo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Mo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Hh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)hI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(G(166));if(n=Is(eu.current),Is(Tr.current),Ac(e)){if(r=e.stateNode,n=e.memoizedProps,r[gr]=e,(s=r.nodeValue!==n)&&(t=kn,t!==null))switch(t.tag){case 3:Rc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gr]=e,e.stateNode=r}return Ft(e),null;case 13:if(Ke(Ze),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&Rn!==null&&e.mode&1&&!(e.flags&128))kS(),Zo(),e.flags|=98560,s=!1;else if(s=Ac(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[gr]=e}else Zo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),s=!1}else er!==null&&(yg(er),er=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ze.current&1?_t===0&&(_t=3):I0())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return ta(),cg(t,e),t===null&&Yl(e.stateNode.containerInfo),Ft(e),null;case 10:return l0(e.type._context),Ft(e),null;case 17:return gn(e.type)&&qh(),Ft(e),null;case 19:if(Ke(Ze),s=e.memoizedState,s===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)el(s,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zh(t),o!==null){for(e.flags|=128,el(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Fe(Ze,Ze.current&1|2),e.child}t=t.sibling}s.tail!==null&&ut()>ra&&(e.flags|=128,r=!0,el(s,!1),e.lanes=4194304)}else{if(!r)if(t=Zh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),el(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Qe)return Ft(e),null}else 2*ut()-s.renderingStartTime>ra&&n!==1073741824&&(e.flags|=128,r=!0,el(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ut(),e.sibling=null,n=Ze.current,Fe(Ze,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return S0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function sM(t,e){switch(i0(e),e.tag){case 1:return gn(e.type)&&qh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ta(),Ke(mn),Ke(Ht),f0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return d0(e),null;case 13:if(Ke(Ze),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));Zo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(Ze),null;case 4:return ta(),null;case 10:return l0(e.type._context),null;case 22:case 23:return S0(),null;case 24:return null;default:return null}}var bc=!1,zt=!1,oM=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function hg(t,e,n){try{n()}catch(r){ot(t,e,r)}}var a1=!1;function aM(t,e){if(Gm=zh,t=gS(),n0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var m;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(m=d.firstChild)!==null;)f=d,d=m;for(;;){if(d===t)break t;if(f===n&&++u===i&&(a=o),f===s&&++h===r&&(l=o),(m=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qm={focusedElem:t,selectionRange:n},zh=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var x=E.memoizedProps,I=E.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?x:Jn(e.type,x),I);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(R){ot(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return E=a1,a1=!1,E}function Al(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&hg(e,n,s)}i=i.next}while(i!==r)}}function _f(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function dg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dI(t){var e=t.alternate;e!==null&&(t.alternate=null,dI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gr],delete e[Jl],delete e[Jm],delete e[B2],delete e[W2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fI(t){return t.tag===5||t.tag===3||t.tag===4}function l1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hh));else if(r!==4&&(t=t.child,t!==null))for(fg(t,e,n),t=t.sibling;t!==null;)fg(t,e,n),t=t.sibling}function pg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pg(t,e,n),t=t.sibling;t!==null;)pg(t,e,n),t=t.sibling}var kt=null,Zn=!1;function _i(t,e,n){for(n=n.child;n!==null;)pI(t,e,n),n=n.sibling}function pI(t,e,n){if(xr&&typeof xr.onCommitFiberUnmount=="function")try{xr.onCommitFiberUnmount(hf,n)}catch{}switch(n.tag){case 5:zt||Ro(n,e);case 6:var r=kt,i=Zn;kt=null,_i(t,e,n),kt=r,Zn=i,kt!==null&&(Zn?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(Zn?(t=kt,n=n.stateNode,t.nodeType===8?Dp(t.parentNode,n):t.nodeType===1&&Dp(t,n),Kl(t)):Dp(kt,n.stateNode));break;case 4:r=kt,i=Zn,kt=n.stateNode.containerInfo,Zn=!0,_i(t,e,n),kt=r,Zn=i;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hg(n,e,o),i=i.next}while(i!==r)}_i(t,e,n);break;case 1:if(!zt&&(Ro(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,e,a)}_i(t,e,n);break;case 21:_i(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,_i(t,e,n),zt=r):_i(t,e,n);break;default:_i(t,e,n)}}function u1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oM),e.forEach(function(r){var i=gM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:kt=a.stateNode,Zn=!1;break e;case 3:kt=a.stateNode.containerInfo,Zn=!0;break e;case 4:kt=a.stateNode.containerInfo,Zn=!0;break e}a=a.return}if(kt===null)throw Error(G(160));pI(s,o,i),kt=null,Zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ot(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mI(e,t),e=e.sibling}function mI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),pr(t),r&4){try{Al(3,t,t.return),_f(3,t)}catch(x){ot(t,t.return,x)}try{Al(5,t,t.return)}catch(x){ot(t,t.return,x)}}break;case 1:Xn(e,t),pr(t),r&512&&n!==null&&Ro(n,n.return);break;case 5:if(Xn(e,t),pr(t),r&512&&n!==null&&Ro(n,n.return),t.flags&32){var i=t.stateNode;try{Bl(i,"")}catch(x){ot(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&VT(i,s),jm(a,o);var u=jm(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?zT(i,d):h==="dangerouslySetInnerHTML"?UT(i,d):h==="children"?Bl(i,d):Bv(i,h,d,u)}switch(a){case"input":Mm(i,s);break;case"textarea":jT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Mo(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Mo(i,!!s.multiple,s.defaultValue,!0):Mo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Jl]=s}catch(x){ot(t,t.return,x)}}break;case 6:if(Xn(e,t),pr(t),r&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){ot(t,t.return,x)}}break;case 3:if(Xn(e,t),pr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Kl(e.containerInfo)}catch(x){ot(t,t.return,x)}break;case 4:Xn(e,t),pr(t);break;case 13:Xn(e,t),pr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(x0=ut())),r&4&&u1(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(u=zt)||h,Xn(e,t),zt=u):Xn(e,t),pr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(ne=t,h=t.child;h!==null;){for(d=ne=h;ne!==null;){switch(f=ne,m=f.child,f.tag){case 0:case 11:case 14:case 15:Al(4,f,f.return);break;case 1:Ro(f,f.return);var E=f.stateNode;if(typeof E.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(x){ot(r,n,x)}}break;case 5:Ro(f,f.return);break;case 22:if(f.memoizedState!==null){h1(d);continue}}m!==null?(m.return=f,ne=m):h1(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$T("display",o))}catch(x){ot(t,t.return,x)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){ot(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xn(e,t),pr(t),r&4&&u1(t);break;case 21:break;default:Xn(e,t),pr(t)}}function pr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fI(n)){var r=n;break e}n=n.return}throw Error(G(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bl(i,""),r.flags&=-33);var s=l1(t);pg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=l1(t);fg(t,a,o);break;default:throw Error(G(161))}}catch(l){ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lM(t,e,n){ne=t,gI(t)}function gI(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||bc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||zt;a=bc;var u=zt;if(bc=o,(zt=l)&&!u)for(ne=i;ne!==null;)o=ne,l=o.child,o.tag===22&&o.memoizedState!==null?d1(i):l!==null?(l.return=o,ne=l):d1(i);for(;s!==null;)ne=s,gI(s),s=s.sibling;ne=i,bc=a,zt=u}c1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):c1(t)}}function c1(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||_f(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Gw(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Kl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}zt||e.flags&512&&dg(e)}catch(f){ot(e,e.return,f)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function h1(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function d1(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_f(4,e)}catch(l){ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ot(e,i,l)}}var s=e.return;try{dg(e)}catch(l){ot(e,s,l)}break;case 5:var o=e.return;try{dg(e)}catch(l){ot(e,o,l)}}}catch(l){ot(e,e.return,l)}if(e===t){ne=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ne=a;break}ne=e.return}}var uM=Math.ceil,nd=pi.ReactCurrentDispatcher,w0=pi.ReactCurrentOwner,zn=pi.ReactCurrentBatchConfig,Ae=0,St=null,ft=null,Mt=0,Sn=0,Ao=as(0),_t=0,iu=null,js=0,wf=0,E0=0,kl=null,un=null,x0=0,ra=1/0,Ur=null,rd=!1,mg=null,zi=null,Nc=!1,Di=null,id=0,Pl=0,gg=null,dh=-1,fh=0;function en(){return Ae&6?ut():dh!==-1?dh:dh=ut()}function Bi(t){return t.mode&1?Ae&2&&Mt!==0?Mt&-Mt:q2.transition!==null?(fh===0&&(fh=eS()),fh):(t=Me,t!==0||(t=window.event,t=t===void 0?16:aS(t.type)),t):1}function ar(t,e,n,r){if(50<Pl)throw Pl=0,gg=null,Error(G(185));bu(t,n,r),(!(Ae&2)||t!==St)&&(t===St&&(!(Ae&2)&&(wf|=n),_t===4&&ki(t,Mt)),vn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(ra=ut()+500,gf&&ls()))}function vn(t,e){var n=t.callbackNode;qN(t,e);var r=$h(t,t===St?Mt:0);if(r===0)n!==null&&Ew(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ew(n),e===1)t.tag===0?H2(f1.bind(null,t)):CS(f1.bind(null,t)),$2(function(){!(Ae&6)&&ls()}),n=null;else{switch(tS(r)){case 1:n=Gv;break;case 4:n=JT;break;case 16:n=Uh;break;case 536870912:n=ZT;break;default:n=Uh}n=SI(n,vI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vI(t,e){if(dh=-1,fh=0,Ae&6)throw Error(G(327));var n=t.callbackNode;if(jo()&&t.callbackNode!==n)return null;var r=$h(t,t===St?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=sd(t,r);else{e=r;var i=Ae;Ae|=2;var s=_I();(St!==t||Mt!==e)&&(Ur=null,ra=ut()+500,ks(t,e));do try{dM();break}catch(a){yI(t,a)}while(!0);a0(),nd.current=s,Ae=i,ft!==null?e=0:(St=null,Mt=0,e=_t)}if(e!==0){if(e===2&&(i=Bm(t),i!==0&&(r=i,e=vg(t,i))),e===1)throw n=iu,ks(t,0),ki(t,r),vn(t,ut()),n;if(e===6)ki(t,r);else{if(i=t.current.alternate,!(r&30)&&!cM(i)&&(e=sd(t,r),e===2&&(s=Bm(t),s!==0&&(r=s,e=vg(t,s))),e===1))throw n=iu,ks(t,0),ki(t,r),vn(t,ut()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(G(345));case 2:ws(t,un,Ur);break;case 3:if(ki(t,r),(r&130023424)===r&&(e=x0+500-ut(),10<e)){if($h(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){en(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Xm(ws.bind(null,t,un,Ur),e);break}ws(t,un,Ur);break;case 4:if(ki(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-or(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uM(r/1960))-r,10<r){t.timeoutHandle=Xm(ws.bind(null,t,un,Ur),r);break}ws(t,un,Ur);break;case 5:ws(t,un,Ur);break;default:throw Error(G(329))}}}return vn(t,ut()),t.callbackNode===n?vI.bind(null,t):null}function vg(t,e){var n=kl;return t.current.memoizedState.isDehydrated&&(ks(t,e).flags|=256),t=sd(t,e),t!==2&&(e=un,un=n,e!==null&&yg(e)),t}function yg(t){un===null?un=t:un.push.apply(un,t)}function cM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ur(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ki(t,e){for(e&=~E0,e&=~wf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-or(e),r=1<<n;t[n]=-1,e&=~r}}function f1(t){if(Ae&6)throw Error(G(327));jo();var e=$h(t,0);if(!(e&1))return vn(t,ut()),null;var n=sd(t,e);if(t.tag!==0&&n===2){var r=Bm(t);r!==0&&(e=r,n=vg(t,r))}if(n===1)throw n=iu,ks(t,0),ki(t,e),vn(t,ut()),n;if(n===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ws(t,un,Ur),vn(t,ut()),null}function T0(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(ra=ut()+500,gf&&ls())}}function Fs(t){Di!==null&&Di.tag===0&&!(Ae&6)&&jo();var e=Ae;Ae|=1;var n=zn.transition,r=Me;try{if(zn.transition=null,Me=1,t)return t()}finally{Me=r,zn.transition=n,Ae=e,!(Ae&6)&&ls()}}function S0(){Sn=Ao.current,Ke(Ao)}function ks(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,U2(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(i0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qh();break;case 3:ta(),Ke(mn),Ke(Ht),f0();break;case 5:d0(r);break;case 4:ta();break;case 13:Ke(Ze);break;case 19:Ke(Ze);break;case 10:l0(r.type._context);break;case 22:case 23:S0()}n=n.return}if(St=t,ft=t=Wi(t.current,null),Mt=Sn=e,_t=0,iu=null,E0=wf=js=0,un=kl=null,Ss!==null){for(e=0;e<Ss.length;e++)if(n=Ss[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ss=null}return t}function yI(t,e){do{var n=ft;try{if(a0(),uh.current=td,ed){for(var r=tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ed=!1}if(Vs=0,Tt=vt=tt=null,Rl=!1,tu=0,w0.current=null,n===null||n.return===null){_t=1,iu=e,ft=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=e1(o);if(m!==null){m.flags&=-257,t1(m,o,a,s,e),m.mode&1&&Zw(s,u,e),e=m,l=u;var E=e.updateQueue;if(E===null){var x=new Set;x.add(l),e.updateQueue=x}else E.add(l);break e}else{if(!(e&1)){Zw(s,u,e),I0();break e}l=Error(G(426))}}else if(Qe&&a.mode&1){var I=e1(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),t1(I,o,a,s,e),s0(na(l,a));break e}}s=l=na(l,a),_t!==4&&(_t=2),kl===null?kl=[s]:kl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=tI(s,l,e);Kw(s,_);break e;case 1:a=l;var w=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(zi===null||!zi.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=nI(s,a,e);Kw(s,R);break e}}s=s.return}while(s!==null)}EI(n)}catch(D){e=D,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(!0)}function _I(){var t=nd.current;return nd.current=td,t===null?td:t}function I0(){(_t===0||_t===3||_t===2)&&(_t=4),St===null||!(js&268435455)&&!(wf&268435455)||ki(St,Mt)}function sd(t,e){var n=Ae;Ae|=2;var r=_I();(St!==t||Mt!==e)&&(Ur=null,ks(t,e));do try{hM();break}catch(i){yI(t,i)}while(!0);if(a0(),Ae=n,nd.current=r,ft!==null)throw Error(G(261));return St=null,Mt=0,_t}function hM(){for(;ft!==null;)wI(ft)}function dM(){for(;ft!==null&&!VN();)wI(ft)}function wI(t){var e=TI(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,e===null?EI(t):ft=e,w0.current=null}function EI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sM(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ft=null;return}}else if(n=iM(n,e,Sn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);_t===0&&(_t=5)}function ws(t,e,n){var r=Me,i=zn.transition;try{zn.transition=null,Me=1,fM(t,e,n,r)}finally{zn.transition=i,Me=r}return null}function fM(t,e,n,r){do jo();while(Di!==null);if(Ae&6)throw Error(G(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(KN(t,s),t===St&&(ft=St=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Nc||(Nc=!0,SI(Uh,function(){return jo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zn.transition,zn.transition=null;var o=Me;Me=1;var a=Ae;Ae|=4,w0.current=null,aM(t,n),mI(n,t),M2(Qm),zh=!!Gm,Qm=Gm=null,t.current=n,lM(n),jN(),Ae=a,Me=o,zn.transition=s}else t.current=n;if(Nc&&(Nc=!1,Di=t,id=i),s=t.pendingLanes,s===0&&(zi=null),$N(n.stateNode),vn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rd)throw rd=!1,t=mg,mg=null,t;return id&1&&t.tag!==0&&jo(),s=t.pendingLanes,s&1?t===gg?Pl++:(Pl=0,gg=t):Pl=0,ls(),null}function jo(){if(Di!==null){var t=tS(id),e=zn.transition,n=Me;try{if(zn.transition=null,Me=16>t?16:t,Di===null)var r=!1;else{if(t=Di,Di=null,id=0,Ae&6)throw Error(G(331));var i=Ae;for(Ae|=4,ne=t.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ne=u;ne!==null;){var h=ne;switch(h.tag){case 0:case 11:case 15:Al(8,h,s)}var d=h.child;if(d!==null)d.return=h,ne=d;else for(;ne!==null;){h=ne;var f=h.sibling,m=h.return;if(dI(h),h===u){ne=null;break}if(f!==null){f.return=m,ne=f;break}ne=m}}}var E=s.alternate;if(E!==null){var x=E.child;if(x!==null){E.child=null;do{var I=x.sibling;x.sibling=null,x=I}while(x!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Al(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,ne=_;break e}ne=s.return}}var w=t.current;for(ne=w;ne!==null;){o=ne;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,ne=y;else e:for(o=w;ne!==null;){if(a=ne,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_f(9,a)}}catch(D){ot(a,a.return,D)}if(a===o){ne=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,ne=R;break e}ne=a.return}}if(Ae=i,ls(),xr&&typeof xr.onPostCommitFiberRoot=="function")try{xr.onPostCommitFiberRoot(hf,t)}catch{}r=!0}return r}finally{Me=n,zn.transition=e}}return!1}function p1(t,e,n){e=na(n,e),e=tI(t,e,1),t=$i(t,e,1),e=en(),t!==null&&(bu(t,1,e),vn(t,e))}function ot(t,e,n){if(t.tag===3)p1(t,t,n);else for(;e!==null;){if(e.tag===3){p1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zi===null||!zi.has(r))){t=na(n,t),t=nI(e,t,1),e=$i(e,t,1),t=en(),e!==null&&(bu(e,1,t),vn(e,t));break}}e=e.return}}function pM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,St===t&&(Mt&n)===n&&(_t===4||_t===3&&(Mt&130023424)===Mt&&500>ut()-x0?ks(t,0):E0|=n),vn(t,e)}function xI(t,e){e===0&&(t.mode&1?(e=xc,xc<<=1,!(xc&130023424)&&(xc=4194304)):e=1);var n=en();t=si(t,e),t!==null&&(bu(t,e,n),vn(t,n))}function mM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xI(t,n)}function gM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(G(314))}r!==null&&r.delete(e),xI(t,n)}var TI;TI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,rM(t,e,n);fn=!!(t.flags&131072)}else fn=!1,Qe&&e.flags&1048576&&RS(e,Qh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hh(t,e),t=e.pendingProps;var i=Jo(e,Ht.current);Vo(e,n),i=m0(null,e,r,t,i,n);var s=g0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(s=!0,Kh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,c0(e),i.updater=yf,e.stateNode=i,i._reactInternals=e,ig(e,r,t,n),e=ag(null,e,r,!0,s,n)):(e.tag=0,Qe&&s&&r0(e),Yt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=yM(r),t=Jn(r,t),i){case 0:e=og(null,e,r,t,n);break e;case 1:e=i1(null,e,r,t,n);break e;case 11:e=n1(null,e,r,t,n);break e;case 14:e=r1(null,e,r,Jn(r.type,t),n);break e}throw Error(G(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),og(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),i1(t,e,r,i,n);case 3:e:{if(oI(e),t===null)throw Error(G(387));r=e.pendingProps,s=e.memoizedState,i=s.element,MS(t,e),Jh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=na(Error(G(423)),e),e=s1(t,e,r,n,i);break e}else if(r!==i){i=na(Error(G(424)),e),e=s1(t,e,r,n,i);break e}else for(Rn=Ui(e.stateNode.containerInfo.firstChild),kn=e,Qe=!0,er=null,n=bS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zo(),r===i){e=oi(t,e,n);break e}Yt(t,e,r,n)}e=e.child}return e;case 5:return DS(e),t===null&&tg(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ym(r,i)?o=null:s!==null&&Ym(r,s)&&(e.flags|=32),sI(t,e),Yt(t,e,o,n),e.child;case 6:return t===null&&tg(e),null;case 13:return aI(t,e,n);case 4:return h0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ea(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),n1(t,e,r,i,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Fe(Yh,r._currentValue),r._currentValue=o,s!==null)if(ur(s.value,o)){if(s.children===i.children&&!mn.current){e=oi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Zr(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ng(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ng(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Yt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vo(e,n),i=Bn(i),r=r(i),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return r=e.type,i=Jn(r,e.pendingProps),i=Jn(r.type,i),r1(t,e,r,i,n);case 15:return rI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jn(r,i),hh(t,e),e.tag=1,gn(r)?(t=!0,Kh(e)):t=!1,Vo(e,n),eI(e,r,i),ig(e,r,i,n),ag(null,e,r,!0,t,n);case 19:return lI(t,e,n);case 22:return iI(t,e,n)}throw Error(G(156,e.tag))};function SI(t,e){return XT(t,e)}function vM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,n,r){return new vM(t,e,n,r)}function C0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function yM(t){if(typeof t=="function")return C0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hv)return 11;if(t===qv)return 14}return 2}function Wi(t,e){var n=t.alternate;return n===null?(n=Un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ph(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")C0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yo:return Ps(n.children,i,s,e);case Wv:o=8,i|=8;break;case Am:return t=Un(12,n,e,i|2),t.elementType=Am,t.lanes=s,t;case km:return t=Un(13,n,e,i),t.elementType=km,t.lanes=s,t;case Pm:return t=Un(19,n,e,i),t.elementType=Pm,t.lanes=s,t;case DT:return Ef(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case NT:o=10;break e;case MT:o=9;break e;case Hv:o=11;break e;case qv:o=14;break e;case Si:o=16,r=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=Un(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ps(t,e,n,r){return t=Un(7,t,r,e),t.lanes=n,t}function Ef(t,e,n,r){return t=Un(22,t,r,e),t.elementType=DT,t.lanes=n,t.stateNode={isHidden:!1},t}function zp(t,e,n){return t=Un(6,t,null,e),t.lanes=n,t}function Bp(t,e,n){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _M(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tp(0),this.expirationTimes=Tp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function R0(t,e,n,r,i,s,o,a,l){return t=new _M(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Un(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},c0(s),t}function wM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function II(t){if(!t)return Zi;t=t._reactInternals;e:{if(Qs(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var n=t.type;if(gn(n))return IS(t,n,e)}return e}function CI(t,e,n,r,i,s,o,a,l){return t=R0(n,r,!0,t,i,s,o,a,l),t.context=II(null),n=t.current,r=en(),i=Bi(n),s=Zr(r,i),s.callback=e??null,$i(n,s,i),t.current.lanes=i,bu(t,i,r),vn(t,r),t}function xf(t,e,n,r){var i=e.current,s=en(),o=Bi(i);return n=II(n),e.context===null?e.context=n:e.pendingContext=n,e=Zr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=$i(i,e,o),t!==null&&(ar(t,i,o,s),lh(t,i,o)),o}function od(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function A0(t,e){m1(t,e),(t=t.alternate)&&m1(t,e)}function EM(){return null}var RI=typeof reportError=="function"?reportError:function(t){console.error(t)};function k0(t){this._internalRoot=t}Tf.prototype.render=k0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));xf(t,e,null,null)};Tf.prototype.unmount=k0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fs(function(){xf(null,t,null,null)}),e[ii]=null}};function Tf(t){this._internalRoot=t}Tf.prototype.unstable_scheduleHydration=function(t){if(t){var e=iS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ai.length&&e!==0&&e<Ai[n].priority;n++);Ai.splice(n,0,t),n===0&&oS(t)}};function P0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g1(){}function xM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=od(o);s.call(u)}}var o=CI(e,r,t,0,null,!1,!1,"",g1);return t._reactRootContainer=o,t[ii]=o.current,Yl(t.nodeType===8?t.parentNode:t),Fs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=od(l);a.call(u)}}var l=R0(t,0,!1,null,null,!1,!1,"",g1);return t._reactRootContainer=l,t[ii]=l.current,Yl(t.nodeType===8?t.parentNode:t),Fs(function(){xf(e,l,n,r)}),l}function If(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=od(o);a.call(l)}}xf(e,o,t,i)}else o=xM(n,e,t,i,r);return od(o)}nS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ll(e.pendingLanes);n!==0&&(Qv(e,n|1),vn(e,ut()),!(Ae&6)&&(ra=ut()+500,ls()))}break;case 13:Fs(function(){var r=si(t,1);if(r!==null){var i=en();ar(r,t,1,i)}}),A0(t,1)}};Yv=function(t){if(t.tag===13){var e=si(t,134217728);if(e!==null){var n=en();ar(e,t,134217728,n)}A0(t,134217728)}};rS=function(t){if(t.tag===13){var e=Bi(t),n=si(t,e);if(n!==null){var r=en();ar(n,t,e,r)}A0(t,e)}};iS=function(){return Me};sS=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};Um=function(t,e,n){switch(e){case"input":if(Mm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mf(r);if(!i)throw Error(G(90));LT(r),Mm(r,i)}}}break;case"textarea":jT(t,n);break;case"select":e=n.value,e!=null&&Mo(t,!!n.multiple,e,!1)}};HT=T0;qT=Fs;var TM={usingClientEntryPoint:!1,Events:[Mu,xo,mf,BT,WT,T0]},tl={findFiberByHostInstance:Ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SM={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=QT(t),t===null?null:t.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||EM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{hf=Mc.inject(SM),xr=Mc}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TM;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P0(e))throw Error(G(200));return wM(t,e,null,n)};Nn.createRoot=function(t,e){if(!P0(t))throw Error(G(299));var n=!1,r="",i=RI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=R0(t,1,!1,null,null,n,!1,r,i),t[ii]=e.current,Yl(t.nodeType===8?t.parentNode:t),new k0(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=QT(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return Fs(t)};Nn.hydrate=function(t,e,n){if(!Sf(e))throw Error(G(200));return If(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!P0(t))throw Error(G(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=RI;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=CI(e,null,t,1,n??null,i,!1,s,o),t[ii]=e.current,Yl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Tf(e)};Nn.render=function(t,e,n){if(!Sf(e))throw Error(G(200));return If(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!Sf(t))throw Error(G(40));return t._reactRootContainer?(Fs(function(){If(null,null,t,!1,function(){t._reactRootContainer=null,t[ii]=null})}),!0):!1};Nn.unstable_batchedUpdates=T0;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sf(n))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return If(t,e,n,!1,r)};Nn.version="18.3.1-next-f1338f8080-20240426";function AI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AI)}catch(t){console.error(t)}}AI(),AT.exports=Nn;var Cf=AT.exports;const IM=uf(Cf);var kI,v1=Cf;kI=v1.createRoot,v1.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},su.apply(this,arguments)}var Oi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oi||(Oi={}));const y1="popstate";function CM(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return _g("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ad(i)}return AM(e,n,null,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function RM(){return Math.random().toString(36).substr(2,8)}function _1(t,e){return{usr:t.state,key:t.key,idx:e}}function _g(t,e,n,r){return n===void 0&&(n=null),su({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ta(e):e,{state:n,key:e&&e.key||r||RM()})}function ad(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ta(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function AM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Oi.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(su({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=Oi.Pop;let I=h(),_=I==null?null:I-u;u=I,l&&l({action:a,location:x.location,delta:_})}function f(I,_){a=Oi.Push;let w=_g(x.location,I,_);u=h()+1;let y=_1(w,u),R=x.createHref(w);try{o.pushState(y,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(R)}s&&l&&l({action:a,location:x.location,delta:1})}function m(I,_){a=Oi.Replace;let w=_g(x.location,I,_);u=h();let y=_1(w,u),R=x.createHref(w);o.replaceState(y,"",R),s&&l&&l({action:a,location:x.location,delta:0})}function E(I){let _=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof I=="string"?I:ad(I);return w=w.replace(/ $/,"%20"),ct(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let x={get action(){return a},get location(){return t(i,o)},listen(I){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(y1,d),l=I,()=>{i.removeEventListener(y1,d),l=null}},createHref(I){return e(i,I)},createURL:E,encodeLocation(I){let _=E(I);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:m,go(I){return o.go(I)}};return x}var w1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(w1||(w1={}));function kM(t,e,n){return n===void 0&&(n="/"),PM(t,e,n,!1)}function PM(t,e,n,r){let i=typeof e=="string"?Ta(e):e,s=b0(i.pathname||"/",n);if(s==null)return null;let o=bI(t);bM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=zM(s);a=UM(o[l],u,r)}return a}function bI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Hi([r,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(ct(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bI(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:jM(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of NI(s.path))i(s,o,l)}),e}function NI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=NI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function bM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:FM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const NM=/^:[\w-]+$/,MM=3,DM=2,OM=1,LM=10,VM=-2,E1=t=>t==="*";function jM(t,e){let n=t.split("/"),r=n.length;return n.some(E1)&&(r+=VM),e&&(r+=DM),n.filter(i=>!E1(i)).reduce((i,s)=>i+(NM.test(s)?MM:s===""?OM:LM),r)}function FM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function UM(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=x1({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=x1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Hi([s,d.pathname]),pathnameBase:qM(Hi([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Hi([s,d.pathnameBase]))}return o}function x1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$M(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,d)=>{let{paramName:f,isOptional:m}=h;if(f==="*"){let x=a[d]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const E=a[d];return m&&!E?u[f]=void 0:u[f]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function $M(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),PI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function b0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function BM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ta(t):t;return{pathname:n?n.startsWith("/")?n:WM(n,e):e,search:KM(r),hash:GM(i)}}function WM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Wp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function HM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function N0(t,e){let n=HM(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function M0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ta(t):(i=su({},t),ct(!i.pathname||!i.pathname.includes("?"),Wp("?","pathname","search",i)),ct(!i.pathname||!i.pathname.includes("#"),Wp("#","pathname","hash",i)),ct(!i.search||!i.search.includes("#"),Wp("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=BM(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const Hi=t=>t.join("/").replace(/\/\/+/g,"/"),qM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),KM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,GM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function QM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const MI=["post","put","patch","delete"];new Set(MI);const YM=["get",...MI];new Set(YM);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ou.apply(this,arguments)}const D0=C.createContext(null),XM=C.createContext(null),us=C.createContext(null),Rf=C.createContext(null),cs=C.createContext({outlet:null,matches:[],isDataRoute:!1}),DI=C.createContext(null);function JM(t,e){let{relative:n}=e===void 0?{}:e;Sa()||ct(!1);let{basename:r,navigator:i}=C.useContext(us),{hash:s,pathname:o,search:a}=LI(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Hi([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Sa(){return C.useContext(Rf)!=null}function Ou(){return Sa()||ct(!1),C.useContext(Rf).location}function OI(t){C.useContext(us).static||C.useLayoutEffect(t)}function O0(){let{isDataRoute:t}=C.useContext(cs);return t?hD():ZM()}function ZM(){Sa()||ct(!1);let t=C.useContext(D0),{basename:e,future:n,navigator:r}=C.useContext(us),{matches:i}=C.useContext(cs),{pathname:s}=Ou(),o=JSON.stringify(N0(i,n.v7_relativeSplatPath)),a=C.useRef(!1);return OI(()=>{a.current=!0}),C.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=M0(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Hi([e,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[e,r,o,s,t])}function LI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=C.useContext(us),{matches:i}=C.useContext(cs),{pathname:s}=Ou(),o=JSON.stringify(N0(i,r.v7_relativeSplatPath));return C.useMemo(()=>M0(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function eD(t,e){return tD(t,e)}function tD(t,e,n,r){Sa()||ct(!1);let{navigator:i}=C.useContext(us),{matches:s}=C.useContext(cs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ou(),h;if(e){var d;let I=typeof e=="string"?Ta(e):e;l==="/"||(d=I.pathname)!=null&&d.startsWith(l)||ct(!1),h=I}else h=u;let f=h.pathname||"/",m=f;if(l!=="/"){let I=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(I.length).join("/")}let E=kM(t,{pathname:m}),x=oD(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},a,I.params),pathname:Hi([l,i.encodeLocation?i.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?l:Hi([l,i.encodeLocation?i.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),s,n,r);return e&&x?C.createElement(Rf.Provider,{value:{location:ou({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Oi.Pop}},x):x}function nD(){let t=cD(),e=QM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:i},n):null,null)}const rD=C.createElement(nD,null);class iD extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?C.createElement(cs.Provider,{value:this.props.routeContext},C.createElement(DI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sD(t){let{routeContext:e,match:n,children:r}=t,i=C.useContext(D0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(cs.Provider,{value:e},r)}function oD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||ct(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:m}=n,E=d.route.loader&&f[d.route.id]===void 0&&(!m||m[d.route.id]===void 0);if(d.route.lazy||E){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let m,E=!1,x=null,I=null;n&&(m=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||rD,l&&(u<0&&f===0?(E=!0,I=null):u===f&&(E=!0,I=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),w=()=>{let y;return m?y=x:E?y=I:d.route.Component?y=C.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=h,C.createElement(sD,{match:d,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?C.createElement(iD,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var VI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(VI||{}),ld=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ld||{});function aD(t){let e=C.useContext(D0);return e||ct(!1),e}function lD(t){let e=C.useContext(XM);return e||ct(!1),e}function uD(t){let e=C.useContext(cs);return e||ct(!1),e}function jI(t){let e=uD(),n=e.matches[e.matches.length-1];return n.route.id||ct(!1),n.route.id}function cD(){var t;let e=C.useContext(DI),n=lD(ld.UseRouteError),r=jI(ld.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function hD(){let{router:t}=aD(VI.UseNavigateStable),e=jI(ld.UseNavigateStable),n=C.useRef(!1);return OI(()=>{n.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ou({fromRouteId:e},s)))},[t,e])}function dD(t){let{to:e,replace:n,state:r,relative:i}=t;Sa()||ct(!1);let{future:s,static:o}=C.useContext(us),{matches:a}=C.useContext(cs),{pathname:l}=Ou(),u=O0(),h=M0(e,N0(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(h);return C.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function Fr(t){ct(!1)}function fD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Oi.Pop,navigator:s,static:o=!1,future:a}=t;Sa()&&ct(!1);let l=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:l,navigator:s,static:o,future:ou({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Ta(r));let{pathname:h="/",search:d="",hash:f="",state:m=null,key:E="default"}=r,x=C.useMemo(()=>{let I=b0(h,l);return I==null?null:{location:{pathname:I,search:d,hash:f,state:m,key:E},navigationType:i}},[l,h,d,f,m,E,i]);return x==null?null:C.createElement(us.Provider,{value:u},C.createElement(Rf.Provider,{children:n,value:x}))}function pD(t){let{children:e,location:n}=t;return eD(wg(e),n)}new Promise(()=>{});function wg(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,i)=>{if(!C.isValidElement(r))return;let s=[...e,i];if(r.type===C.Fragment){n.push.apply(n,wg(r.props.children,s));return}r.type!==Fr&&ct(!1),!r.props.index||!r.props.children||ct(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=wg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(this,arguments)}function mD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vD(t,e){return t.button===0&&(!e||e==="_self")&&!gD(t)}const yD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_D="6";try{window.__reactRouterVersion=_D}catch{}const wD="startTransition",T1=pN[wD];function ED(t){let{basename:e,children:n,future:r,window:i}=t,s=C.useRef();s.current==null&&(s.current=CM({window:i,v5Compat:!0}));let o=s.current,[a,l]=C.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=C.useCallback(d=>{u&&T1?T1(()=>l(d)):l(d)},[l,u]);return C.useLayoutEffect(()=>o.listen(h),[o,h]),C.createElement(fD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const xD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oo=C.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:d}=e,f=mD(e,yD),{basename:m}=C.useContext(us),E,x=!1;if(typeof u=="string"&&TD.test(u)&&(E=u,xD))try{let y=new URL(window.location.href),R=u.startsWith("//")?new URL(y.protocol+u):new URL(u),D=b0(R.pathname,m);R.origin===y.origin&&D!=null?u=D+R.search+R.hash:x=!0}catch{}let I=JM(u,{relative:i}),_=SD(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:i,viewTransition:d});function w(y){r&&r(y),y.defaultPrevented||_(y)}return C.createElement("a",Eg({},f,{href:E||I,onClick:x||s?r:w,ref:n,target:l}))});var S1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(S1||(S1={}));var I1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(I1||(I1={}));function SD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=O0(),u=Ou(),h=LI(t,{relative:o});return C.useCallback(d=>{if(vD(d,n)){d.preventDefault();let f=r!==void 0?r:ad(u)===ad(h);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,h,r,i,n,t,s,o,a])}function FI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ID(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FI(t))&&(r&&(r+=" "),r+=e);return r}const L0="-",CD=t=>{const e=AD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(L0);return a[0]===""&&a.length!==1&&a.shift(),UI(a,e)||RD(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},UI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?UI(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(L0);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},C1=/^\[(.+)\]$/,RD=t=>{if(C1.test(t)){const e=C1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},AD=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return PD(Object.entries(t.classGroups),n).forEach(([s,o])=>{xg(o,r,s,e)}),r},xg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:R1(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(kD(i)){xg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{xg(o,R1(e,s),n,r)})})},R1=(t,e)=>{let n=t;return e.split(L0).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},kD=t=>t.isThemeGetter,PD=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,bD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},$I="!",ND=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let u=0,h=0,d;for(let I=0;I<a.length;I++){let _=a[I];if(u===0){if(_===i&&(r||a.slice(I,I+s)===e)){l.push(a.slice(h,I)),h=I+s;continue}if(_==="/"){d=I;continue}}_==="["?u++:_==="]"&&u--}const f=l.length===0?a:a.substring(h),m=f.startsWith($I),E=m?f.substring(1):f,x=d&&d>h?d-h:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:E,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},MD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},DD=t=>({cache:bD(t.cacheSize),parseClassName:ND(t),...CD(t)}),OD=/\s+/,LD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(OD);let a="";for(let l=o.length-1;l>=0;l-=1){const u=o[l],{modifiers:h,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:m}=n(u);let E=!!m,x=r(E?f.substring(0,m):f);if(!x){if(!E){a=u+(a.length>0?" "+a:a);continue}if(x=r(f),!x){a=u+(a.length>0?" "+a:a);continue}E=!1}const I=MD(h).join(":"),_=d?I+$I:I,w=_+x;if(s.includes(w))continue;s.push(w);const y=i(x,E);for(let R=0;R<y.length;++R){const D=y[R];s.push(_+D)}a=u+(a.length>0?" "+a:a)}return a};function VD(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=zI(e))&&(r&&(r+=" "),r+=n);return r}const zI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=zI(t[r]))&&(n&&(n+=" "),n+=e);return n};function jD(t,...e){let n,r,i,s=o;function o(l){const u=e.reduce((h,d)=>d(h),t());return n=DD(u),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const u=r(l);if(u)return u;const h=LD(l,n);return i(l,h),h}return function(){return s(VD.apply(null,arguments))}}const We=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},BI=/^\[(?:([a-z-]+):)?(.+)\]$/i,FD=/^\d+\/\d+$/,UD=new Set(["px","full","screen"]),$D=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,WD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jr=t=>Fo(t)||UD.has(t)||FD.test(t),wi=t=>Ia(t,"length",ZD),Fo=t=>!!t&&!Number.isNaN(Number(t)),Hp=t=>Ia(t,"number",Fo),nl=t=>!!t&&Number.isInteger(Number(t)),qD=t=>t.endsWith("%")&&Fo(t.slice(0,-1)),ve=t=>BI.test(t),Ei=t=>$D.test(t),KD=new Set(["length","size","percentage"]),GD=t=>Ia(t,KD,WI),QD=t=>Ia(t,"position",WI),YD=new Set(["image","url"]),XD=t=>Ia(t,YD,tO),JD=t=>Ia(t,"",eO),rl=()=>!0,Ia=(t,e,n)=>{const r=BI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},ZD=t=>zD.test(t)&&!BD.test(t),WI=()=>!1,eO=t=>WD.test(t),tO=t=>HD.test(t),nO=()=>{const t=We("colors"),e=We("spacing"),n=We("blur"),r=We("brightness"),i=We("borderColor"),s=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),l=We("contrast"),u=We("grayscale"),h=We("hueRotate"),d=We("invert"),f=We("gap"),m=We("gradientColorStops"),E=We("gradientColorStopPositions"),x=We("inset"),I=We("margin"),_=We("opacity"),w=We("padding"),y=We("saturate"),R=We("scale"),D=We("sepia"),L=We("skew"),A=We("space"),g=We("translate"),T=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",ve,e],M=()=>[ve,e],b=()=>["",jr,wi],O=()=>["auto",Fo,ve],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",ve],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Fo,ve];return{cacheSize:500,separator:":",theme:{colors:[rl],spacing:[jr,wi],blur:["none","",Ei,ve],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Ei,ve],borderSpacing:M(),borderWidth:b(),contrast:Q(),grayscale:F(),hueRotate:Q(),invert:F(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[qD,wi],inset:P(),margin:P(),opacity:Q(),padding:M(),saturate:Q(),scale:Q(),sepia:F(),skew:Q(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[Ei]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),ve]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nl,ve]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",nl,ve]}],"grid-cols":[{"grid-cols":[rl]}],"col-start-end":[{col:["auto",{span:["full",nl,ve]},ve]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[rl]}],"row-start-end":[{row:["auto",{span:[nl,ve]},ve]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,e]}],"min-w":[{"min-w":[ve,e,"min","max","fit"]}],"max-w":[{"max-w":[ve,e,"none","full","min","max","fit","prose",{screen:[Ei]},Ei]}],h:[{h:[ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ei,wi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hp]}],"font-family":[{font:[rl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",Fo,Hp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",jr,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",jr,wi]}],"underline-offset":[{"underline-offset":["auto",jr,ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),QD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},XD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[E]}],"gradient-via-pos":[{via:[E]}],"gradient-to-pos":[{to:[E]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:j()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[jr,ve]}],"outline-w":[{outline:[jr,wi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:b()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[jr,wi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ei,JD]}],"shadow-color":[{shadow:[rl]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ei,ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[nl,ve]}],"translate-x":[{"translate-x":[g]}],"translate-y":[{"translate-y":[g]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[jr,wi,Hp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},rO=jD(nO);function Pe(...t){return rO(ID(t))}const pt=C.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Pe("rounded-xl border bg-card text-card-foreground shadow",t),...e}));pt.displayName="Card";const hn=C.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Pe("flex flex-col space-y-1.5 p-6",t),...e}));hn.displayName="CardHeader";const dn=C.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Pe("font-semibold leading-none tracking-tight",t),...e}));dn.displayName="CardTitle";const es=C.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Pe("text-sm text-muted-foreground",t),...e}));es.displayName="CardDescription";const mt=C.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Pe("p-6 pt-0",t),...e}));mt.displayName="CardContent";const iO=C.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Pe("flex items-center p-6 pt-0",t),...e}));iO.displayName="CardFooter";var A1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sO=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},qI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(f=64)),r.push(n[h],n[d],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sO(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new oO;const f=s<<2|a>>4;if(r.push(f),u!==64){const m=a<<4&240|u>>2;if(r.push(m),d!==64){const E=u<<6&192|d;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aO=function(t){const e=HI(t);return qI.encodeByteArray(e,!0)},ud=function(t){return aO(t).replace(/\./g,"")},KI=function(t){try{return qI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=()=>lO().__FIREBASE_DEFAULTS__,cO=()=>{if(typeof process>"u"||typeof A1>"u")return;const t=A1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hO=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KI(t[1]);return e&&JSON.parse(e)},Af=()=>{try{return uO()||cO()||hO()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GI=t=>{var e,n;return(n=(e=Af())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dO=t=>{const e=GI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QI=()=>{var t;return(t=Af())===null||t===void 0?void 0:t.config},YI=t=>{var e;return(e=Af())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ud(JSON.stringify(n)),ud(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function gO(){var t;const e=(t=Af())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _O(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wO(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EO(){return!gO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xO(){try{return typeof indexedDB=="object"}catch{return!1}}function TO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=SO,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?IO(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new mi(i,a,r)}}function IO(t,e){return t.replace(CO,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const CO=/\{\$([^}]+)}/g;function RO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(k1(s)&&k1(o)){if(!cd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function k1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function AO(t,e){const n=new kO(t,e);return n.subscribe.bind(n)}class kO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");PO(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qp),i.error===void 0&&(i.error=qp),i.complete===void 0&&(i.complete=qp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t){return t&&t._delegate?t._delegate:t}class Us{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bO=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new fO;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MO(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function NO(t){return t===Es?void 0:t}function MO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new bO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(we||(we={}));const OO={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},LO=we.INFO,VO={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},jO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=VO[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class V0{constructor(e){this.name=e,this._logLevel=LO,this._logHandler=jO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}}const FO=(t,e)=>e.some(n=>t instanceof n);let P1,b1;function UO(){return P1||(P1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $O(){return b1||(b1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XI=new WeakMap,Tg=new WeakMap,JI=new WeakMap,Kp=new WeakMap,j0=new WeakMap;function zO(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XI.set(n,t)}).catch(()=>{}),j0.set(e,t),e}function BO(t){if(Tg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Tg.set(t,e)}let Sg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Tg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WO(t){Sg=t(Sg)}function HO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gp(this),e,...n);return JI.set(r,e.sort?e.sort():[e]),qi(r)}:$O().includes(t)?function(...e){return t.apply(Gp(this),e),qi(XI.get(this))}:function(...e){return qi(t.apply(Gp(this),e))}}function qO(t){return typeof t=="function"?HO(t):(t instanceof IDBTransaction&&BO(t),FO(t,UO())?new Proxy(t,Sg):t)}function qi(t){if(t instanceof IDBRequest)return zO(t);if(Kp.has(t))return Kp.get(t);const e=qO(t);return e!==t&&(Kp.set(t,e),j0.set(e,t)),e}const Gp=t=>j0.get(t);function KO(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(qi(o.result),l.oldVersion,l.newVersion,qi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const GO=["get","getKey","getAll","getAllKeys","count"],QO=["put","add","delete","clear"],Qp=new Map;function N1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qp.get(e))return Qp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=QO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||GO.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Qp.set(e,s),s}WO(t=>({...t,get:(e,n,r)=>N1(e,n)||t.get(e,n,r),has:(e,n)=>!!N1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ig="@firebase/app",M1="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai=new V0("@firebase/app"),JO="@firebase/app-compat",ZO="@firebase/analytics-compat",eL="@firebase/analytics",tL="@firebase/app-check-compat",nL="@firebase/app-check",rL="@firebase/auth",iL="@firebase/auth-compat",sL="@firebase/database",oL="@firebase/data-connect",aL="@firebase/database-compat",lL="@firebase/functions",uL="@firebase/functions-compat",cL="@firebase/installations",hL="@firebase/installations-compat",dL="@firebase/messaging",fL="@firebase/messaging-compat",pL="@firebase/performance",mL="@firebase/performance-compat",gL="@firebase/remote-config",vL="@firebase/remote-config-compat",yL="@firebase/storage",_L="@firebase/storage-compat",wL="@firebase/firestore",EL="@firebase/vertexai",xL="@firebase/firestore-compat",TL="firebase",SL="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="[DEFAULT]",IL={[Ig]:"fire-core",[JO]:"fire-core-compat",[eL]:"fire-analytics",[ZO]:"fire-analytics-compat",[nL]:"fire-app-check",[tL]:"fire-app-check-compat",[rL]:"fire-auth",[iL]:"fire-auth-compat",[sL]:"fire-rtdb",[oL]:"fire-data-connect",[aL]:"fire-rtdb-compat",[lL]:"fire-fn",[uL]:"fire-fn-compat",[cL]:"fire-iid",[hL]:"fire-iid-compat",[dL]:"fire-fcm",[fL]:"fire-fcm-compat",[pL]:"fire-perf",[mL]:"fire-perf-compat",[gL]:"fire-rc",[vL]:"fire-rc-compat",[yL]:"fire-gcs",[_L]:"fire-gcs-compat",[wL]:"fire-fst",[xL]:"fire-fst-compat",[EL]:"fire-vertex","fire-js":"fire-js",[TL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new Map,CL=new Map,Rg=new Map;function D1(t,e){try{t.container.addComponent(e)}catch(n){ai.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ia(t){const e=t.name;if(Rg.has(e))return ai.debug(`There were multiple attempts to register component ${e}.`),!1;Rg.set(e,t);for(const n of hd.values())D1(n,t);for(const n of CL.values())D1(n,t);return!0}function F0(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new Lu("app","Firebase",RL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=SL;function ZI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ki.create("bad-app-name",{appName:String(i)});if(n||(n=QI()),!n)throw Ki.create("no-options");const s=hd.get(i);if(s){if(cd(n,s.options)&&cd(r,s.config))return s;throw Ki.create("duplicate-app",{appName:i})}const o=new DO(i);for(const l of Rg.values())o.addComponent(l);const a=new AL(n,r,o);return hd.set(i,a),a}function eC(t=Cg){const e=hd.get(t);if(!e&&t===Cg&&QI())return ZI();if(!e)throw Ki.create("no-app",{appName:t});return e}function Gi(t,e,n){var r;let i=(r=IL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ai.warn(a.join(" "));return}ia(new Us(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="firebase-heartbeat-database",PL=1,au="firebase-heartbeat-store";let Yp=null;function tC(){return Yp||(Yp=KO(kL,PL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ki.create("idb-open",{originalErrorMessage:t.message})})),Yp}async function bL(t){try{const n=(await tC()).transaction(au),r=await n.objectStore(au).get(nC(t));return await n.done,r}catch(e){if(e instanceof mi)ai.warn(e.message);else{const n=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ai.warn(n.message)}}}async function O1(t,e){try{const r=(await tC()).transaction(au,"readwrite");await r.objectStore(au).put(e,nC(t)),await r.done}catch(n){if(n instanceof mi)ai.warn(n.message);else{const r=Ki.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ai.warn(r.message)}}}function nC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=1024,ML=30*24*60*60*1e3;class DL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=L1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=ML}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ai.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=L1(),{heartbeatsToSend:r,unsentEntries:i}=OL(this._heartbeatsCache.heartbeats),s=ud(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ai.warn(n),""}}}function L1(){return new Date().toISOString().substring(0,10)}function OL(t,e=NL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),V1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),V1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class LL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xO()?TO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return O1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return O1(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function V1(t){return ud(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){ia(new Us("platform-logger",e=>new YO(e),"PRIVATE")),ia(new Us("heartbeat",e=>new DL(e),"PRIVATE")),Gi(Ig,M1,t),Gi(Ig,M1,"esm2017"),Gi("fire-js","")}VL("");var j1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,rC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,g){function T(){}T.prototype=g.prototype,A.D=g.prototype,A.prototype=new T,A.prototype.constructor=A,A.C=function(k,P,M){for(var b=Array(arguments.length-2),O=2;O<arguments.length;O++)b[O-2]=arguments[O];return g.prototype[P].apply(k,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,g,T){T||(T=0);var k=Array(16);if(typeof g=="string")for(var P=0;16>P;++P)k[P]=g.charCodeAt(T++)|g.charCodeAt(T++)<<8|g.charCodeAt(T++)<<16|g.charCodeAt(T++)<<24;else for(P=0;16>P;++P)k[P]=g[T++]|g[T++]<<8|g[T++]<<16|g[T++]<<24;g=A.g[0],T=A.g[1],P=A.g[2];var M=A.g[3],b=g+(M^T&(P^M))+k[0]+3614090360&4294967295;g=T+(b<<7&4294967295|b>>>25),b=M+(P^g&(T^P))+k[1]+3905402710&4294967295,M=g+(b<<12&4294967295|b>>>20),b=P+(T^M&(g^T))+k[2]+606105819&4294967295,P=M+(b<<17&4294967295|b>>>15),b=T+(g^P&(M^g))+k[3]+3250441966&4294967295,T=P+(b<<22&4294967295|b>>>10),b=g+(M^T&(P^M))+k[4]+4118548399&4294967295,g=T+(b<<7&4294967295|b>>>25),b=M+(P^g&(T^P))+k[5]+1200080426&4294967295,M=g+(b<<12&4294967295|b>>>20),b=P+(T^M&(g^T))+k[6]+2821735955&4294967295,P=M+(b<<17&4294967295|b>>>15),b=T+(g^P&(M^g))+k[7]+4249261313&4294967295,T=P+(b<<22&4294967295|b>>>10),b=g+(M^T&(P^M))+k[8]+1770035416&4294967295,g=T+(b<<7&4294967295|b>>>25),b=M+(P^g&(T^P))+k[9]+2336552879&4294967295,M=g+(b<<12&4294967295|b>>>20),b=P+(T^M&(g^T))+k[10]+4294925233&4294967295,P=M+(b<<17&4294967295|b>>>15),b=T+(g^P&(M^g))+k[11]+2304563134&4294967295,T=P+(b<<22&4294967295|b>>>10),b=g+(M^T&(P^M))+k[12]+1804603682&4294967295,g=T+(b<<7&4294967295|b>>>25),b=M+(P^g&(T^P))+k[13]+4254626195&4294967295,M=g+(b<<12&4294967295|b>>>20),b=P+(T^M&(g^T))+k[14]+2792965006&4294967295,P=M+(b<<17&4294967295|b>>>15),b=T+(g^P&(M^g))+k[15]+1236535329&4294967295,T=P+(b<<22&4294967295|b>>>10),b=g+(P^M&(T^P))+k[1]+4129170786&4294967295,g=T+(b<<5&4294967295|b>>>27),b=M+(T^P&(g^T))+k[6]+3225465664&4294967295,M=g+(b<<9&4294967295|b>>>23),b=P+(g^T&(M^g))+k[11]+643717713&4294967295,P=M+(b<<14&4294967295|b>>>18),b=T+(M^g&(P^M))+k[0]+3921069994&4294967295,T=P+(b<<20&4294967295|b>>>12),b=g+(P^M&(T^P))+k[5]+3593408605&4294967295,g=T+(b<<5&4294967295|b>>>27),b=M+(T^P&(g^T))+k[10]+38016083&4294967295,M=g+(b<<9&4294967295|b>>>23),b=P+(g^T&(M^g))+k[15]+3634488961&4294967295,P=M+(b<<14&4294967295|b>>>18),b=T+(M^g&(P^M))+k[4]+3889429448&4294967295,T=P+(b<<20&4294967295|b>>>12),b=g+(P^M&(T^P))+k[9]+568446438&4294967295,g=T+(b<<5&4294967295|b>>>27),b=M+(T^P&(g^T))+k[14]+3275163606&4294967295,M=g+(b<<9&4294967295|b>>>23),b=P+(g^T&(M^g))+k[3]+4107603335&4294967295,P=M+(b<<14&4294967295|b>>>18),b=T+(M^g&(P^M))+k[8]+1163531501&4294967295,T=P+(b<<20&4294967295|b>>>12),b=g+(P^M&(T^P))+k[13]+2850285829&4294967295,g=T+(b<<5&4294967295|b>>>27),b=M+(T^P&(g^T))+k[2]+4243563512&4294967295,M=g+(b<<9&4294967295|b>>>23),b=P+(g^T&(M^g))+k[7]+1735328473&4294967295,P=M+(b<<14&4294967295|b>>>18),b=T+(M^g&(P^M))+k[12]+2368359562&4294967295,T=P+(b<<20&4294967295|b>>>12),b=g+(T^P^M)+k[5]+4294588738&4294967295,g=T+(b<<4&4294967295|b>>>28),b=M+(g^T^P)+k[8]+2272392833&4294967295,M=g+(b<<11&4294967295|b>>>21),b=P+(M^g^T)+k[11]+1839030562&4294967295,P=M+(b<<16&4294967295|b>>>16),b=T+(P^M^g)+k[14]+4259657740&4294967295,T=P+(b<<23&4294967295|b>>>9),b=g+(T^P^M)+k[1]+2763975236&4294967295,g=T+(b<<4&4294967295|b>>>28),b=M+(g^T^P)+k[4]+1272893353&4294967295,M=g+(b<<11&4294967295|b>>>21),b=P+(M^g^T)+k[7]+4139469664&4294967295,P=M+(b<<16&4294967295|b>>>16),b=T+(P^M^g)+k[10]+3200236656&4294967295,T=P+(b<<23&4294967295|b>>>9),b=g+(T^P^M)+k[13]+681279174&4294967295,g=T+(b<<4&4294967295|b>>>28),b=M+(g^T^P)+k[0]+3936430074&4294967295,M=g+(b<<11&4294967295|b>>>21),b=P+(M^g^T)+k[3]+3572445317&4294967295,P=M+(b<<16&4294967295|b>>>16),b=T+(P^M^g)+k[6]+76029189&4294967295,T=P+(b<<23&4294967295|b>>>9),b=g+(T^P^M)+k[9]+3654602809&4294967295,g=T+(b<<4&4294967295|b>>>28),b=M+(g^T^P)+k[12]+3873151461&4294967295,M=g+(b<<11&4294967295|b>>>21),b=P+(M^g^T)+k[15]+530742520&4294967295,P=M+(b<<16&4294967295|b>>>16),b=T+(P^M^g)+k[2]+3299628645&4294967295,T=P+(b<<23&4294967295|b>>>9),b=g+(P^(T|~M))+k[0]+4096336452&4294967295,g=T+(b<<6&4294967295|b>>>26),b=M+(T^(g|~P))+k[7]+1126891415&4294967295,M=g+(b<<10&4294967295|b>>>22),b=P+(g^(M|~T))+k[14]+2878612391&4294967295,P=M+(b<<15&4294967295|b>>>17),b=T+(M^(P|~g))+k[5]+4237533241&4294967295,T=P+(b<<21&4294967295|b>>>11),b=g+(P^(T|~M))+k[12]+1700485571&4294967295,g=T+(b<<6&4294967295|b>>>26),b=M+(T^(g|~P))+k[3]+2399980690&4294967295,M=g+(b<<10&4294967295|b>>>22),b=P+(g^(M|~T))+k[10]+4293915773&4294967295,P=M+(b<<15&4294967295|b>>>17),b=T+(M^(P|~g))+k[1]+2240044497&4294967295,T=P+(b<<21&4294967295|b>>>11),b=g+(P^(T|~M))+k[8]+1873313359&4294967295,g=T+(b<<6&4294967295|b>>>26),b=M+(T^(g|~P))+k[15]+4264355552&4294967295,M=g+(b<<10&4294967295|b>>>22),b=P+(g^(M|~T))+k[6]+2734768916&4294967295,P=M+(b<<15&4294967295|b>>>17),b=T+(M^(P|~g))+k[13]+1309151649&4294967295,T=P+(b<<21&4294967295|b>>>11),b=g+(P^(T|~M))+k[4]+4149444226&4294967295,g=T+(b<<6&4294967295|b>>>26),b=M+(T^(g|~P))+k[11]+3174756917&4294967295,M=g+(b<<10&4294967295|b>>>22),b=P+(g^(M|~T))+k[2]+718787259&4294967295,P=M+(b<<15&4294967295|b>>>17),b=T+(M^(P|~g))+k[9]+3951481745&4294967295,A.g[0]=A.g[0]+g&4294967295,A.g[1]=A.g[1]+(P+(b<<21&4294967295|b>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+M&4294967295}r.prototype.u=function(A,g){g===void 0&&(g=A.length);for(var T=g-this.blockSize,k=this.B,P=this.h,M=0;M<g;){if(P==0)for(;M<=T;)i(this,A,M),M+=this.blockSize;if(typeof A=="string"){for(;M<g;)if(k[P++]=A.charCodeAt(M++),P==this.blockSize){i(this,k),P=0;break}}else for(;M<g;)if(k[P++]=A[M++],P==this.blockSize){i(this,k),P=0;break}}this.h=P,this.o+=g},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var g=1;g<A.length-8;++g)A[g]=0;var T=8*this.o;for(g=A.length-8;g<A.length;++g)A[g]=T&255,T/=256;for(this.u(A),A=Array(16),g=T=0;4>g;++g)for(var k=0;32>k;k+=8)A[T++]=this.g[g]>>>k&255;return A};function s(A,g){var T=a;return Object.prototype.hasOwnProperty.call(T,A)?T[A]:T[A]=g(A)}function o(A,g){this.h=g;for(var T=[],k=!0,P=A.length-1;0<=P;P--){var M=A[P]|0;k&&M==g||(T[P]=M,k=!1)}this.g=T}var a={};function l(A){return-128<=A&&128>A?s(A,function(g){return new o([g|0],0>g?-1:0)}):new o([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return d;if(0>A)return I(u(-A));for(var g=[],T=1,k=0;A>=T;k++)g[k]=A/T|0,T*=4294967296;return new o(g,0)}function h(A,g){if(A.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(A.charAt(0)=="-")return I(h(A.substring(1),g));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=u(Math.pow(g,8)),k=d,P=0;P<A.length;P+=8){var M=Math.min(8,A.length-P),b=parseInt(A.substring(P,P+M),g);8>M?(M=u(Math.pow(g,M)),k=k.j(M).add(u(b))):(k=k.j(T),k=k.add(u(b)))}return k}var d=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(x(this))return-I(this).m();for(var A=0,g=1,T=0;T<this.g.length;T++){var k=this.i(T);A+=(0<=k?k:4294967296+k)*g,g*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(E(this))return"0";if(x(this))return"-"+I(this).toString(A);for(var g=u(Math.pow(A,6)),T=this,k="";;){var P=R(T,g).g;T=_(T,P.j(g));var M=((0<T.g.length?T.g[0]:T.h)>>>0).toString(A);if(T=P,E(T))return M+k;for(;6>M.length;)M="0"+M;k=M+k}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function E(A){if(A.h!=0)return!1;for(var g=0;g<A.g.length;g++)if(A.g[g]!=0)return!1;return!0}function x(A){return A.h==-1}t.l=function(A){return A=_(this,A),x(A)?-1:E(A)?0:1};function I(A){for(var g=A.g.length,T=[],k=0;k<g;k++)T[k]=~A.g[k];return new o(T,~A.h).add(f)}t.abs=function(){return x(this)?I(this):this},t.add=function(A){for(var g=Math.max(this.g.length,A.g.length),T=[],k=0,P=0;P<=g;P++){var M=k+(this.i(P)&65535)+(A.i(P)&65535),b=(M>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);k=b>>>16,M&=65535,b&=65535,T[P]=b<<16|M}return new o(T,T[T.length-1]&-2147483648?-1:0)};function _(A,g){return A.add(I(g))}t.j=function(A){if(E(this)||E(A))return d;if(x(this))return x(A)?I(this).j(I(A)):I(I(this).j(A));if(x(A))return I(this.j(I(A)));if(0>this.l(m)&&0>A.l(m))return u(this.m()*A.m());for(var g=this.g.length+A.g.length,T=[],k=0;k<2*g;k++)T[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<A.g.length;P++){var M=this.i(k)>>>16,b=this.i(k)&65535,O=A.i(P)>>>16,V=A.i(P)&65535;T[2*k+2*P]+=b*V,w(T,2*k+2*P),T[2*k+2*P+1]+=M*V,w(T,2*k+2*P+1),T[2*k+2*P+1]+=b*O,w(T,2*k+2*P+1),T[2*k+2*P+2]+=M*O,w(T,2*k+2*P+2)}for(k=0;k<g;k++)T[k]=T[2*k+1]<<16|T[2*k];for(k=g;k<2*g;k++)T[k]=0;return new o(T,0)};function w(A,g){for(;(A[g]&65535)!=A[g];)A[g+1]+=A[g]>>>16,A[g]&=65535,g++}function y(A,g){this.g=A,this.h=g}function R(A,g){if(E(g))throw Error("division by zero");if(E(A))return new y(d,d);if(x(A))return g=R(I(A),g),new y(I(g.g),I(g.h));if(x(g))return g=R(A,I(g)),new y(I(g.g),g.h);if(30<A.g.length){if(x(A)||x(g))throw Error("slowDivide_ only works with positive integers.");for(var T=f,k=g;0>=k.l(A);)T=D(T),k=D(k);var P=L(T,1),M=L(k,1);for(k=L(k,2),T=L(T,2);!E(k);){var b=M.add(k);0>=b.l(A)&&(P=P.add(T),M=b),k=L(k,1),T=L(T,1)}return g=_(A,P.j(g)),new y(P,g)}for(P=d;0<=A.l(g);){for(T=Math.max(1,Math.floor(A.m()/g.m())),k=Math.ceil(Math.log(T)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),M=u(T),b=M.j(g);x(b)||0<b.l(A);)T-=k,M=u(T),b=M.j(g);E(M)&&(M=f),P=P.add(M),A=_(A,b)}return new y(P,A)}t.A=function(A){return R(this,A).h},t.and=function(A){for(var g=Math.max(this.g.length,A.g.length),T=[],k=0;k<g;k++)T[k]=this.i(k)&A.i(k);return new o(T,this.h&A.h)},t.or=function(A){for(var g=Math.max(this.g.length,A.g.length),T=[],k=0;k<g;k++)T[k]=this.i(k)|A.i(k);return new o(T,this.h|A.h)},t.xor=function(A){for(var g=Math.max(this.g.length,A.g.length),T=[],k=0;k<g;k++)T[k]=this.i(k)^A.i(k);return new o(T,this.h^A.h)};function D(A){for(var g=A.g.length+1,T=[],k=0;k<g;k++)T[k]=A.i(k)<<1|A.i(k-1)>>>31;return new o(T,A.h)}function L(A,g){var T=g>>5;g%=32;for(var k=A.g.length-T,P=[],M=0;M<k;M++)P[M]=0<g?A.i(M+T)>>>g|A.i(M+T+1)<<32-g:A.i(M+T);return new o(P,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,bs=o}).apply(typeof j1<"u"?j1:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var iC,cl,sC,mh,Ag,oC,aC,lC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,S){return c==Array.prototype||c==Object.prototype||(c[p]=S.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var p=0;p<c.length;++p){var S=c[p];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=n(this);function i(c,p){if(p)e:{var S=r;c=c.split(".");for(var N=0;N<c.length-1;N++){var $=c[N];if(!($ in S))break e;S=S[$]}c=c[c.length-1],N=S[c],p=p(N),p!=N&&p!=null&&e(S,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var S=0,N=!1,$={next:function(){if(!N&&S<c.length){var B=S++;return{value:p(B,c[B]),done:!1}}return N=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}i("Array.prototype.values",function(c){return c||function(){return s(this,function(p,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function h(c,p,S){return c.call.apply(c.bind,arguments)}function d(c,p,S){if(!c)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,N),c.apply(p,$)}}return function(){return c.apply(p,arguments)}}function f(c,p,S){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function m(c,p){var S=Array.prototype.slice.call(arguments,1);return function(){var N=S.slice();return N.push.apply(N,arguments),c.apply(this,N)}}function E(c,p){function S(){}S.prototype=p.prototype,c.aa=p.prototype,c.prototype=new S,c.prototype.constructor=c,c.Qb=function(N,$,B){for(var X=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)X[Le-2]=arguments[Le];return p.prototype[$].apply(N,X)}}function x(c){const p=c.length;if(0<p){const S=Array(p);for(let N=0;N<p;N++)S[N]=c[N];return S}return[]}function I(c,p){for(let S=1;S<arguments.length;S++){const N=arguments[S];if(l(N)){const $=c.length||0,B=N.length||0;c.length=$+B;for(let X=0;X<B;X++)c[$+X]=N[X]}else c.push(N)}}class _{constructor(p,S){this.i=p,this.j=S,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(c){return/^[\s\xa0]*$/.test(c)}function y(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function R(c){return R[" "](c),c}R[" "]=function(){};var D=y().indexOf("Gecko")!=-1&&!(y().toLowerCase().indexOf("webkit")!=-1&&y().indexOf("Edge")==-1)&&!(y().indexOf("Trident")!=-1||y().indexOf("MSIE")!=-1)&&y().indexOf("Edge")==-1;function L(c,p,S){for(const N in c)p.call(S,c[N],N,c)}function A(c,p){for(const S in c)p.call(void 0,c[S],S,c)}function g(c){const p={};for(const S in c)p[S]=c[S];return p}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,p){let S,N;for(let $=1;$<arguments.length;$++){N=arguments[$];for(S in N)c[S]=N[S];for(let B=0;B<T.length;B++)S=T[B],Object.prototype.hasOwnProperty.call(N,S)&&(c[S]=N[S])}}function P(c){var p=1;c=c.split(":");const S=[];for(;0<p&&c.length;)S.push(c.shift()),p--;return c.length&&S.push(c.join(":")),S}function M(c){a.setTimeout(()=>{throw c},0)}function b(){var c=F;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class O{constructor(){this.h=this.g=null}add(p,S){const N=V.get();N.set(p,S),this.h?this.h.next=N:this.g=N,this.h=N}}var V=new _(()=>new j,c=>c.reset());class j{constructor(){this.next=this.g=this.h=null}set(p,S){this.h=p,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let z,U=!1,F=new O,q=()=>{const c=a.Promise.resolve(void 0);z=()=>{c.then(Q)}};var Q=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(S){M(S)}var p=V;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}U=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const S=()=>{};a.addEventListener("test",S,p),a.removeEventListener("test",S,p)}catch{}return c}();function se(c,p){if(J.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var S=this.type=c.type,N=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(D){e:{try{R(p.nodeName);var $=!0;break e}catch{}$=!1}$||(p=null)}}else S=="mouseover"?p=c.fromElement:S=="mouseout"&&(p=c.toElement);this.relatedTarget=p,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ge[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&se.aa.h.call(this)}}E(se,J);var ge={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),Ce=0;function Z(c,p,S,N,$){this.listener=c,this.proxy=null,this.src=p,this.type=S,this.capture=!!N,this.ha=$,this.key=++Ce,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Te(c){this.src=c,this.g={},this.h=0}Te.prototype.add=function(c,p,S,N,$){var B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);var X=Re(c,p,N,$);return-1<X?(p=c[X],S||(p.fa=!1)):(p=new Z(p,this.src,B,!!N,$),p.fa=S,c.push(p)),p};function je(c,p){var S=p.type;if(S in c.g){var N=c.g[S],$=Array.prototype.indexOf.call(N,p,void 0),B;(B=0<=$)&&Array.prototype.splice.call(N,$,1),B&&(pe(p),c.g[S].length==0&&(delete c.g[S],c.h--))}}function Re(c,p,S,N){for(var $=0;$<c.length;++$){var B=c[$];if(!B.da&&B.listener==p&&B.capture==!!S&&B.ha==N)return $}return-1}var ht="closure_lm_"+(1e6*Math.random()|0),Ue={};function De(c,p,S,N,$){if(Array.isArray(p)){for(var B=0;B<p.length;B++)De(c,p[B],S,N,$);return null}return S=be(S),c&&c[me]?c.K(p,S,u(N)?!!N.capture:!!N,$):wn(c,p,S,!1,N,$)}function wn(c,p,S,N,$,B){if(!p)throw Error("Invalid event type");var X=u($)?!!$.capture:!!$,Le=Ge(c);if(Le||(c[ht]=Le=new Te(c)),S=Le.add(p,S,N,X,B),S.proxy)return S;if(N=an(),S.proxy=N,N.src=c,N.listener=S,c.addEventListener)ie||($=X),$===void 0&&($=!1),c.addEventListener(p.toString(),N,$);else if(c.attachEvent)c.attachEvent(Kt(p.toString()),N);else if(c.addListener&&c.removeListener)c.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return S}function an(){function c(S){return p.call(c.src,c.listener,S)}const p=$e;return c}function En(c,p,S,N,$){if(Array.isArray(p))for(var B=0;B<p.length;B++)En(c,p[B],S,N,$);else N=u(N)?!!N.capture:!!N,S=be(S),c&&c[me]?(c=c.i,p=String(p).toString(),p in c.g&&(B=c.g[p],S=Re(B,S,N,$),-1<S&&(pe(B[S]),Array.prototype.splice.call(B,S,1),B.length==0&&(delete c.g[p],c.h--)))):c&&(c=Ge(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Re(p,S,N,$)),(S=-1<c?p[c]:null)&&xn(S))}function xn(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[me])je(p.i,c);else{var S=c.type,N=c.proxy;p.removeEventListener?p.removeEventListener(S,N,c.capture):p.detachEvent?p.detachEvent(Kt(S),N):p.addListener&&p.removeListener&&p.removeListener(N),(S=Ge(p))?(je(S,c),S.h==0&&(S.src=null,p[ht]=null)):pe(c)}}}function Kt(c){return c in Ue?Ue[c]:Ue[c]="on"+c}function $e(c,p){if(c.da)c=!0;else{p=new se(p,this);var S=c.listener,N=c.ha||c.src;c.fa&&xn(c),c=S.call(N,p)}return c}function Ge(c){return c=c[ht],c instanceof Te?c:null}var Kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(c){return typeof c=="function"?c:(c[Kn]||(c[Kn]=function(p){return c.handleEvent(p)}),c[Kn])}function Xe(){W.call(this),this.i=new Te(this),this.M=this,this.F=null}E(Xe,W),Xe.prototype[me]=!0,Xe.prototype.removeEventListener=function(c,p,S,N){En(this,c,p,S,N)};function ze(c,p){var S,N=c.F;if(N)for(S=[];N;N=N.F)S.push(N);if(c=c.M,N=p.type||p,typeof p=="string")p=new J(p,c);else if(p instanceof J)p.target=p.target||c;else{var $=p;p=new J(N,c),k(p,$)}if($=!0,S)for(var B=S.length-1;0<=B;B--){var X=p.g=S[B];$=On(X,N,!0,p)&&$}if(X=p.g=c,$=On(X,N,!0,p)&&$,$=On(X,N,!1,p)&&$,S)for(B=0;B<S.length;B++)X=p.g=S[B],$=On(X,N,!1,p)&&$}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var S=c.g[p],N=0;N<S.length;N++)pe(S[N]);delete c.g[p],c.h--}}this.F=null},Xe.prototype.K=function(c,p,S,N){return this.i.add(String(c),p,!1,S,N)},Xe.prototype.L=function(c,p,S,N){return this.i.add(String(c),p,!0,S,N)};function On(c,p,S,N){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var $=!0,B=0;B<p.length;++B){var X=p[B];if(X&&!X.da&&X.capture==S){var Le=X.listener,At=X.ha||X.src;X.fa&&je(c.i,X),$=Le.call(At,N)!==!1&&$}}return $&&!N.defaultPrevented}function Gn(c,p,S){if(typeof c=="function")S&&(c=f(c,S));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function Qn(c){c.g=Gn(()=>{c.g=null,c.i&&(c.i=!1,Qn(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class fr extends W{constructor(p,S){super(),this.m=p,this.l=S,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Qn(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Et(c){W.call(this),this.h=c,this.g={}}E(Et,W);var ds=[];function Gt(c){L(c.g,function(p,S){this.g.hasOwnProperty(S)&&xn(p)},c),c.g={}}Et.prototype.N=function(){Et.aa.N.call(this),Gt(this)},Et.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eo=a.JSON.stringify,Oa=a.JSON.parse,Rb=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function rp(){}rp.prototype.h=null;function y_(c){return c.h||(c.h=c.i())}function __(){}var La={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ip(){J.call(this,"d")}E(ip,J);function sp(){J.call(this,"c")}E(sp,J);var fs={},w_=null;function nc(){return w_=w_||new Xe}fs.La="serverreachability";function E_(c){J.call(this,fs.La,c)}E(E_,J);function Va(c){const p=nc();ze(p,new E_(p))}fs.STAT_EVENT="statevent";function x_(c,p){J.call(this,fs.STAT_EVENT,c),this.stat=p}E(x_,J);function Qt(c){const p=nc();ze(p,new x_(p,c))}fs.Ma="timingevent";function T_(c,p){J.call(this,fs.Ma,c),this.size=p}E(T_,J);function ja(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function Fa(){this.g=!0}Fa.prototype.xa=function(){this.g=!1};function Ab(c,p,S,N,$,B){c.info(function(){if(c.g)if(B)for(var X="",Le=B.split("&"),At=0;At<Le.length;At++){var ke=Le[At].split("=");if(1<ke.length){var Lt=ke[0];ke=ke[1];var Vt=Lt.split("_");X=2<=Vt.length&&Vt[1]=="type"?X+(Lt+"="+ke+"&"):X+(Lt+"=redacted&")}}else X=null;else X=B;return"XMLHTTP REQ ("+N+") [attempt "+$+"]: "+p+`
`+S+`
`+X})}function kb(c,p,S,N,$,B,X){c.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+$+"]: "+p+`
`+S+`
`+B+" "+X})}function to(c,p,S,N){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+bb(c,S)+(N?" "+N:"")})}function Pb(c,p){c.info(function(){return"TIMEOUT: "+p})}Fa.prototype.info=function(){};function bb(c,p){if(!c.g)return p;if(!p)return null;try{var S=JSON.parse(p);if(S){for(c=0;c<S.length;c++)if(Array.isArray(S[c])){var N=S[c];if(!(2>N.length)){var $=N[1];if(Array.isArray($)&&!(1>$.length)){var B=$[0];if(B!="noop"&&B!="stop"&&B!="close")for(var X=1;X<$.length;X++)$[X]=""}}}}return eo(S)}catch{return p}}var rc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},S_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},op;function ic(){}E(ic,rp),ic.prototype.g=function(){return new XMLHttpRequest},ic.prototype.i=function(){return{}},op=new ic;function gi(c,p,S,N){this.j=c,this.i=p,this.l=S,this.R=N||1,this.U=new Et(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new I_}function I_(){this.i=null,this.g="",this.h=!1}var C_={},ap={};function lp(c,p,S){c.L=1,c.v=lc(Lr(p)),c.m=S,c.P=!0,R_(c,null)}function R_(c,p){c.F=Date.now(),sc(c),c.A=Lr(c.v);var S=c.A,N=c.R;Array.isArray(N)||(N=[String(N)]),$_(S.i,"t",N),c.C=0,S=c.j.J,c.h=new I_,c.g=sw(c.j,S?p:null,!c.m),0<c.O&&(c.M=new fr(f(c.Y,c,c.g),c.O)),p=c.U,S=c.g,N=c.ca;var $="readystatechange";Array.isArray($)||($&&(ds[0]=$.toString()),$=ds);for(var B=0;B<$.length;B++){var X=De(S,$[B],N||p.handleEvent,!1,p.h||p);if(!X)break;p.g[X.key]=X}p=c.H?g(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Va(),Ab(c.i,c.u,c.A,c.l,c.R,c.m)}gi.prototype.ca=function(c){c=c.target;const p=this.M;p&&Vr(c)==3?p.j():this.Y(c)},gi.prototype.Y=function(c){try{if(c==this.g)e:{const Vt=Vr(this.g);var p=this.g.Ba();const io=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||G_(this.g)))){this.J||Vt!=4||p==7||(p==8||0>=io?Va(3):Va(2)),up(this);var S=this.g.Z();this.X=S;t:if(A_(this)){var N=G_(this.g);c="";var $=N.length,B=Vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ps(this),Ua(this);var X="";break t}this.h.i=new a.TextDecoder}for(p=0;p<$;p++)this.h.h=!0,c+=this.h.i.decode(N[p],{stream:!(B&&p==$-1)});N.length=0,this.h.g+=c,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=S==200,kb(this.i,this.u,this.A,this.l,this.R,Vt,S),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,At=this.g;if((Le=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Le)){var ke=Le;break t}}ke=null}if(S=ke)to(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,cp(this,S);else{this.o=!1,this.s=3,Qt(12),ps(this),Ua(this);break e}}if(this.P){S=!0;let Yn;for(;!this.J&&this.C<X.length;)if(Yn=Nb(this,X),Yn==ap){Vt==4&&(this.s=4,Qt(14),S=!1),to(this.i,this.l,null,"[Incomplete Response]");break}else if(Yn==C_){this.s=4,Qt(15),to(this.i,this.l,X,"[Invalid Chunk]"),S=!1;break}else to(this.i,this.l,Yn,null),cp(this,Yn);if(A_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||X.length!=0||this.h.h||(this.s=1,Qt(16),S=!1),this.o=this.o&&S,!S)to(this.i,this.l,X,"[Invalid Chunked Response]"),ps(this),Ua(this);else if(0<X.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),gp(Lt),Lt.M=!0,Qt(11))}}else to(this.i,this.l,X,null),cp(this,X);Vt==4&&ps(this),this.o&&!this.J&&(Vt==4?tw(this.j,this):(this.o=!1,sc(this)))}else Qb(this.g),S==400&&0<X.indexOf("Unknown SID")?(this.s=3,Qt(12)):(this.s=0,Qt(13)),ps(this),Ua(this)}}}catch{}finally{}};function A_(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Nb(c,p){var S=c.C,N=p.indexOf(`
`,S);return N==-1?ap:(S=Number(p.substring(S,N)),isNaN(S)?C_:(N+=1,N+S>p.length?ap:(p=p.slice(N,N+S),c.C=N+S,p)))}gi.prototype.cancel=function(){this.J=!0,ps(this)};function sc(c){c.S=Date.now()+c.I,k_(c,c.I)}function k_(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ja(f(c.ba,c),p)}function up(c){c.B&&(a.clearTimeout(c.B),c.B=null)}gi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Pb(this.i,this.A),this.L!=2&&(Va(),Qt(17)),ps(this),this.s=2,Ua(this)):k_(this,this.S-c)};function Ua(c){c.j.G==0||c.J||tw(c.j,c)}function ps(c){up(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Gt(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function cp(c,p){try{var S=c.j;if(S.G!=0&&(S.g==c||hp(S.h,c))){if(!c.K&&hp(S.h,c)&&S.G==3){try{var N=S.Da.g.parse(p)}catch{N=null}if(Array.isArray(N)&&N.length==3){var $=N;if($[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<c.F)pc(S),dc(S);else break e;mp(S),Qt(18)}}else S.za=$[1],0<S.za-S.T&&37500>$[2]&&S.F&&S.v==0&&!S.C&&(S.C=ja(f(S.Za,S),6e3));if(1>=N_(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else gs(S,11)}else if((c.K||S.g==c)&&pc(S),!w(p))for($=S.Da.g.parse(p),p=0;p<$.length;p++){let ke=$[p];if(S.T=ke[0],ke=ke[1],S.G==2)if(ke[0]=="c"){S.K=ke[1],S.ia=ke[2];const Lt=ke[3];Lt!=null&&(S.la=Lt,S.j.info("VER="+S.la));const Vt=ke[4];Vt!=null&&(S.Aa=Vt,S.j.info("SVER="+S.Aa));const io=ke[5];io!=null&&typeof io=="number"&&0<io&&(N=1.5*io,S.L=N,S.j.info("backChannelRequestTimeoutMs_="+N)),N=S;const Yn=c.g;if(Yn){const gc=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gc){var B=N.h;B.g||gc.indexOf("spdy")==-1&&gc.indexOf("quic")==-1&&gc.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(dp(B,B.h),B.h=null))}if(N.D){const vp=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;vp&&(N.ya=vp,Be(N.I,N.D,vp))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-c.F,S.j.info("Handshake RTT: "+S.R+"ms")),N=S;var X=c;if(N.qa=iw(N,N.J?N.ia:null,N.W),X.K){M_(N.h,X);var Le=X,At=N.L;At&&(Le.I=At),Le.B&&(up(Le),sc(Le)),N.g=X}else Z_(N);0<S.i.length&&fc(S)}else ke[0]!="stop"&&ke[0]!="close"||gs(S,7);else S.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?gs(S,7):pp(S):ke[0]!="noop"&&S.l&&S.l.ta(ke),S.v=0)}}Va(4)}catch{}}var Mb=class{constructor(c,p){this.g=c,this.map=p}};function P_(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function b_(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function N_(c){return c.h?1:c.g?c.g.size:0}function hp(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function dp(c,p){c.g?c.g.add(p):c.h=p}function M_(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}P_.prototype.cancel=function(){if(this.i=D_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function D_(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const S of c.g.values())p=p.concat(S.D);return p}return x(c.i)}function Db(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],S=c.length,N=0;N<S;N++)p.push(c[N]);return p}p=[],S=0;for(N in c)p[S++]=c[N];return p}function Ob(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var S=0;S<c;S++)p.push(S);return p}p=[],S=0;for(const N in c)p[S++]=N;return p}}}function O_(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var S=Ob(c),N=Db(c),$=N.length,B=0;B<$;B++)p.call(void 0,N[B],S&&S[B],c)}var L_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lb(c,p){if(c){c=c.split("&");for(var S=0;S<c.length;S++){var N=c[S].indexOf("="),$=null;if(0<=N){var B=c[S].substring(0,N);$=c[S].substring(N+1)}else B=c[S];p(B,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function ms(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ms){this.h=c.h,oc(this,c.j),this.o=c.o,this.g=c.g,ac(this,c.s),this.l=c.l;var p=c.i,S=new Ba;S.i=p.i,p.g&&(S.g=new Map(p.g),S.h=p.h),V_(this,S),this.m=c.m}else c&&(p=String(c).match(L_))?(this.h=!1,oc(this,p[1]||"",!0),this.o=$a(p[2]||""),this.g=$a(p[3]||"",!0),ac(this,p[4]),this.l=$a(p[5]||"",!0),V_(this,p[6]||"",!0),this.m=$a(p[7]||"")):(this.h=!1,this.i=new Ba(null,this.h))}ms.prototype.toString=function(){var c=[],p=this.j;p&&c.push(za(p,j_,!0),":");var S=this.g;return(S||p=="file")&&(c.push("//"),(p=this.o)&&c.push(za(p,j_,!0),"@"),c.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&c.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&c.push("/"),c.push(za(S,S.charAt(0)=="/"?Fb:jb,!0))),(S=this.i.toString())&&c.push("?",S),(S=this.m)&&c.push("#",za(S,$b)),c.join("")};function Lr(c){return new ms(c)}function oc(c,p,S){c.j=S?$a(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ac(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function V_(c,p,S){p instanceof Ba?(c.i=p,zb(c.i,c.h)):(S||(p=za(p,Ub)),c.i=new Ba(p,c.h))}function Be(c,p,S){c.i.set(p,S)}function lc(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function $a(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function za(c,p,S){return typeof c=="string"?(c=encodeURI(c).replace(p,Vb),S&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vb(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var j_=/[#\/\?@]/g,jb=/[#\?:]/g,Fb=/[#\?]/g,Ub=/[#\?@]/g,$b=/#/g;function Ba(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function vi(c){c.g||(c.g=new Map,c.h=0,c.i&&Lb(c.i,function(p,S){c.add(decodeURIComponent(p.replace(/\+/g," ")),S)}))}t=Ba.prototype,t.add=function(c,p){vi(this),this.i=null,c=no(this,c);var S=this.g.get(c);return S||this.g.set(c,S=[]),S.push(p),this.h+=1,this};function F_(c,p){vi(c),p=no(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function U_(c,p){return vi(c),p=no(c,p),c.g.has(p)}t.forEach=function(c,p){vi(this),this.g.forEach(function(S,N){S.forEach(function($){c.call(p,$,N,this)},this)},this)},t.na=function(){vi(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),S=[];for(let N=0;N<p.length;N++){const $=c[N];for(let B=0;B<$.length;B++)S.push(p[N])}return S},t.V=function(c){vi(this);let p=[];if(typeof c=="string")U_(this,c)&&(p=p.concat(this.g.get(no(this,c))));else{c=Array.from(this.g.values());for(let S=0;S<c.length;S++)p=p.concat(c[S])}return p},t.set=function(c,p){return vi(this),this.i=null,c=no(this,c),U_(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function $_(c,p,S){F_(c,p),0<S.length&&(c.i=null,c.g.set(no(c,p),x(S)),c.h+=S.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var S=0;S<p.length;S++){var N=p[S];const B=encodeURIComponent(String(N)),X=this.V(N);for(N=0;N<X.length;N++){var $=B;X[N]!==""&&($+="="+encodeURIComponent(String(X[N]))),c.push($)}}return this.i=c.join("&")};function no(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function zb(c,p){p&&!c.j&&(vi(c),c.i=null,c.g.forEach(function(S,N){var $=N.toLowerCase();N!=$&&(F_(this,N),$_(this,$,S))},c)),c.j=p}function Bb(c,p){const S=new Fa;if(a.Image){const N=new Image;N.onload=m(yi,S,"TestLoadImage: loaded",!0,p,N),N.onerror=m(yi,S,"TestLoadImage: error",!1,p,N),N.onabort=m(yi,S,"TestLoadImage: abort",!1,p,N),N.ontimeout=m(yi,S,"TestLoadImage: timeout",!1,p,N),a.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=c}else p(!1)}function Wb(c,p){const S=new Fa,N=new AbortController,$=setTimeout(()=>{N.abort(),yi(S,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:N.signal}).then(B=>{clearTimeout($),B.ok?yi(S,"TestPingServer: ok",!0,p):yi(S,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout($),yi(S,"TestPingServer: error",!1,p)})}function yi(c,p,S,N,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),N(S)}catch{}}function Hb(){this.g=new Rb}function qb(c,p,S){const N=S||"";try{O_(c,function($,B){let X=$;u($)&&(X=eo($)),p.push(N+B+"="+encodeURIComponent(X))})}catch($){throw p.push(N+"type="+encodeURIComponent("_badmap")),$}}function uc(c){this.l=c.Ub||null,this.j=c.eb||!1}E(uc,rp),uc.prototype.g=function(){return new cc(this.l,this.j)},uc.prototype.i=function(c){return function(){return c}}({});function cc(c,p){Xe.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(cc,Xe),t=cc.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Ha(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ha(this)),this.g&&(this.readyState=3,Ha(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;z_(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function z_(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Wa(this):Ha(this),this.readyState==3&&z_(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Wa(this))},t.Qa=function(c){this.g&&(this.response=c,Wa(this))},t.ga=function(){this.g&&Wa(this)};function Wa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ha(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var S=p.next();!S.done;)S=S.value,c.push(S[0]+": "+S[1]),S=p.next();return c.join(`\r
`)};function Ha(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(cc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function B_(c){let p="";return L(c,function(S,N){p+=N,p+=":",p+=S,p+=`\r
`}),p}function fp(c,p,S){e:{for(N in S){var N=!1;break e}N=!0}N||(S=B_(S),typeof c=="string"?S!=null&&encodeURIComponent(String(S)):Be(c,p,S))}function it(c){Xe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(it,Xe);var Kb=/^https?$/i,Gb=["POST","PUT"];t=it.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,S,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():op.g(),this.v=this.o?y_(this.o):y_(op),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(B){W_(this,B);return}if(c=S||"",S=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var $ in N)S.set($,N[$]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const B of N.keys())S.set(B,N.get(B));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(S.keys()).find(B=>B.toLowerCase()=="content-type"),$=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Gb,p,void 0))||N||$||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,X]of S)this.g.setRequestHeader(B,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{K_(this),this.u=!0,this.g.send(c),this.u=!1}catch(B){W_(this,B)}};function W_(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,H_(c),hc(c)}function H_(c){c.A||(c.A=!0,ze(c,"complete"),ze(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ze(this,"complete"),ze(this,"abort"),hc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hc(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?q_(this):this.bb())},t.bb=function(){q_(this)};function q_(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Vr(c)!=4||c.Z()!=2)){if(c.u&&Vr(c)==4)Gn(c.Ea,0,c);else if(ze(c,"readystatechange"),Vr(c)==4){c.h=!1;try{const X=c.Z();e:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var S;if(!(S=p)){var N;if(N=X===0){var $=String(c.D).match(L_)[1]||null;!$&&a.self&&a.self.location&&($=a.self.location.protocol.slice(0,-1)),N=!Kb.test($?$.toLowerCase():"")}S=N}if(S)ze(c,"complete"),ze(c,"success");else{c.m=6;try{var B=2<Vr(c)?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.Z()+"]",H_(c)}}finally{hc(c)}}}}function hc(c,p){if(c.g){K_(c);const S=c.g,N=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||ze(c,"ready");try{S.onreadystatechange=N}catch{}}}function K_(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Vr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Vr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Oa(p)}};function G_(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qb(c){const p={};c=(c.g&&2<=Vr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<c.length;N++){if(w(c[N]))continue;var S=P(c[N]);const $=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const B=p[$]||[];p[$]=B,B.push(S)}A(p,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qa(c,p,S){return S&&S.internalChannelParams&&S.internalChannelParams[c]||p}function Q_(c){this.Aa=0,this.i=[],this.j=new Fa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qa("baseRetryDelayMs",5e3,c),this.cb=qa("retryDelaySeedMs",1e4,c),this.Wa=qa("forwardChannelMaxRetries",2,c),this.wa=qa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new P_(c&&c.concurrentRequestLimit),this.Da=new Hb,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Q_.prototype,t.la=8,t.G=1,t.connect=function(c,p,S,N){Qt(0),this.W=c,this.H=p||{},S&&N!==void 0&&(this.H.OSID=S,this.H.OAID=N),this.F=this.X,this.I=iw(this,null,this.W),fc(this)};function pp(c){if(Y_(c),c.G==3){var p=c.U++,S=Lr(c.I);if(Be(S,"SID",c.K),Be(S,"RID",p),Be(S,"TYPE","terminate"),Ka(c,S),p=new gi(c,c.j,p),p.L=2,p.v=lc(Lr(S)),S=!1,a.navigator&&a.navigator.sendBeacon)try{S=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!S&&a.Image&&(new Image().src=p.v,S=!0),S||(p.g=sw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),sc(p)}rw(c)}function dc(c){c.g&&(gp(c),c.g.cancel(),c.g=null)}function Y_(c){dc(c),c.u&&(a.clearTimeout(c.u),c.u=null),pc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function fc(c){if(!b_(c.h)&&!c.s){c.s=!0;var p=c.Ga;z||q(),U||(z(),U=!0),F.add(p,c),c.B=0}}function Yb(c,p){return N_(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ja(f(c.Ga,c,p),nw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new gi(this,this.j,c);let B=this.o;if(this.S&&(B?(B=g(B),k(B,this.S)):B=this.S),this.m!==null||this.O||($.H=B,B=null),this.P)e:{for(var p=0,S=0;S<this.i.length;S++){t:{var N=this.i[S];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(p+=N,4096<p){p=S;break e}if(p===4096||S===this.i.length-1){p=S+1;break e}}p=1e3}else p=1e3;p=J_(this,$,p),S=Lr(this.I),Be(S,"RID",c),Be(S,"CVER",22),this.D&&Be(S,"X-HTTP-Session-Id",this.D),Ka(this,S),B&&(this.O?p="headers="+encodeURIComponent(String(B_(B)))+"&"+p:this.m&&fp(S,this.m,B)),dp(this.h,$),this.Ua&&Be(S,"TYPE","init"),this.P?(Be(S,"$req",p),Be(S,"SID","null"),$.T=!0,lp($,S,null)):lp($,S,p),this.G=2}}else this.G==3&&(c?X_(this,c):this.i.length==0||b_(this.h)||X_(this))};function X_(c,p){var S;p?S=p.l:S=c.U++;const N=Lr(c.I);Be(N,"SID",c.K),Be(N,"RID",S),Be(N,"AID",c.T),Ka(c,N),c.m&&c.o&&fp(N,c.m,c.o),S=new gi(c,c.j,S,c.B+1),c.m===null&&(S.H=c.o),p&&(c.i=p.D.concat(c.i)),p=J_(c,S,1e3),S.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),dp(c.h,S),lp(S,N,p)}function Ka(c,p){c.H&&L(c.H,function(S,N){Be(p,N,S)}),c.l&&O_({},function(S,N){Be(p,N,S)})}function J_(c,p,S){S=Math.min(c.i.length,S);var N=c.l?f(c.l.Na,c.l,c):null;e:{var $=c.i;let B=-1;for(;;){const X=["count="+S];B==-1?0<S?(B=$[0].g,X.push("ofs="+B)):B=0:X.push("ofs="+B);let Le=!0;for(let At=0;At<S;At++){let ke=$[At].g;const Lt=$[At].map;if(ke-=B,0>ke)B=Math.max(0,$[At].g-100),Le=!1;else try{qb(Lt,X,"req"+ke+"_")}catch{N&&N(Lt)}}if(Le){N=X.join("&");break e}}}return c=c.i.splice(0,S),p.D=c,N}function Z_(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;z||q(),U||(z(),U=!0),F.add(p,c),c.v=0}}function mp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ja(f(c.Fa,c),nw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ew(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ja(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qt(10),dc(this),ew(this))};function gp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function ew(c){c.g=new gi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=Lr(c.qa);Be(p,"RID","rpc"),Be(p,"SID",c.K),Be(p,"AID",c.T),Be(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(p,"TO",c.ja),Be(p,"TYPE","xmlhttp"),Ka(c,p),c.m&&c.o&&fp(p,c.m,c.o),c.L&&(c.g.I=c.L);var S=c.g;c=c.ia,S.L=1,S.v=lc(Lr(p)),S.m=null,S.P=!0,R_(S,c)}t.Za=function(){this.C!=null&&(this.C=null,dc(this),mp(this),Qt(19))};function pc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function tw(c,p){var S=null;if(c.g==p){pc(c),gp(c),c.g=null;var N=2}else if(hp(c.h,p))S=p.D,M_(c.h,p),N=1;else return;if(c.G!=0){if(p.o)if(N==1){S=p.m?p.m.length:0,p=Date.now()-p.F;var $=c.B;N=nc(),ze(N,new T_(N,S)),fc(c)}else Z_(c);else if($=p.s,$==3||$==0&&0<p.X||!(N==1&&Yb(c,p)||N==2&&mp(c)))switch(S&&0<S.length&&(p=c.h,p.i=p.i.concat(S)),$){case 1:gs(c,5);break;case 4:gs(c,10);break;case 3:gs(c,6);break;default:gs(c,2)}}}function nw(c,p){let S=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(S*=2),S*p}function gs(c,p){if(c.j.info("Error code "+p),p==2){var S=f(c.fb,c),N=c.Xa;const $=!N;N=new ms(N||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||oc(N,"https"),lc(N),$?Bb(N.toString(),S):Wb(N.toString(),S)}else Qt(2);c.G=0,c.l&&c.l.sa(p),rw(c),Y_(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function rw(c){if(c.G=0,c.ka=[],c.l){const p=D_(c.h);(p.length!=0||c.i.length!=0)&&(I(c.ka,p),I(c.ka,c.i),c.h.i.length=0,x(c.i),c.i.length=0),c.l.ra()}}function iw(c,p,S){var N=S instanceof ms?Lr(S):new ms(S);if(N.g!="")p&&(N.g=p+"."+N.g),ac(N,N.s);else{var $=a.location;N=$.protocol,p=p?p+"."+$.hostname:$.hostname,$=+$.port;var B=new ms(null);N&&oc(B,N),p&&(B.g=p),$&&ac(B,$),S&&(B.l=S),N=B}return S=c.D,p=c.ya,S&&p&&Be(N,S,p),Be(N,"VER",c.la),Ka(c,N),N}function sw(c,p,S){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new it(new uc({eb:S})):new it(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ow(){}t=ow.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mc(){}mc.prototype.g=function(c,p){return new Tn(c,p)};function Tn(c,p){Xe.call(this),this.g=new Q_(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!w(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ro(this)}E(Tn,Xe),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){pp(this.g)},Tn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var S={};S.__data__=c,c=S}else this.u&&(S={},S.__data__=eo(c),c=S);p.i.push(new Mb(p.Ya++,c)),p.G==3&&fc(p)},Tn.prototype.N=function(){this.g.l=null,delete this.j,pp(this.g),delete this.g,Tn.aa.N.call(this)};function aw(c){ip.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const S in p){c=S;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}E(aw,ip);function lw(){sp.call(this),this.status=1}E(lw,sp);function ro(c){this.g=c}E(ro,ow),ro.prototype.ua=function(){ze(this.g,"a")},ro.prototype.ta=function(c){ze(this.g,new aw(c))},ro.prototype.sa=function(c){ze(this.g,new lw)},ro.prototype.ra=function(){ze(this.g,"b")},mc.prototype.createWebChannel=mc.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,lC=function(){return new mc},aC=function(){return nc()},oC=fs,Ag={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rc.NO_ERROR=0,rc.TIMEOUT=8,rc.HTTP_ERROR=6,mh=rc,S_.COMPLETE="complete",sC=S_,__.EventType=La,La.OPEN="a",La.CLOSE="b",La.ERROR="c",La.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,cl=__,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,iC=it}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const F1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new V0("@firebase/firestore");function fo(){return $s.logLevel}function ee(t,...e){if($s.logLevel<=we.DEBUG){const n=e.map(U0);$s.debug(`Firestore (${Ra}): ${t}`,...n)}}function li(t,...e){if($s.logLevel<=we.ERROR){const n=e.map(U0);$s.error(`Firestore (${Ra}): ${t}`,...n)}}function sa(t,...e){if($s.logLevel<=we.WARN){const n=e.map(U0);$s.warn(`Firestore (${Ra}): ${t}`,...n)}}function U0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${Ra}) INTERNAL ASSERTION FAILED: `+t;throw li(e),new Error(e)}function Ne(t,e){t||ce()}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class FL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UL{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ei;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ei,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ei)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new uC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new $t(e)}}class $L{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class zL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $L(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class WL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Ne(this.o===void 0);const r=s=>{s.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ee("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new BL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=HL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function oa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new oe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.timestamp=e}static fromTimestamp(e){return new de(e)}static min(){return new de(new wt(0,0))}static max(){return new de(new wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return lu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof lu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends lu{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const qL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends lu{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return qL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Nt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new oe(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new oe(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new oe(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new oe(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(Ye.fromString(e))}static fromName(e){return new ue(Ye.fromString(e).popFirst(5))}static empty(){return new ue(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new Ye(e.slice()))}}function KL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new ts(i,ue.empty(),e)}function GL(t){return new ts(t.readTime,t.key,-1)}class ts{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ts(de.min(),ue.empty(),-1)}static max(){return new ts(de.max(),ue.empty(),-1)}}function QL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aa(t){if(t.code!==K.FAILED_PRECONDITION||t.message!==YL)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(i=>i?H.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new H((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function JL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ka(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}kf.oe=-1;function Pf(t){return t==null}function dd(t){return t===0&&1/t==-1/0}function ZL(t){return typeof t=="number"&&Number.isInteger(t)&&!dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=U1(e)),e=t4(t.get(n),e);return U1(e)}function t4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function U1(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ys(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=i??Pt.EMPTY,this.right=s??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Pt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Pt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z1(this.data.getIterator())}getIteratorFrom(e){return new z1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class z1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new ir([])}unionWith(e){let n=new It(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ir(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dC("Invalid base64 string: "+s):s}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const n4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(t){if(Ne(!!t),typeof t=="string"){let e=0;const n=n4.exec(t);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function rs(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function bf(t){const e=t.mapValue.fields.__previous_value__;return $0(e)?bf(e):e}function uu(t){const e=ns(t.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class cu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$0(t)?4:s4(t)?9007199254740991:i4(t)?10:11:ce()}function kr(t,e){if(t===e)return!0;const n=is(t);if(n!==is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uu(t).isEqual(uu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ns(i.timestampValue),a=ns(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return rs(i.bytesValue).isEqual(rs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return lt(i.geoPointValue.latitude)===lt(s.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return lt(i.integerValue)===lt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=lt(i.doubleValue),a=lt(s.doubleValue);return o===a?dd(o)===dd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return oa(t.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if($1(o)!==$1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!kr(o[l],a[l])))return!1;return!0}(t,e);default:return ce()}}function hu(t,e){return(t.values||[]).find(n=>kr(n,e))!==void 0}function aa(t,e){if(t===e)return 0;const n=is(t),r=is(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=lt(s.integerValue||s.doubleValue),l=lt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return B1(t.timestampValue,e.timestampValue);case 4:return B1(uu(t),uu(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(s,o){const a=rs(s),l=rs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=Ie(a[u],l[u]);if(h!==0)return h}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ie(lt(s.latitude),lt(o.latitude));return a!==0?a:Ie(lt(s.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return W1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,h;const d=s.fields||{},f=o.fields||{},m=(a=d.value)===null||a===void 0?void 0:a.arrayValue,E=(l=f.value)===null||l===void 0?void 0:l.arrayValue,x=Ie(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((h=E==null?void 0:E.values)===null||h===void 0?void 0:h.length)||0);return x!==0?x:W1(m,E)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Lc.mapValue&&o===Lc.mapValue)return 0;if(s===Lc.mapValue)return 1;if(o===Lc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=Ie(l[d],h[d]);if(f!==0)return f;const m=aa(a[l[d]],u[h[d]]);if(m!==0)return m}return Ie(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ce()}}function B1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=ns(t),r=ns(e),i=Ie(n.seconds,r.seconds);return i!==0?i:Ie(n.nanos,r.nanos)}function W1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=aa(n[i],r[i]);if(s)return s}return Ie(n.length,r.length)}function la(t){return kg(t)}function kg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ns(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=kg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${kg(n.fields[o])}`;return i+"}"}(t.mapValue):ce()}function gh(t){switch(is(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bf(t);return e?16+gh(e):16;case 5:return 2*t.stringValue.length;case 6:return rs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+gh(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ys(r.fields,(s,o)=>{i+=s.length+gh(o)}),i}(t.mapValue);default:throw ce()}}function Pg(t){return!!t&&"integerValue"in t}function z0(t){return!!t&&"arrayValue"in t}function H1(t){return!!t&&"nullValue"in t}function q1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function vh(t){return!!t&&"mapValue"in t}function i4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ys(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function s4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=bl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];vh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ys(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new jn(bl(this.value))}}function fC(t){const e=[];return Ys(t.fields,(n,r)=>{const i=new Nt([n]);if(vh(r)){const s=fC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ir(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Bt(e,0,de.min(),de.min(),de.min(),jn.empty(),0)}static newFoundDocument(e,n,r,i){return new Bt(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new Bt(e,2,n,de.min(),de.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,de.min(),de.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,n){this.position=e,this.inclusive=n}}function K1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=aa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function G1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n="asc"){this.field=e,this.dir=n}}function o4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{}class yt extends pC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new l4(e,n,r):n==="array-contains"?new h4(e,r):n==="in"?new d4(e,r):n==="not-in"?new f4(e,r):n==="array-contains-any"?new p4(e,r):new yt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new u4(e,r):new c4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(aa(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pr extends pC{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Pr(e,n)}matches(e){return mC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mC(t){return t.op==="and"}function gC(t){return a4(t)&&mC(t)}function a4(t){for(const e of t.filters)if(e instanceof Pr)return!1;return!0}function bg(t){if(t instanceof yt)return t.field.canonicalString()+t.op.toString()+la(t.value);if(gC(t))return t.filters.map(e=>bg(e)).join(",");{const e=t.filters.map(n=>bg(n)).join(",");return`${t.op}(${e})`}}function vC(t,e){return t instanceof yt?function(r,i){return i instanceof yt&&r.op===i.op&&r.field.isEqual(i.field)&&kr(r.value,i.value)}(t,e):t instanceof Pr?function(r,i){return i instanceof Pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&vC(o,i.filters[a]),!0):!1}(t,e):void ce()}function yC(t){return t instanceof yt?function(n){return`${n.field.canonicalString()} ${n.op} ${la(n.value)}`}(t):t instanceof Pr?function(n){return n.op.toString()+" {"+n.getFilters().map(yC).join(" ,")+"}"}(t):"Filter"}class l4 extends yt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class u4 extends yt{constructor(e,n){super(e,"in",n),this.keys=_C("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class c4 extends yt{constructor(e,n){super(e,"not-in",n),this.keys=_C("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _C(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class h4 extends yt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return z0(n)&&hu(n.arrayValue,this.value)}}class d4 extends yt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class f4 extends yt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hu(this.value.arrayValue,n)}}class p4 extends yt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!z0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Q1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new m4(t,e,n,r,i,s,o)}function B0(t){const e=fe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Pf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),e.ue=n}return e.ue}function W0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!o4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!G1(t.startAt,e.startAt)&&G1(t.endAt,e.endAt)}function Ng(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function g4(t,e,n,r,i,s,o,a){return new Nf(t,e,n,r,i,s,o,a)}function H0(t){return new Nf(t)}function Y1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function v4(t){return t.collectionGroup!==null}function Nl(t){const e=fe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new It(Nt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new pd(s,r))}),n.has(Nt.keyField().canonicalString())||e.ce.push(new pd(Nt.keyField(),r))}return e.ce}function Sr(t){const e=fe(t);return e.le||(e.le=y4(e,Nl(t))),e.le}function y4(t,e){if(t.limitType==="F")return Q1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new pd(i.field,s)});const n=t.endAt?new fd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new fd(t.startAt.position,t.startAt.inclusive):null;return Q1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Mg(t,e,n){return new Nf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mf(t,e){return W0(Sr(t),Sr(e))&&t.limitType===e.limitType}function wC(t){return`${B0(Sr(t))}|lt:${t.limitType}`}function po(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yC(i)).join(", ")}]`),Pf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>la(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>la(i)).join(",")),`Target(${r})`}(Sr(t))}; limitType=${t.limitType})`}function Df(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Nl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=K1(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Nl(r),i)||r.endAt&&!function(o,a,l){const u=K1(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Nl(r),i))}(t,e)}function _4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function EC(t){return(e,n)=>{let r=!1;for(const i of Nl(t)){const s=w4(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function w4(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?aa(l,u):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return hC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new rt(ue.comparator);function ui(){return E4}const xC=new rt(ue.comparator);function hl(...t){let e=xC;for(const n of t)e=e.insert(n.key,n);return e}function TC(t){let e=xC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cs(){return Ml()}function SC(){return Ml()}function Ml(){return new Xs(t=>t.toString(),(t,e)=>t.isEqual(e))}const x4=new rt(ue.comparator),T4=new It(ue.comparator);function Ee(...t){let e=T4;for(const n of t)e=e.add(n);return e}const S4=new It(Ie);function I4(){return S4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dd(e)?"-0":e}}function IC(t){return{integerValue:""+t}}function C4(t,e){return ZL(e)?IC(e):q0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(){this._=void 0}}function R4(t,e,n){return t instanceof md?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$0(s)&&(s=bf(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof du?RC(t,e):t instanceof fu?AC(t,e):function(i,s){const o=CC(i,s),a=X1(o)+X1(i.Pe);return Pg(o)&&Pg(i.Pe)?IC(a):q0(i.serializer,a)}(t,e)}function A4(t,e,n){return t instanceof du?RC(t,e):t instanceof fu?AC(t,e):n}function CC(t,e){return t instanceof gd?function(r){return Pg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class md extends Of{}class du extends Of{constructor(e){super(),this.elements=e}}function RC(t,e){const n=kC(e);for(const r of t.elements)n.some(i=>kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class fu extends Of{constructor(e){super(),this.elements=e}}function AC(t,e){let n=kC(e);for(const r of t.elements)n=n.filter(i=>!kr(i,r));return{arrayValue:{values:n}}}class gd extends Of{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function X1(t){return lt(t.integerValue||t.doubleValue)}function kC(t){return z0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function k4(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof du&&i instanceof du||r instanceof fu&&i instanceof fu?oa(r.elements,i.elements,kr):r instanceof gd&&i instanceof gd?kr(r.Pe,i.Pe):r instanceof md&&i instanceof md}(t.transform,e.transform)}class P4{constructor(e,n){this.version=e,this.transformResults=n}}class ti{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ti}static exists(e){return new ti(void 0,e)}static updateTime(e){return new ti(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lf{}function PC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new NC(t.key,ti.none()):new ju(t.key,t.data,ti.none());{const n=t.data,r=jn.empty();let i=new It(Nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Js(t.key,r,new ir(i.toArray()),ti.none())}}function b4(t,e,n){t instanceof ju?function(i,s,o){const a=i.value.clone(),l=Z1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Js?function(i,s,o){if(!yh(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Z1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(bC(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Dl(t,e,n,r){return t instanceof ju?function(s,o,a,l){if(!yh(s.precondition,o))return a;const u=s.value.clone(),h=eE(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Js?function(s,o,a,l){if(!yh(s.precondition,o))return a;const u=eE(s.fieldTransforms,l,o),h=o.data;return h.setAll(bC(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return yh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function N4(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=CC(r.transform,i||null);s!=null&&(n===null&&(n=jn.empty()),n.set(r.field,s))}return n||null}function J1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oa(r,i,(s,o)=>k4(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ju extends Lf{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Js extends Lf{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Z1(t,e,n){const r=new Map;Ne(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,A4(o,a,n[i]))}return r}function eE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,R4(s,o,e))}return r}class NC extends Lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M4 extends Lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&b4(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=SC();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=PC(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(n,r)=>J1(n,r))&&oa(this.baseMutations,e.baseMutations,(n,r)=>J1(n,r))}}class K0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length);let i=function(){return x4}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new K0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O4=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Se;function V4(t){switch(t){default:return ce();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0}}function MC(t){if(t===void 0)return li("GRPC error has no .code"),K.UNKNOWN;switch(t){case dt.OK:return K.OK;case dt.CANCELLED:return K.CANCELLED;case dt.UNKNOWN:return K.UNKNOWN;case dt.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case dt.INTERNAL:return K.INTERNAL;case dt.UNAVAILABLE:return K.UNAVAILABLE;case dt.UNAUTHENTICATED:return K.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case dt.NOT_FOUND:return K.NOT_FOUND;case dt.ALREADY_EXISTS:return K.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return K.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case dt.ABORTED:return K.ABORTED;case dt.OUT_OF_RANGE:return K.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return K.UNIMPLEMENTED;case dt.DATA_LOSS:return K.DATA_LOSS;default:return ce()}}(Se=dt||(dt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=new bs([4294967295,4294967295],0);function tE(t){const e=j4().encode(t),n=new rC;return n.update(e),new Uint8Array(n.digest())}function nE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new bs([n,r],0),new bs([i,s],0)]}class G0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new dl(`Invalid padding: ${n}`);if(r<0)throw new dl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new dl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new dl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=bs.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(bs.fromNumber(r)));return i.compare(F4)===1&&(i=new bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=tE(e),[r,i]=nE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new G0(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=tE(e),[r,i]=nE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vf(de.min(),i,new rt(Ie),ui(),Ee())}}class Fu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fu(r,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class DC{constructor(e,n){this.targetId=e,this.me=n}}class OC{constructor(e,n,r=Ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class rE{constructor(){this.fe=0,this.ge=sE(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ee(),n=Ee(),r=Ee();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new Fu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=sE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ne(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class U4{constructor(e){this.Le=e,this.Be=new Map,this.ke=ui(),this.qe=iE(),this.Qe=new rt(Ie)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Ng(s))if(r===0){const o=new ue(s.path);this.Ue(n,o,Bt.newNoDocument(o,de.min()))}else Ne(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=rs(r).toUint8Array()}catch(l){if(l instanceof dC)return sa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new G0(o,i,s)}catch(l){return sa(l instanceof dl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Ng(a.target)){const l=new ue(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Bt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ee();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Vf(e,n,this.Qe,this.ke,r);return this.ke=ui(),this.qe=iE(),this.Qe=new rt(Ie),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new rE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new It(Ie),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function iE(){return new rt(ue.comparator)}function sE(){return new rt(ue.comparator)}const $4={asc:"ASCENDING",desc:"DESCENDING"},z4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B4={and:"AND",or:"OR"};class W4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dg(t,e){return t.useProto3Json||Pf(e)?e:{value:e}}function vd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function H4(t,e){return vd(t,e.toTimestamp())}function Ir(t){return Ne(!!t),de.fromTimestamp(function(n){const r=ns(n);return new wt(r.seconds,r.nanos)}(t))}function Q0(t,e){return Og(t,e).canonicalString()}function Og(t,e){const n=function(i){return new Ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function VC(t){const e=Ye.fromString(t);return Ne(zC(e)),e}function Lg(t,e){return Q0(t.databaseId,e.path)}function Xp(t,e){const n=VC(e);if(n.get(1)!==t.databaseId.projectId)throw new oe(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new oe(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(FC(n))}function jC(t,e){return Q0(t.databaseId,e)}function q4(t){const e=VC(t);return e.length===4?Ye.emptyPath():FC(e)}function Vg(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FC(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function oE(t,e,n){return{name:Lg(t,e),fields:n.value.mapValue.fields}}function K4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Ne(h===void 0||typeof h=="string"),Ot.fromBase64String(h||"")):(Ne(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Ot.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?K.UNKNOWN:MC(u.code);return new oe(h,u.message||"")}(o);n=new OC(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xp(t,r.document.name),s=Ir(r.document.updateTime),o=r.document.createTime?Ir(r.document.createTime):de.min(),a=new jn({mapValue:{fields:r.document.fields}}),l=Bt.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new _h(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Xp(t,r.document),s=r.readTime?Ir(r.readTime):de.min(),o=Bt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new _h([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Xp(t,r.document),s=r.removedTargetIds||[];n=new _h([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new L4(i,s),a=r.targetId;n=new DC(a,o)}}return n}function G4(t,e){let n;if(e instanceof ju)n={update:oE(t,e.key,e.value)};else if(e instanceof NC)n={delete:Lg(t,e.key)};else if(e instanceof Js)n={update:oE(t,e.key,e.data),updateMask:rV(e.fieldMask)};else{if(!(e instanceof M4))return ce();n={verify:Lg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof md)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof du)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof fu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gd)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:H4(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(t,e.precondition)),n}function Q4(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Ir(i.updateTime):Ir(s);return o.isEqual(de.min())&&(o=Ir(s)),new P4(o,i.transformResults||[])}(n,e))):[]}function Y4(t,e){return{documents:[jC(t,e.path)]}}function X4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jC(t,i);const s=function(u){if(u.length!==0)return $C(Pr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:mo(f.field),direction:eV(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Dg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function J4(t){let e=q4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ne(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=UC(d);return f instanceof Pr&&gC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(E){return new pd(go(E.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Pf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,m=d.values||[];return new fd(m,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,m=d.values||[];return new fd(m,f)}(n.endAt)),g4(e,i,o,s,a,"F",l,u)}function Z4(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=go(n.unaryFilter.field);return yt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=go(n.unaryFilter.field);return yt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=go(n.unaryFilter.field);return yt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=go(n.unaryFilter.field);return yt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return yt.create(go(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pr.create(n.compositeFilter.filters.map(r=>UC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function eV(t){return $4[t]}function tV(t){return z4[t]}function nV(t){return B4[t]}function mo(t){return{fieldPath:t.canonicalString()}}function go(t){return Nt.fromServerFormat(t.fieldPath)}function $C(t){return t instanceof yt?function(n){if(n.op==="=="){if(q1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NAN"}};if(H1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NAN"}};if(H1(n.value))return{unaryFilter:{field:mo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mo(n.field),op:tV(n.op),value:n.value}}}(t):t instanceof Pr?function(n){const r=n.getFilters().map(i=>$C(i));return r.length===1?r[0]:{compositeFilter:{op:nV(n.op),filters:r}}}(t):ce()}function rV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,n,r,i,s=de.min(),o=de.min(),a=Ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iV{constructor(e){this.ct=e}}function sV(t){const e=J4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this.un=new aV}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(ts.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class aV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new It(Ye.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new It(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ln{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(41943040,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ua(0)}static kn(){return new ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE([t,e],[n,r]){const i=Ie(t,n);return i===0?Ie(e,r):i}class lV{constructor(e){this.Un=e,this.buffer=new It(lE),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();lE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){ee("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ka(n)?ee("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Aa(n)}await this.Hn(3e5)})}}class cV{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(kf.oe);const r=new lV(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(aE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aE):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,o=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,a=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),fo()<=we.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function hV(t,e){return new cV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(){this.changes=new Xs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Dl(r.mutation,i,ir.empty(),wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ee()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ee()){const i=Cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=hl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ee()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ui();const o=Ml(),a=function(){return Ml()}();return n.forEach((l,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Js)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Dl(h.mutation,u,h.mutation.getFieldMask(),wt.now())):o.set(u.key,ir.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var d;return a.set(u,new fV(h,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ml();let i=new rt((o,a)=>o-a),s=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=r.get(l)||ir.empty();h=a.applyToLocalView(u,h),r.set(l,h);const d=(i.get(a.batchId)||Ee()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=SC();h.forEach(f=>{if(!s.has(f)){const m=PC(n.get(f),r.get(f));m!==null&&d.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):v4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):H.resolve(Cs());let a=-1,l=s;return o.next(u=>H.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ee())).next(h=>({batchId:a,changes:TC(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=hl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=hl();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,l=>{const u=function(d,f){return new Nf(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Bt.newInvalidDocument(h)))});let a=hl();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&Dl(h.mutation,u,ir.empty(),wt.now()),Df(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ir(i.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:sV(i.bundledQuery),readTime:Ir(i.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.overlays=new rt(ue.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cs();return H.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const i=Cs(),s=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return H.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new rt((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=Cs(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Cs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return H.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new O4(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ee(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.Tr=new It(xt.Er),this.dr=new It(xt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new xt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new xt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ue(new Ye([])),r=new xt(n,e),i=new xt(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ue(new Ye([])),r=new xt(n,e),i=new xt(n,e+1);let s=Ee();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new xt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class xt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ue.comparator(e.key,n.key)||Ie(e.wr,n.wr)}static Ar(e,n){return Ie(e.wr,n.wr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new It(xt.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new D4(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new xt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new xt(n,0),i=new xt(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(Ie);return n.forEach(i=>{const s=new xt(i,0),o=new xt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ue.isDocumentKey(s)||(s=s.child(""));const o=new xt(new ue(s),0);let a=new It(Ie);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},o),H.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ne(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,i=>{const s=new xt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new xt(n,0),i=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.Mr=e,this.docs=function(){return new rt(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=ui();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Bt.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ui();const o=n.path,a=new ue(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||QL(GL(h),r)<=0||(i.has(h.key)||Df(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new wV(this)}getSize(e){return H.resolve(this.size)}}class wV extends dV{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.persistence=e,this.Nr=new Xs(n=>B0(n),W0),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Y0,this.targetCount=0,this.kr=ua.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ua(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.qr={},this.overlays={},this.Qr=new kf(0),this.Kr=!1,this.Kr=!0,this.$r=new vV,this.referenceDelegate=e(this),this.Ur=new EV(this),this.indexManager=new oV,this.remoteDocumentCache=function(i){return new _V(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new iV(n),this.Gr=new mV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new gV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new yV(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const i=new xV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class xV extends XL{constructor(e){super(),this.currentSequenceNumber=e}}class X0{constructor(e){this.persistence=e,this.Jr=new Y0,this.Yr=null}static Zr(e){return new X0(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{const i=ue.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,de.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class yd{constructor(e,n){this.persistence=e,this.ti=new Xs(r=>e4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=hV(this,n)}static Zr(e,n){return new yd(e,n)}zr(){}jr(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}Zn(e,n){return H.forEach(this.ti,(r,i)=>this.nr(e,r,i).next(s=>s?H.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,o=>this.nr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,de.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),H.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gh(e.data.value)),n}nr(e,n,r){return H.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return H.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ee(),i=Ee();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new J0(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return EO()?8:JL(qt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new TV;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(fo()<=we.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(fo()<=we.DEBUG&&ee("QueryEngine","Query:",po(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(fo()<=we.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(n))):H.resolve())}Yi(e,n){if(Y1(n))return H.resolve(null);let r=Sr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mg(n,null,"F"),r=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ee(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,Mg(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return Y1(n)||i.isEqual(de.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?H.resolve(null):(fo()<=we.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),po(n)),this.rs(e,o,n,KL(i,-1)).next(a=>a))})}ts(e,n){let r=new It(EC(e));return n.forEach((i,s)=>{Df(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return fo()<=we.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",po(n)),this.Ji.getDocumentsMatchingQuery(e,n,ts.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new rt(Ie),this._s=new Xs(s=>B0(s),W0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pV(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function CV(t,e,n,r){return new IV(t,e,n,r)}async function WC(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ee();for(const u of i){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function RV(t,e){const n=fe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const d=u.batch,f=d.keys();let m=H.resolve();return f.forEach(E=>{m=m.next(()=>h.getEntry(l,E)).next(x=>{const I=u.docVersions.get(E);Ne(I!==null),x.version.compareTo(I)<0&&(d.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),h.addEntry(x)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function HC(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function AV(t,e){const n=fe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const f=i.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?m=m.withResumeToken(Ot.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(d,m),function(x,I,_){return x.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,m,h)&&a.push(n.Ur.updateTargetData(s,m))});let l=ui(),u=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(kV(s,o,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!r.isEqual(de.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=i,s))}function kV(t,e,n){let r=Ee(),i=Ee();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ui();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(de.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ee("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function PV(t,e){const n=fe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bV(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Li(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function jg(t,e,n){const r=fe(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ka(o))throw o;ee("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function uE(t,e,n){const r=fe(t);let i=de.min(),s=Ee();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const d=fe(l),f=d._s.get(h);return f!==void 0?H.resolve(d.os.get(f)):d.Ur.getTargetData(u,h)}(r,o,Sr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:de.min(),n?s:Ee())).next(a=>(NV(r,_4(e),a),{documents:a,Ts:s})))}function NV(t,e,n){let r=t.us.get(e)||de.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class cE{constructor(){this.activeTargetIds=I4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MV{constructor(){this.so=new cE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new cE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ee("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ee("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc=null;function Jp(){return Vc===null?Vc=function(){return 268435456+Math.round(2147483648*Math.random())}():Vc++,"0x"+Vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class VV extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=Jp(),l=this.xo(n,r.toUriEncodedString());ee("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,i).then(h=>(ee("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw sa("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ra}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=OV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Jp();return new Promise((o,a)=>{const l=new iC;l.setWithCredentials(!0),l.listenOnce(sC.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case mh.NO_ERROR:const h=l.getResponseJson();ee(Ut,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case mh.TIMEOUT:ee(Ut,`RPC '${e}' ${s} timed out`),a(new oe(K.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const d=l.getStatus();if(ee(Ut,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const m=f==null?void 0:f.error;if(m&&m.status&&m.message){const E=function(I){const _=I.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(_)>=0?_:K.UNKNOWN}(m.status);a(new oe(E,m.message))}else a(new oe(K.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new oe(K.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{ee(Ut,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ee(Ut,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=Jp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lC(),a=aC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=s.join("");ee(Ut,`Creating RPC '${e}' stream ${i}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,m=!1;const E=new LV({Io:I=>{m?ee(Ut,`Not sending because RPC '${e}' stream ${i} is closed:`,I):(f||(ee(Ut,`Opening RPC '${e}' stream ${i} transport.`),d.open(),f=!0),ee(Ut,`RPC '${e}' stream ${i} sending:`,I),d.send(I))},To:()=>d.close()}),x=(I,_,w)=>{I.listen(_,y=>{try{w(y)}catch(R){setTimeout(()=>{throw R},0)}})};return x(d,cl.EventType.OPEN,()=>{m||(ee(Ut,`RPC '${e}' stream ${i} transport opened.`),E.yo())}),x(d,cl.EventType.CLOSE,()=>{m||(m=!0,ee(Ut,`RPC '${e}' stream ${i} transport closed`),E.So())}),x(d,cl.EventType.ERROR,I=>{m||(m=!0,sa(Ut,`RPC '${e}' stream ${i} transport errored:`,I),E.So(new oe(K.UNAVAILABLE,"The operation could not be completed")))}),x(d,cl.EventType.MESSAGE,I=>{var _;if(!m){const w=I.data[0];Ne(!!w);const y=w,R=y.error||((_=y[0])===null||_===void 0?void 0:_.error);if(R){ee(Ut,`RPC '${e}' stream ${i} received error:`,R);const D=R.status;let L=function(T){const k=dt[T];if(k!==void 0)return MC(k)}(D),A=R.message;L===void 0&&(L=K.INTERNAL,A="Unknown error status: "+D+" with message "+R.message),m=!0,E.So(new oe(L,A)),d.close()}else ee(Ut,`RPC '${e}' stream ${i} received:`,w),E.bo(w)}}),x(a,oC.STAT_EVENT,I=>{I.stat===Ag.PROXY?ee(Ut,`RPC '${e}' stream ${i} detected buffering proxy`):I.stat===Ag.NOPROXY&&ee(Ut,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function Zp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(t){return new W4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&ee("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===K.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new oe(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ee("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(ee("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jV extends KC{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=K4(this.serializer,e),r=function(s){if(!("targetChange"in s))return de.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?de.min():o.readTime?Ir(o.readTime):de.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Vg(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Ng(l)?{documents:Y4(s,l)}:{query:X4(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=LC(s,o.resumeToken);const u=Dg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(de.min())>0){a.readTime=vd(s,o.snapshotVersion.toTimestamp());const u=Dg(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Z4(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Vg(this.serializer),n.removeTarget=e,this.a_(n)}}class FV extends KC{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Q4(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Vg(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>G4(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new oe(K.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Og(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new oe(K.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Og(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(K.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class $V{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(li(n),this.D_=!1):ee("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Zs(this)&&(ee("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=fe(l);u.L_.add(4),await Uu(u),u.q_.set("Unknown"),u.L_.delete(4),await Ff(u)}(this))})}),this.q_=new $V(r,i)}}async function Ff(t){if(Zs(t))for(const e of t.B_)await e(!0)}async function Uu(t){for(const e of t.B_)await e(!1)}function GC(t,e){const n=fe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),ny(n)?ty(n):Pa(n).r_()&&ey(n,e))}function Z0(t,e){const n=fe(t),r=Pa(n);n.N_.delete(e),r.r_()&&QC(n,e),n.N_.size===0&&(r.r_()?r.o_():Zs(n)&&n.q_.set("Unknown"))}function ey(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pa(t).A_(e)}function QC(t,e){t.Q_.xe(e),Pa(t).R_(e)}function ty(t){t.Q_=new U4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Pa(t).start(),t.q_.v_()}function ny(t){return Zs(t)&&!Pa(t).n_()&&t.N_.size>0}function Zs(t){return fe(t).L_.size===0}function YC(t){t.Q_=void 0}async function BV(t){t.q_.set("Online")}async function WV(t){t.N_.forEach((e,n)=>{ey(t,e)})}async function HV(t,e){YC(t),ny(t)?(t.q_.M_(e),ty(t)):t.q_.set("Unknown")}async function qV(t,e,n){if(t.q_.set("Online"),e instanceof OC&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){ee("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _d(t,r)}else if(e instanceof _h?t.Q_.Ke(e):e instanceof DC?t.Q_.He(e):t.Q_.We(e),!n.isEqual(de.min()))try{const r=await HC(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(u);h&&s.N_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(Ot.EMPTY_BYTE_STRING,h.snapshotVersion)),QC(s,l);const d=new Li(h.target,l,u,h.sequenceNumber);ey(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee("RemoteStore","Failed to raise snapshot:",r),await _d(t,r)}}async function _d(t,e,n){if(!ka(e))throw e;t.L_.add(1),await Uu(t),t.q_.set("Offline"),n||(n=()=>HC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ff(t)})}function XC(t,e){return e().catch(n=>_d(t,n,e))}async function Uf(t){const e=fe(t),n=ss(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;KV(e);)try{const i=await PV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,GV(e,i)}catch(i){await _d(e,i)}JC(e)&&ZC(e)}function KV(t){return Zs(t)&&t.O_.length<10}function GV(t,e){t.O_.push(e);const n=ss(t);n.r_()&&n.V_&&n.m_(e.mutations)}function JC(t){return Zs(t)&&!ss(t).n_()&&t.O_.length>0}function ZC(t){ss(t).start()}async function QV(t){ss(t).p_()}async function YV(t){const e=ss(t);for(const n of t.O_)e.m_(n.mutations)}async function XV(t,e,n){const r=t.O_.shift(),i=K0.from(r,e,n);await XC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Uf(t)}async function JV(t,e){e&&ss(t).V_&&await async function(r,i){if(function(o){return V4(o)&&o!==K.ABORTED}(i.code)){const s=r.O_.shift();ss(r).s_(),await XC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Uf(r)}}(t,e),JC(t)&&ZC(t)}async function dE(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),ee("RemoteStore","RemoteStore received new credentials");const r=Zs(n);n.L_.add(3),await Uu(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ff(n)}async function ZV(t,e){const n=fe(t);e?(n.L_.delete(2),await Ff(n)):e||(n.L_.add(2),await Uu(n),n.q_.set("Unknown"))}function Pa(t){return t.K_||(t.K_=function(n,r,i){const s=fe(n);return s.w_(),new jV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:BV.bind(null,t),Ro:WV.bind(null,t),mo:HV.bind(null,t),d_:qV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),ny(t)?ty(t):t.q_.set("Unknown")):(await t.K_.stop(),YC(t))})),t.K_}function ss(t){return t.U_||(t.U_=function(n,r,i){const s=fe(n);return s.w_(),new FV(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:QV.bind(null,t),mo:JV.bind(null,t),f_:YV.bind(null,t),g_:XV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Uf(t)):(await t.U_.stop(),t.O_.length>0&&(ee("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ei,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ry(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(t,e){if(li("AsyncQueue",`${e}: ${t}`),ka(t))return new oe(K.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=hl(),this.sortedSet=new rt(this.comparator)}static emptySet(e){return new Uo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.W_=new rt(ue.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ca{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ca(e,n,Uo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class tj{constructor(){this.queries=pE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=fe(n),s=i.queries;i.queries=pE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new oe(K.ABORTED,"Firestore shutting down"))}}function pE(){return new Xs(t=>wC(t),Mf)}async function eR(t,e){const n=fe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new ej,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=iy(o,`Initialization of query '${po(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&sy(n)}async function tR(t,e){const n=fe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nj(t,e){const n=fe(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&sy(n)}function rj(t,e,n){const r=fe(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function sy(t){t.Y_.forEach(e=>{e.next()})}var Fg,mE;(mE=Fg||(Fg={})).ea="default",mE.Cache="cache";class nR{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Fg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.key=e}}class iR{constructor(e){this.key=e}}class ij{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ee(),this.mutatedKeys=Ee(),this.Aa=EC(e),this.Ra=new Uo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new fE,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,d)=>{const f=i.get(h),m=Df(this.query,d)?d:null,E=!!f&&this.mutatedKeys.has(f.key),x=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let I=!1;f&&m?f.data.isEqual(m.data)?E!==x&&(r.track({type:3,doc:m}),I=!0):this.ga(f,m)||(r.track({type:2,doc:m}),I=!0,(l&&this.Aa(m,l)>0||u&&this.Aa(m,u)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),I=!0):f&&!m&&(r.track({type:1,doc:f}),I=!0,(l||u)&&(a=!0)),I&&(m?(o=o.add(m),s=x?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(m,E){const x=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return x(m)-x(E)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new ca(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new fE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ee(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new iR(r))}),this.da.forEach(r=>{e.has(r)||n.push(new rR(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ee();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ca.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class sj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class oj{constructor(e){this.key=e,this.va=!1}}class aj{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Xs(a=>wC(a),Mf),this.Ma=new Map,this.xa=new Set,this.Oa=new rt(ue.comparator),this.Na=new Map,this.La=new Y0,this.Ba={},this.ka=new Map,this.qa=ua.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function lj(t,e,n=!0){const r=cR(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await sR(r,e,n,!0),i}async function uj(t,e){const n=cR(t);await sR(n,e,!0,!1)}async function sR(t,e,n,r){const i=await bV(t.localStore,Sr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await cj(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&GC(t.remoteStore,i),a}async function cj(t,e,n,r,i){t.Ka=(d,f,m)=>async function(x,I,_,w){let y=I.view.ma(_);y.ns&&(y=await uE(x.localStore,I.query,!1).then(({documents:A})=>I.view.ma(A,y)));const R=w&&w.targetChanges.get(I.targetId),D=w&&w.targetMismatches.get(I.targetId)!=null,L=I.view.applyChanges(y,x.isPrimaryClient,R,D);return vE(x,I.targetId,L.wa),L.snapshot}(t,d,f,m);const s=await uE(t.localStore,e,!0),o=new ij(e,s.Ts),a=o.ma(s.documents),l=Fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);vE(t,n,u.wa);const h=new sj(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function hj(t,e,n){const r=fe(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Mf(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await jg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Z0(r.remoteStore,i.targetId),Ug(r,i.targetId)}).catch(Aa)):(Ug(r,i.targetId),await jg(r.localStore,i.targetId,!0))}async function dj(t,e){const n=fe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Z0(n.remoteStore,r.targetId))}async function fj(t,e,n){const r=wj(t);try{const i=await function(o,a){const l=fe(o),u=wt.now(),h=a.reduce((m,E)=>m.add(E.key),Ee());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let E=ui(),x=Ee();return l.cs.getEntries(m,h).next(I=>{E=I,E.forEach((_,w)=>{w.isValidDocument()||(x=x.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,E)).next(I=>{d=I;const _=[];for(const w of a){const y=N4(w,d.get(w.key).overlayedDocument);y!=null&&_.push(new Js(w.key,y,fC(y.value.mapValue),ti.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,_,a)}).next(I=>{f=I;const _=I.applyToLocalDocumentSet(d,x);return l.documentOverlayCache.saveOverlays(m,I.batchId,_)})}).then(()=>({batchId:f.batchId,changes:TC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new rt(Ie)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,n),await $u(r,i.changes),await Uf(r.remoteStore)}catch(i){const s=iy(i,"Failed to persist write");n.reject(s)}}async function oR(t,e){const n=fe(t);try{const r=await AV(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Ne(o.va):i.removedDocuments.size>0&&(Ne(o.va),o.va=!1))}),await $u(n,r,e)}catch(r){await Aa(r)}}function gE(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=fe(o);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const f of d.j_)f.Z_(a)&&(u=!0)}),u&&sy(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pj(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new rt(ue.comparator);o=o.insert(s,Bt.newNoDocument(s,de.min()));const a=Ee().add(s),l=new Vf(de.min(),new Map,new rt(Ie),o,a);await oR(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),oy(r)}else await jg(r.localStore,e,!1).then(()=>Ug(r,e,n)).catch(Aa)}async function mj(t,e){const n=fe(t),r=e.batch.batchId;try{const i=await RV(n.localStore,e);lR(n,r,null),aR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await $u(n,i)}catch(i){await Aa(i)}}async function gj(t,e,n){const r=fe(t);try{const i=await function(o,a){const l=fe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Ne(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);lR(r,e,n),aR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await $u(r,i)}catch(i){await Aa(i)}}function aR(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function lR(t,e,n){const r=fe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ug(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||uR(t,r)})}function uR(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Z0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),oy(t))}function vE(t,e,n){for(const r of n)r instanceof rR?(t.La.addReference(r.key,e),vj(t,r)):r instanceof iR?(ee("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||uR(t,r.key)):ce()}function vj(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(ee("SyncEngine","New document in limbo: "+n),t.xa.add(r),oy(t))}function oy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ue(Ye.fromString(e)),r=t.qa.next();t.Na.set(r,new oj(n)),t.Oa=t.Oa.insert(n,r),GC(t.remoteStore,new Li(Sr(H0(n.path)),r,"TargetPurposeLimboResolution",kf.oe))}}async function $u(t,e,n){const r=fe(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){i.push(u);const d=J0.Wi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,u){const h=fe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>H.forEach(u,f=>H.forEach(f.$i,m=>h.persistence.referenceDelegate.addReference(d,f.targetId,m)).next(()=>H.forEach(f.Ui,m=>h.persistence.referenceDelegate.removeReference(d,f.targetId,m)))))}catch(d){if(!ka(d))throw d;ee("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const m=h.os.get(f),E=m.snapshotVersion,x=m.withLastLimboFreeSnapshotVersion(E);h.os=h.os.insert(f,x)}}}(r.localStore,s))}async function yj(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){ee("SyncEngine","User change. New user:",e.toKey());const r=await WC(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new oe(K.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await $u(n,r.hs)}}function _j(t,e){const n=fe(t),r=n.Na.get(e);if(r&&r.va)return Ee().add(r.key);{let i=Ee();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function cR(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_j.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pj.bind(null,e),e.Ca.d_=nj.bind(null,e.eventManager),e.Ca.$a=rj.bind(null,e.eventManager),e}function wj(t){const e=fe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gj.bind(null,e),e}class wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return CV(this.persistence,new SV,e.initialUser,this.serializer)}Ga(e){return new BC(X0.Zr,this.serializer)}Wa(e){return new MV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wd.provider={build:()=>new wd};class Ej extends wd{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){Ne(this.persistence.referenceDelegate instanceof yd);const r=this.persistence.referenceDelegate.garbageCollector;return new uV(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new BC(r=>yd.Zr(r,n),this.serializer)}}class $g{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yj.bind(null,this.syncEngine),await ZV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tj}()}createDatastore(e){const n=jf(e.databaseInfo.databaseId),r=function(s){return new VV(s)}(e.databaseInfo);return function(s,o,a,l){return new UV(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new zV(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>gE(this.syncEngine,n,0),function(){return hE.D()?new hE:new DV}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,h){const d=new aj(i,s,o,a,l,u);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=fe(i);ee("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Uu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$g.provider={build:()=>new $g};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xj{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=cC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{ee("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ee("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ei;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function em(t,e){t.asyncQueue.verifyOperationInProgress(),ee("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await WC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Tj(t);ee("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>dE(e.remoteStore,i)),t._onlineComponents=e}async function Tj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee("FirestoreClient","Using user provided OfflineComponentProvider");try{await em(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===K.FAILED_PRECONDITION||i.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;sa("Error using user provided cache. Falling back to memory cache: "+n),await em(t,new wd)}}else ee("FirestoreClient","Using default OfflineComponentProvider"),await em(t,new Ej(void 0));return t._offlineComponents}async function dR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee("FirestoreClient","Using user provided OnlineComponentProvider"),await yE(t,t._uninitializedComponentsProvider._online)):(ee("FirestoreClient","Using default OnlineComponentProvider"),await yE(t,new $g))),t._onlineComponents}function Sj(t){return dR(t).then(e=>e.syncEngine)}async function fR(t){const e=await dR(t),n=e.eventManager;return n.onListen=lj.bind(null,e.syncEngine),n.onUnlisten=hj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dj.bind(null,e.syncEngine),n}function Ij(t,e,n={}){const r=new ei;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new hR({next:f=>{h.Za(),o.enqueueAndForget(()=>tR(s,d));const m=f.docs.has(a);!m&&f.fromCache?u.reject(new oe(K.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?u.reject(new oe(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new nR(H0(a.path),h,{includeMetadataChanges:!0,_a:!0});return eR(s,d)}(await fR(t),t.asyncQueue,e,n,r)),r.promise}function Cj(t,e,n={}){const r=new ei;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new hR({next:f=>{h.Za(),o.enqueueAndForget(()=>tR(s,d)),f.fromCache&&l.source==="server"?u.reject(new oe(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new nR(a,h,{includeMetadataChanges:!0,_a:!0});return eR(s,d)}(await fR(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t,e,n){if(!n)throw new oe(K.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Rj(t,e,n,r){if(e===!0&&r===!0)throw new oe(K.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wE(t){if(!ue.isDocumentKey(t))throw new oe(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function EE(t){if(ue.isDocumentKey(t))throw new oe(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ay(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function zs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new oe(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ay(t);throw new oe(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new oe(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new oe(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Rj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new oe(K.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $f{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jL;switch(r.type){case"firstParty":return new zL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_E.get(n);r&&(ee("ComponentProvider","Removing Datastore"),_E.delete(n),r.terminate())}(this),Promise.resolve()}}function Aj(t,e,n,r={}){var i;const s=(t=zs(t,$f))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=$t.MOCK_USER;else{a=pO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new oe(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new $t(u)}t._authCredentials=new FL(new uC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zf(this.firestore,e,this._query)}}class Pn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class Qi extends zf{constructor(e,n,r){super(e,n,H0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new ue(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function gR(t,e,...n){if(t=Hn(t),mR("collection","path",e),t instanceof $f){const r=Ye.fromString(e,...n);return EE(r),new Qi(t,null,r)}{if(!(t instanceof Pn||t instanceof Qi))throw new oe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return EE(r),new Qi(t.firestore,null,r)}}function Ns(t,e,...n){if(t=Hn(t),arguments.length===1&&(e=cC.newId()),mR("doc","path",e),t instanceof $f){const r=Ye.fromString(e,...n);return wE(r),new Pn(t,null,new ue(r))}{if(!(t instanceof Pn||t instanceof Qi))throw new oe(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return wE(r),new Pn(t.firestore,t instanceof Qi?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new qC(this,"async_queue_retry"),this.Vu=()=>{const r=Zp();r&&ee("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Zp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Zp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new ei;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ka(e))throw e;ee("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw li("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=ry.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ce()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class Bf extends $f{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new TE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TE(e),this._firestoreClient=void 0,await e}}}function kj(t,e){const n=typeof t=="object"?t:eC(),r=typeof t=="string"?t:"(default)",i=F0(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=dO("firestore");s&&Aj(i,...s)}return i}function ly(t){if(t._terminated)throw new oe(K.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Pj(t),t._firestoreClient}function Pj(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,h){return new r4(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,pR(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new xj(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ha(Ot.fromBase64String(e))}catch(n){throw new oe(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ha(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=/^__.*__$/;class Nj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Js(e,this.data,this.fieldMask,n,this.fieldTransforms):new ju(e,this.data,n,this.fieldTransforms)}}function yR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class dy{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new dy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ed(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(yR(this.Cu)&&bj.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Mj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jf(e)}Qu(e,n,r,i=!1){return new dy({Cu:e,methodName:n,qu:r,path:Nt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dj(t){const e=t._freezeSettings(),n=jf(t._databaseId);return new Mj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Oj(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);xR("Data must be an object, but it was:",o,r);const a=wR(r,o);let l,u;if(s.merge)l=new ir(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=Lj(e,d,n);if(!o.contains(f))throw new oe(K.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);jj(h,f)||h.push(f)}l=new ir(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new Nj(new jn(a),l,u)}function _R(t,e){if(ER(t=Hn(t)))return xR("Unsupported field value:",e,t),wR(t,e);if(t instanceof vR)return function(r,i){if(!yR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=_R(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Hn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return C4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=wt.fromDate(r);return{timestampValue:vd(i.serializer,s)}}if(r instanceof wt){const s=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vd(i.serializer,s)}}if(r instanceof cy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ha)return{bytesValue:LC(i.serializer,r._byteString)};if(r instanceof Pn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Q0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof hy)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return q0(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${ay(r)}`)}(t,e)}function wR(t,e){const n={};return hC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(t,(r,i)=>{const s=_R(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ER(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof cy||t instanceof ha||t instanceof Pn||t instanceof vR||t instanceof hy)}function xR(t,e,n){if(!ER(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ay(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Lj(t,e,n){if((e=Hn(e))instanceof uy)return e._internalPath;if(typeof e=="string")return TR(t,e);throw Ed("Field path arguments must be of type string or ",t,!1,void 0,n)}const Vj=new RegExp("[~\\*/\\[\\]]");function TR(t,e,n){if(e.search(Vj)>=0)throw Ed(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uy(...e.split("."))._internalPath}catch{throw Ed(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ed(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new oe(K.INVALID_ARGUMENT,a+t+l)}function jj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Fj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(IR("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Fj extends SR{data(){return super.data()}}function IR(t,e){return typeof e=="string"?TR(t,e):e instanceof uy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new oe(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $j{convertValue(e,n="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(rs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ys(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>lt(o.doubleValue));return new hy(s)}convertGeoPoint(e){return new cy(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=ns(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);Ne(zC(r));const i=new cu(r.get(1),r.get(3)),s=new ue(r.popFirst(5));return i.isEqual(n)||li(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class CR extends SR{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(IR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wh extends CR{data(e={}){return super.data(e)}}class Bj{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wh(this._firestore,this._userDataWriter,r.key,r,new fl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new wh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new wh(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Wj(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Wj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){t=zs(t,Pn);const e=zs(t.firestore,Bf);return Ij(ly(e),t._key).then(n=>qj(e,t,n))}class RR extends $j{constructor(e){super(),this.firestore=e}convertBytes(e){return new ha(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,n)}}function AR(t){t=zs(t,zf);const e=zs(t.firestore,Bf),n=ly(e),r=new RR(e);return Uj(t._query),Cj(n,t._query).then(i=>new Bj(e,r,t,i))}function kR(t,e,n){t=zs(t,Pn);const r=zs(t.firestore,Bf),i=zj(t.converter,e);return Hj(r,[Oj(Dj(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ti.none())])}function Hj(t,e){return function(r,i){const s=new ei;return r.asyncQueue.enqueueAndForget(async()=>fj(await Sj(r),i,s)),s.promise}(ly(t),e)}function qj(t,e,n){const r=n.docs.get(e._key),i=new RR(t);return new CR(t,i,e._key,r,new fl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ra=i})(Ca),ia(new Us("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Bf(new UL(r.getProvider("auth-internal")),new WL(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new oe(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Gi(F1,"4.7.4",e),Gi(F1,"4.7.4","esm2017")})();var Kj="firebase",Gj="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi(Kj,Gj,"app");var vr=function(){return vr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},vr.apply(this,arguments)};function zu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Qj(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function PR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Yj=PR,bR=new Lu("auth","Firebase",PR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd=new V0("@firebase/auth");function Xj(t,...e){xd.logLevel<=we.WARN&&xd.warn(`Auth (${Ca}): ${t}`,...e)}function Eh(t,...e){xd.logLevel<=we.ERROR&&xd.error(`Auth (${Ca}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(t,...e){throw py(t,...e)}function lr(t,...e){return py(t,...e)}function fy(t,e,n){const r=Object.assign(Object.assign({},Yj()),{[e]:n});return new Lu("auth","Firebase",r).create(e,{appName:t.name})}function Ms(t){return fy(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&br(t,"argument-error"),fy(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function py(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bR.create(t,...e)}function he(t,e,...n){if(!t)throw py(e,...n)}function Qr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Eh(e),new Error(e)}function ci(t,e){t||Qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Zj(){return SE()==="http:"||SE()==="https:"}function SE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Zj()||yO()||"connection"in navigator)?navigator.onLine:!0}function tF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ci(n>e,"Short delay should be less than long delay!"),this.isMobile=mO()||_O()}get(){return eF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t,e){ci(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF=new Bu(3e4,6e4);function gy(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ba(t,e,n,r,i={}){return MR(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Vu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return vO()||(u.referrerPolicy="no-referrer"),NR.fetch()(DR(t,t.config.apiHost,n,a),u)})}async function MR(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nF),e);try{const i=new sF(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw jc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw jc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw jc(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw fy(t,h,u);br(t,h)}}catch(i){if(i instanceof mi)throw i;br(t,"network-request-failed",{message:String(i)})}}async function iF(t,e,n,r,i={}){const s=await ba(t,e,n,r,i);return"mfaPendingCredential"in s&&br(t,"multi-factor-auth-required",{_serverResponse:s}),s}function DR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?my(t.config,i):`${t.config.apiScheme}://${i}`}class sF{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),rF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(t,e){return ba(t,"POST","/v1/accounts:delete",e)}async function OR(t,e){return ba(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aF(t,e=!1){const n=Hn(t),r=await n.getIdToken(e),i=vy(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ol(tm(i.auth_time)),issuedAtTime:Ol(tm(i.iat)),expirationTime:Ol(tm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function tm(t){return Number(t)*1e3}function vy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Eh("JWT malformed, contained fewer than 3 sections"),null;try{const i=KI(n);return i?JSON.parse(i):(Eh("Failed to decode base64 JWT payload"),null)}catch(i){return Eh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function IE(t){const e=vy(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mi&&lF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function lF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Td(t){var e;const n=t.auth,r=await t.getIdToken(),i=await mu(t,OR(n,{idToken:r}));he(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?LR(s.providerUserInfo):[],a=hF(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Bg(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function cF(t){const e=Hn(t);await Td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LR(t){return t.map(e=>{var{providerId:n}=e,r=zu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dF(t,e){const n=await MR(t,{},async()=>{const r=Vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=DR(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",NR.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fF(t,e){return ba(t,"POST","/v2/accounts:revokeToken",gy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):IE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=IE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await dF(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new $o;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(he(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $o,this.toJSON())}_performRefresh(){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=zu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Bg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await mu(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aF(this,e)}reload(){return cF(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Td(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gr(this.auth.app))return Promise.reject(Ms(this.auth));const e=await this.getIdToken();return await mu(this,oF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,h;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,E=(o=n.photoURL)!==null&&o!==void 0?o:void 0,x=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:y,emailVerified:R,isAnonymous:D,providerData:L,stsTokenManager:A}=n;he(y&&A,e,"internal-error");const g=$o.fromJSON(this.name,A);he(typeof y=="string",e,"internal-error"),xi(d,e.name),xi(f,e.name),he(typeof R=="boolean",e,"internal-error"),he(typeof D=="boolean",e,"internal-error"),xi(m,e.name),xi(E,e.name),xi(x,e.name),xi(I,e.name),xi(_,e.name),xi(w,e.name);const T=new Yr({uid:y,auth:e,email:f,emailVerified:R,displayName:d,isAnonymous:D,photoURL:E,phoneNumber:m,tenantId:x,stsTokenManager:g,createdAt:_,lastLoginAt:w});return L&&Array.isArray(L)&&(T.providerData=L.map(k=>Object.assign({},k))),I&&(T._redirectEventId=I),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new $o;i.updateFromServerResponse(n);const s=new Yr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Td(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?LR(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new $o;a.updateFromIdToken(r);const l=new Yr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Bg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;function Xr(t){ci(t instanceof Function,"Expected a class definition");let e=CE.get(t);return e?(ci(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,CE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VR.type="NONE";const RE=VR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t,e,n){return`firebase:${t}:${e}:${n}`}class zo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xh(this.userKey,i.apiKey,s),this.fullPersistenceKey=xh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zo(Xr(RE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Xr(RE);const o=xh(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const d=Yr._fromJSON(e,h);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new zo(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new zo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($R(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BR(e))return"Blackberry";if(WR(e))return"Webos";if(FR(e))return"Safari";if((e.includes("chrome/")||UR(e))&&!e.includes("edge/"))return"Chrome";if(zR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jR(t=qt()){return/firefox\//i.test(t)}function FR(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UR(t=qt()){return/crios\//i.test(t)}function $R(t=qt()){return/iemobile/i.test(t)}function zR(t=qt()){return/android/i.test(t)}function BR(t=qt()){return/blackberry/i.test(t)}function WR(t=qt()){return/webos/i.test(t)}function yy(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pF(t=qt()){var e;return yy(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mF(){return wO()&&document.documentMode===10}function HR(t=qt()){return yy(t)||zR(t)||WR(t)||BR(t)||/windows phone/i.test(t)||$R(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t,e=[]){let n;switch(t){case"Browser":n=AE(qt());break;case"Worker":n=`${AE(qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ca}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vF(t,e={}){return ba(t,"GET","/v2/passwordPolicy",gy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=6;class _F{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:yF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wF{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kE(this),this.idTokenSubscription=new kE(this),this.beforeStateQueue=new gF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await OR(this,{idToken:e}),r=await Yr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Td(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gr(this.app))return Promise.reject(Ms(this));const n=e?Hn(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gr(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gr(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vF(this),n=new _F(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Xj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wf(t){return Hn(t)}class kE{constructor(e){this.auth=e,this.observer=null,this.addObserver=AO(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _y={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EF(t){_y=t}function xF(t){return _y.loadJS(t)}function TF(){return _y.gapiScript}function SF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t,e){const n=F0(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(cd(s,e??{}))return i;br(i,"already-initialized")}return n.initialize({options:e})}function CF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function RF(t,e,n){const r=Wf(t);he(r._canInitEmulator,r,"emulator-config-failed"),he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=KR(e),{host:o,port:a}=AF(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),kF()}function KR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function AF(t){const e=KR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:PE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:PE(o)}}}function PE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qr("not implemented")}_getIdTokenResponse(e){return Qr("not implemented")}_linkToIdToken(e,n){return Qr("not implemented")}_getReauthenticationResolver(e){return Qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bo(t,e){return iF(t,"POST","/v1/accounts:signInWithIdp",gy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF="http://localhost";class Bs extends GR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):br("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=zu(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Bs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Bo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Bo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Bo(e,n)}buildRequest(){const e={requestUri:PF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends wy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends Wu{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends Wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bs._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Br.credential(n,r)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends Wu{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Wu{constructor(){super("twitter.com")}static credential(e,n){return Bs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ni.credential(n,r)}catch{return null}}}Ni.TWITTER_SIGN_IN_METHOD="twitter.com";Ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Yr._fromIdTokenResponse(e,r,i),o=bE(r);return new da({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=bE(r);return new da({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function bE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends mi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sd(e,n,r,i)}}function QR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Sd._fromErrorAndOperation(t,s,e,r):s})}async function bF(t,e,n=!1){const r=await mu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return da._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(t,e,n=!1){const{auth:r}=t;if(Gr(r.app))return Promise.reject(Ms(r));const i="reauthenticate";try{const s=await mu(t,QR(r,i,e,t),n);he(s.idToken,r,"internal-error");const o=vy(s.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),da._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&br(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF(t,e,n=!1){if(Gr(t.app))return Promise.reject(Ms(t));const r="signIn",i=await QR(t,r,e),s=await da._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function DF(t,e,n,r){return Hn(t).onIdTokenChanged(e,n,r)}function OF(t,e,n){return Hn(t).beforeAuthStateChanged(e,n)}function LF(t){return Hn(t).signOut()}const Id="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Id,"1"),this.storage.removeItem(Id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=1e3,jF=10;class XR extends YR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);mF()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jF):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},VF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XR.type="LOCAL";const FF=XR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR extends YR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JR.type="SESSION";const ZR=JR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await UF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $F{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Ey("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return window}function zF(t){Cr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(){return typeof Cr().WorkerGlobalScope<"u"&&typeof Cr().importScripts=="function"}async function BF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function HF(){return eA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA="firebaseLocalStorageDb",qF=1,Cd="firebaseLocalStorage",nA="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qf(t,e){return t.transaction([Cd],e?"readwrite":"readonly").objectStore(Cd)}function KF(){const t=indexedDB.deleteDatabase(tA);return new Hu(t).toPromise()}function Wg(){const t=indexedDB.open(tA,qF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cd,{keyPath:nA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cd)?e(r):(r.close(),await KF(),e(await Wg()))})})}async function NE(t,e,n){const r=qf(t,!0).put({[nA]:e,value:n});return new Hu(r).toPromise()}async function GF(t,e){const n=qf(t,!1).get(e),r=await new Hu(n).toPromise();return r===void 0?null:r.value}function ME(t,e){const n=qf(t,!0).delete(e);return new Hu(n).toPromise()}const QF=800,YF=3;class rA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>YF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hf._getInstance(HF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await BF(),!this.activeServiceWorker)return;this.sender=new $F(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wg();return await NE(e,Id,"1"),await ME(e,Id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>NE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>GF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ME(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=qf(i,!1).getAll();return new Hu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rA.type="LOCAL";const XF=rA;new Bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t,e){return e?Xr(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy extends GR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JF(t){return MF(t.auth,new xy(t),t.bypassAuthState)}function ZF(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),NF(n,new xy(t),t.bypassAuthState)}async function e3(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),bF(n,new xy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JF;case"linkViaPopup":case"linkViaRedirect":return e3;case"reauthViaPopup":case"reauthViaRedirect":return ZF;default:br(this.auth,"internal-error")}}resolve(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ci(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=new Bu(2e3,1e4);async function n3(t,e,n){if(Gr(t.app))return Promise.reject(lr(t,"operation-not-supported-in-this-environment"));const r=Wf(t);Jj(t,e,wy);const i=iA(r,n);return new Rs(r,"signInViaPopup",e,i).executeNotNull()}class Rs extends sA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Rs.currentPopupAction&&Rs.currentPopupAction.cancel(),Rs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){ci(this.filter.length===1,"Popup operations only handle one event");const e=Ey();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Rs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,t3.get())};e()}}Rs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="pendingRedirect",Th=new Map;class i3 extends sA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const r=await s3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s3(t,e){const n=l3(e),r=a3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function o3(t,e){Th.set(t._key(),e)}function a3(t){return Xr(t._redirectPersistence)}function l3(t){return xh(r3,t.config.apiKey,t.name)}async function u3(t,e,n=!1){if(Gr(t.app))return Promise.reject(Ms(t));const r=Wf(t),i=iA(r,e),o=await new i3(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=10*60*1e3;class h3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!oA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c3&&this.cachedEventUids.clear(),this.cachedEventUids.has(DE(e))}saveEventToCache(e){this.cachedEventUids.add(DE(e)),this.lastProcessedEventTime=Date.now()}}function DE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function oA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function d3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(t,e={}){return ba(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m3=/^https?/;async function g3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await f3(t);for(const n of e)try{if(v3(n))return}catch{}br(t,"unauthorized-domain")}function v3(t){const e=zg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!m3.test(n))return!1;if(p3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new Bu(3e4,6e4);function OE(){const t=Cr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _3(t){return new Promise((e,n)=>{var r,i,s;function o(){OE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OE(),n(lr(t,"network-request-failed"))},timeout:y3.get()})}if(!((i=(r=Cr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Cr().gapi)===null||s===void 0)&&s.load)o();else{const a=SF("iframefcb");return Cr()[a]=()=>{gapi.load?o():n(lr(t,"network-request-failed"))},xF(`${TF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Sh=null,e})}let Sh=null;function w3(t){return Sh=Sh||_3(t),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3=new Bu(5e3,15e3),x3="__/auth/iframe",T3="emulator/auth/iframe",S3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},I3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function C3(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?my(e,T3):`https://${t.config.authDomain}/${x3}`,r={apiKey:e.apiKey,appName:t.name,v:Ca},i=I3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Vu(r).slice(1)}`}async function R3(t){const e=await w3(t),n=Cr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:C3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=lr(t,"network-request-failed"),a=Cr().setTimeout(()=>{s(o)},E3.get());function l(){Cr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k3=500,P3=600,b3="_blank",N3="http://localhost";class LE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function M3(t,e,n,r=k3,i=P3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},A3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=qt().toLowerCase();n&&(a=UR(u)?b3:n),jR(u)&&(e=e||N3,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[m,E])=>`${f}${m}=${E},`,"");if(pF(u)&&a!=="_self")return D3(e||"",a),new LE(null);const d=window.open(e||"",a,h);he(d,t,"popup-blocked");try{d.focus()}catch{}return new LE(d)}function D3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="__/auth/handler",L3="emulator/auth/handler",V3=encodeURIComponent("fac");async function VE(t,e,n,r,i,s){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ca,eventId:i};if(e instanceof wy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",RO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Wu){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${V3}=${encodeURIComponent(l)}`:"";return`${j3(t)}?${Vu(a).slice(1)}${u}`}function j3({config:t}){return t.emulator?my(t,L3):`https://${t.authDomain}/${O3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="webStorageSupport";class F3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZR,this._completeRedirectFn=u3,this._overrideRedirectResult=o3}async _openPopup(e,n,r,i){var s;ci((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await VE(e,n,r,zg(),i);return M3(e,o,Ey())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await VE(e,n,r,zg(),i);return zF(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ci(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await R3(e),r=new h3(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nm,{type:nm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[nm];o!==void 0&&n(!!o),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HR()||FR()||yy()}}const U3=F3;var jE="@firebase/auth",FE="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function B3(t){ia(new Us("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qR(t)},u=new wF(r,i,s,l);return CF(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ia(new Us("auth-internal",e=>{const n=Wf(e.getProvider("auth").getImmediate());return(r=>new $3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gi(jE,FE,z3(t)),Gi(jE,FE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=5*60,H3=YI("authIdTokenMaxAge")||W3;let UE=null;const q3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>H3)return;const i=n==null?void 0:n.token;UE!==i&&(UE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function K3(t=eC()){const e=F0(t,"auth");if(e.isInitialized())return e.getImmediate();const n=IF(t,{popupRedirectResolver:U3,persistence:[XF,FF,ZR]}),r=YI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=q3(s.toString());OF(n,o,()=>o(n.currentUser)),DF(n,a=>o(a))}}const i=GI("auth");return i&&RF(n,`http://${i}`),n}function G3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}EF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",G3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});B3("Browser");const Q3={apiKey:"AIzaSyCQAuHljF6PnejIVuTgcn-IMROfG2MJIjE",authDomain:"electoral-pickem.firebaseapp.com",projectId:"electoral-pickem",storageBucket:"electoral-pickem.firebasestorage.app",messagingSenderId:"468132214354",appId:"1:468132214354:web:0766a6b099f66def9c118b"},aA=ZI(Q3),rm=K3(aA),Y3=new Br,ni=kj(aA);var lA={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(Jb,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,o={},a=0,l={parse:function(g,T){var k=(T=T||{}).dynamicTyping||!1;if(A(k)&&(T.dynamicTypingFunction=k,k={}),T.dynamicTyping=k,T.transform=!!A(T.transform)&&T.transform,T.worker&&l.WORKERS_SUPPORTED){var P=function(){if(!l.WORKERS_SUPPORTED)return!1;var b=(V=r.URL||r.webkitURL||null,j=n.toString(),l.BLOB_URL||(l.BLOB_URL=V.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",j,")();"],{type:"text/javascript"})))),O=new r.Worker(b),V,j;return O.onmessage=w,O.id=a++,o[O.id]=O}();return P.userStep=T.step,P.userChunk=T.chunk,P.userComplete=T.complete,P.userError=T.error,T.step=A(T.step),T.chunk=A(T.chunk),T.complete=A(T.complete),T.error=A(T.error),delete T.worker,void P.postMessage({input:g,config:T,workerId:P.id})}var M=null;return l.NODE_STREAM_INPUT,typeof g=="string"?(g=function(b){return b.charCodeAt(0)===65279?b.slice(1):b}(g),M=T.download?new d(T):new m(T)):g.readable===!0&&A(g.read)&&A(g.on)?M=new E(T):(r.File&&g instanceof File||g instanceof Object)&&(M=new f(T)),M.stream(g)},unparse:function(g,T){var k=!1,P=!0,M=",",b=`\r
`,O='"',V=O+O,j=!1,z=null,U=!1;(function(){if(typeof T=="object"){if(typeof T.delimiter!="string"||l.BAD_DELIMITERS.filter(function(W){return T.delimiter.indexOf(W)!==-1}).length||(M=T.delimiter),(typeof T.quotes=="boolean"||typeof T.quotes=="function"||Array.isArray(T.quotes))&&(k=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(j=T.skipEmptyLines),typeof T.newline=="string"&&(b=T.newline),typeof T.quoteChar=="string"&&(O=T.quoteChar),typeof T.header=="boolean"&&(P=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");z=T.columns}T.escapeChar!==void 0&&(V=T.escapeChar+O),(typeof T.escapeFormulae=="boolean"||T.escapeFormulae instanceof RegExp)&&(U=T.escapeFormulae instanceof RegExp?T.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var F=new RegExp(I(O),"g");if(typeof g=="string"&&(g=JSON.parse(g)),Array.isArray(g)){if(!g.length||Array.isArray(g[0]))return q(null,g,j);if(typeof g[0]=="object")return q(z||Object.keys(g[0]),g,j)}else if(typeof g=="object")return typeof g.data=="string"&&(g.data=JSON.parse(g.data)),Array.isArray(g.data)&&(g.fields||(g.fields=g.meta&&g.meta.fields||z),g.fields||(g.fields=Array.isArray(g.data[0])?g.fields:typeof g.data[0]=="object"?Object.keys(g.data[0]):[]),Array.isArray(g.data[0])||typeof g.data[0]=="object"||(g.data=[g.data])),q(g.fields||[],g.data||[],j);throw new Error("Unable to serialize unrecognized input");function q(W,J,ie){var se="";typeof W=="string"&&(W=JSON.parse(W)),typeof J=="string"&&(J=JSON.parse(J));var ge=Array.isArray(W)&&0<W.length,me=!Array.isArray(J[0]);if(ge&&P){for(var Ce=0;Ce<W.length;Ce++)0<Ce&&(se+=M),se+=Q(W[Ce],Ce);0<J.length&&(se+=b)}for(var Z=0;Z<J.length;Z++){var pe=ge?W.length:J[Z].length,Te=!1,je=ge?Object.keys(J[Z]).length===0:J[Z].length===0;if(ie&&!ge&&(Te=ie==="greedy"?J[Z].join("").trim()==="":J[Z].length===1&&J[Z][0].length===0),ie==="greedy"&&ge){for(var Re=[],ht=0;ht<pe;ht++){var Ue=me?W[ht]:ht;Re.push(J[Z][Ue])}Te=Re.join("").trim()===""}if(!Te){for(var De=0;De<pe;De++){0<De&&!je&&(se+=M);var wn=ge&&me?W[De]:De;se+=Q(J[Z][wn],De)}Z<J.length-1&&(!ie||0<pe&&!je)&&(se+=b)}}return se}function Q(W,J){if(W==null)return"";if(W.constructor===Date)return JSON.stringify(W).slice(1,25);var ie=!1;U&&typeof W=="string"&&U.test(W)&&(W="'"+W,ie=!0);var se=W.toString().replace(F,V);return(ie=ie||k===!0||typeof k=="function"&&k(W,J)||Array.isArray(k)&&k[J]||function(ge,me){for(var Ce=0;Ce<me.length;Ce++)if(-1<ge.indexOf(me[Ce]))return!0;return!1}(se,l.BAD_DELIMITERS)||-1<se.indexOf(M)||se.charAt(0)===" "||se.charAt(se.length-1)===" ")?O+se+O:se}}};if(l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!i&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=_,l.ParserHandle=x,l.NetworkStreamer=d,l.FileStreamer=f,l.StringStreamer=m,l.ReadableStreamStreamer=E,r.jQuery){var u=r.jQuery;u.fn.parse=function(g){var T=g.config||{},k=[];return this.each(function(b){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var O=0;O<this.files.length;O++)k.push({file:this.files[O],inputElem:this,instanceConfig:u.extend({},T)})}),P(),this;function P(){if(k.length!==0){var b,O,V,j,z=k[0];if(A(g.before)){var U=g.before(z.file,z.inputElem);if(typeof U=="object"){if(U.action==="abort")return b="AbortError",O=z.file,V=z.inputElem,j=U.reason,void(A(g.error)&&g.error({name:b},O,V,j));if(U.action==="skip")return void M();typeof U.config=="object"&&(z.instanceConfig=u.extend(z.instanceConfig,U.config))}else if(U==="skip")return void M()}var F=z.instanceConfig.complete;z.instanceConfig.complete=function(q){A(F)&&F(q,z.file,z.inputElem),M()},l.parse(z.file,z.instanceConfig)}else A(g.complete)&&g.complete()}function M(){k.splice(0,1),P()}}}function h(g){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var k=D(T);k.chunkSize=parseInt(k.chunkSize),T.step||T.chunk||(k.chunkSize=null),this._handle=new x(k),(this._handle.streamer=this)._config=k}).call(this,g),this.parseChunk=function(T,k){if(this.isFirstChunk&&A(this._config.beforeFirstChunk)){var P=this._config.beforeFirstChunk(T);P!==void 0&&(T=P)}this.isFirstChunk=!1,this._halted=!1;var M=this._partialLine+T;this._partialLine="";var b=this._handle.parse(M,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var O=b.meta.cursor;this._finished||(this._partialLine=M.substring(O-this._baseIndex),this._baseIndex=O),b&&b.data&&(this._rowCount+=b.data.length);var V=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)r.postMessage({results:b,workerId:l.WORKER_ID,finished:V});else if(A(this._config.chunk)&&!k){if(this._config.chunk(b,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);b=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(b.data),this._completeResults.errors=this._completeResults.errors.concat(b.errors),this._completeResults.meta=b.meta),this._completed||!V||!A(this._config.complete)||b&&b.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),V||b&&b.meta.paused||this._nextChunk(),b}this._halted=!0},this._sendError=function(T){A(this._config.error)?this._config.error(T):s&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:T,finished:!1})}}function d(g){var T;(g=g||{}).chunkSize||(g.chunkSize=l.RemoteChunkSize),h.call(this,g),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(k){this._input=k,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),i||(T.onload=L(this._chunkLoaded,this),T.onerror=L(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var k=this._config.downloadRequestHeaders;for(var P in k)T.setRequestHeader(P,k[P])}if(this._config.chunkSize){var M=this._start+this._config.chunkSize-1;T.setRequestHeader("Range","bytes="+this._start+"-"+M)}try{T.send(this._config.downloadRequestBody)}catch(b){this._chunkError(b.message)}i&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:T.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(k){var P=k.getResponseHeader("Content-Range");return P===null?-1:parseInt(P.substring(P.lastIndexOf("/")+1))}(T),this.parseChunk(T.responseText)))},this._chunkError=function(k){var P=T.statusText||k;this._sendError(new Error(P))}}function f(g){var T,k;(g=g||{}).chunkSize||(g.chunkSize=l.LocalChunkSize),h.call(this,g);var P=typeof FileReader<"u";this.stream=function(M){this._input=M,k=M.slice||M.webkitSlice||M.mozSlice,P?((T=new FileReader).onload=L(this._chunkLoaded,this),T.onerror=L(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var M=this._input;if(this._config.chunkSize){var b=Math.min(this._start+this._config.chunkSize,this._input.size);M=k.call(M,this._start,b)}var O=T.readAsText(M,this._config.encoding);P||this._chunkLoaded({target:{result:O}})},this._chunkLoaded=function(M){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(M.target.result)},this._chunkError=function(){this._sendError(T.error)}}function m(g){var T;h.call(this,g=g||{}),this.stream=function(k){return T=k,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var k,P=this._config.chunkSize;return P?(k=T.substring(0,P),T=T.substring(P)):(k=T,T=""),this._finished=!T,this.parseChunk(k)}}}function E(g){h.call(this,g=g||{});var T=[],k=!0,P=!1;this.pause=function(){h.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){h.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(M){this._input=M,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):k=!0},this._streamData=L(function(M){try{T.push(typeof M=="string"?M:M.toString(this._config.encoding)),k&&(k=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(b){this._streamError(b)}},this),this._streamError=L(function(M){this._streamCleanUp(),this._sendError(M)},this),this._streamEnd=L(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=L(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function x(g){var T,k,P,M=Math.pow(2,53),b=-M,O=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,V=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,j=this,z=0,U=0,F=!1,q=!1,Q=[],W={data:[],errors:[],meta:{}};if(A(g.step)){var J=g.step;g.step=function(Z){if(W=Z,ge())se();else{if(se(),W.data.length===0)return;z+=Z.data.length,g.preview&&z>g.preview?k.abort():(W.data=W.data[0],J(W,j))}}}function ie(Z){return g.skipEmptyLines==="greedy"?Z.join("").trim()==="":Z.length===1&&Z[0].length===0}function se(){return W&&P&&(Ce("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),P=!1),g.skipEmptyLines&&(W.data=W.data.filter(function(Z){return!ie(Z)})),ge()&&function(){if(!W)return;function Z(Te,je){A(g.transformHeader)&&(Te=g.transformHeader(Te,je)),Q.push(Te)}if(Array.isArray(W.data[0])){for(var pe=0;ge()&&pe<W.data.length;pe++)W.data[pe].forEach(Z);W.data.splice(0,1)}else W.data.forEach(Z)}(),function(){if(!W||!g.header&&!g.dynamicTyping&&!g.transform)return W;function Z(Te,je){var Re,ht=g.header?{}:[];for(Re=0;Re<Te.length;Re++){var Ue=Re,De=Te[Re];g.header&&(Ue=Re>=Q.length?"__parsed_extra":Q[Re]),g.transform&&(De=g.transform(De,Ue)),De=me(Ue,De),Ue==="__parsed_extra"?(ht[Ue]=ht[Ue]||[],ht[Ue].push(De)):ht[Ue]=De}return g.header&&(Re>Q.length?Ce("FieldMismatch","TooManyFields","Too many fields: expected "+Q.length+" fields but parsed "+Re,U+je):Re<Q.length&&Ce("FieldMismatch","TooFewFields","Too few fields: expected "+Q.length+" fields but parsed "+Re,U+je)),ht}var pe=1;return!W.data.length||Array.isArray(W.data[0])?(W.data=W.data.map(Z),pe=W.data.length):W.data=Z(W.data,0),g.header&&W.meta&&(W.meta.fields=Q),U+=pe,W}()}function ge(){return g.header&&Q.length===0}function me(Z,pe){return Te=Z,g.dynamicTypingFunction&&g.dynamicTyping[Te]===void 0&&(g.dynamicTyping[Te]=g.dynamicTypingFunction(Te)),(g.dynamicTyping[Te]||g.dynamicTyping)===!0?pe==="true"||pe==="TRUE"||pe!=="false"&&pe!=="FALSE"&&(function(je){if(O.test(je)){var Re=parseFloat(je);if(b<Re&&Re<M)return!0}return!1}(pe)?parseFloat(pe):V.test(pe)?new Date(pe):pe===""?null:pe):pe;var Te}function Ce(Z,pe,Te,je){var Re={type:Z,code:pe,message:Te};je!==void 0&&(Re.row=je),W.errors.push(Re)}this.parse=function(Z,pe,Te){var je=g.quoteChar||'"';if(g.newline||(g.newline=function(Ue,De){Ue=Ue.substring(0,1048576);var wn=new RegExp(I(De)+"([^]*?)"+I(De),"gm"),an=(Ue=Ue.replace(wn,"")).split("\r"),En=Ue.split(`
`),xn=1<En.length&&En[0].length<an[0].length;if(an.length===1||xn)return`
`;for(var Kt=0,$e=0;$e<an.length;$e++)an[$e][0]===`
`&&Kt++;return Kt>=an.length/2?`\r
`:"\r"}(Z,je)),P=!1,g.delimiter)A(g.delimiter)&&(g.delimiter=g.delimiter(Z),W.meta.delimiter=g.delimiter);else{var Re=function(Ue,De,wn,an,En){var xn,Kt,$e,Ge;En=En||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var Kn=0;Kn<En.length;Kn++){var be=En[Kn],Xe=0,ze=0,On=0;$e=void 0;for(var Gn=new _({comments:an,delimiter:be,newline:De,preview:10}).parse(Ue),Qn=0;Qn<Gn.data.length;Qn++)if(wn&&ie(Gn.data[Qn]))On++;else{var fr=Gn.data[Qn].length;ze+=fr,$e!==void 0?0<fr&&(Xe+=Math.abs(fr-$e),$e=fr):$e=fr}0<Gn.data.length&&(ze/=Gn.data.length-On),(Kt===void 0||Xe<=Kt)&&(Ge===void 0||Ge<ze)&&1.99<ze&&(Kt=Xe,xn=be,Ge=ze)}return{successful:!!(g.delimiter=xn),bestDelimiter:xn}}(Z,g.newline,g.skipEmptyLines,g.comments,g.delimitersToGuess);Re.successful?g.delimiter=Re.bestDelimiter:(P=!0,g.delimiter=l.DefaultDelimiter),W.meta.delimiter=g.delimiter}var ht=D(g);return g.preview&&g.header&&ht.preview++,T=Z,k=new _(ht),W=k.parse(T,pe,Te),se(),F?{meta:{paused:!0}}:W||{meta:{paused:!1}}},this.paused=function(){return F},this.pause=function(){F=!0,k.abort(),T=A(g.chunk)?"":T.substring(k.getCharIndex())},this.resume=function(){j.streamer._halted?(F=!1,j.streamer.parseChunk(T,!0)):setTimeout(j.resume,3)},this.aborted=function(){return q},this.abort=function(){q=!0,k.abort(),W.meta.aborted=!0,A(g.complete)&&g.complete(W),T=""}}function I(g){return g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _(g){var T,k=(g=g||{}).delimiter,P=g.newline,M=g.comments,b=g.step,O=g.preview,V=g.fastMode,j=T=g.quoteChar===void 0||g.quoteChar===null?'"':g.quoteChar;if(g.escapeChar!==void 0&&(j=g.escapeChar),(typeof k!="string"||-1<l.BAD_DELIMITERS.indexOf(k))&&(k=","),M===k)throw new Error("Comment character same as delimiter");M===!0?M="#":(typeof M!="string"||-1<l.BAD_DELIMITERS.indexOf(M))&&(M=!1),P!==`
`&&P!=="\r"&&P!==`\r
`&&(P=`
`);var z=0,U=!1;this.parse=function(F,q,Q){if(typeof F!="string")throw new Error("Input must be a string");var W=F.length,J=k.length,ie=P.length,se=M.length,ge=A(b),me=[],Ce=[],Z=[],pe=z=0;if(!F)return Et();if(g.header&&!q){var Te=F.split(P)[0].split(k),je=[],Re={},ht=!1;for(var Ue in Te){var De=Te[Ue];A(g.transformHeader)&&(De=g.transformHeader(De,Ue));var wn=De,an=Re[De]||0;for(0<an&&(ht=!0,wn=De+"_"+an),Re[De]=an+1;je.includes(wn);)wn=wn+"_"+an;je.push(wn)}if(ht){var En=F.split(P);En[0]=je.join(k),F=En.join(P)}}if(V||V!==!1&&F.indexOf(T)===-1){for(var xn=F.split(P),Kt=0;Kt<xn.length;Kt++){if(Z=xn[Kt],z+=Z.length,Kt!==xn.length-1)z+=P.length;else if(Q)return Et();if(!M||Z.substring(0,se)!==M){if(ge){if(me=[],On(Z.split(k)),ds(),U)return Et()}else On(Z.split(k));if(O&&O<=Kt)return me=me.slice(0,O),Et(!0)}}return Et()}for(var $e=F.indexOf(k,z),Ge=F.indexOf(P,z),Kn=new RegExp(I(j)+I(T),"g"),be=F.indexOf(T,z);;)if(F[z]!==T)if(M&&Z.length===0&&F.substring(z,z+se)===M){if(Ge===-1)return Et();z=Ge+ie,Ge=F.indexOf(P,z),$e=F.indexOf(k,z)}else if($e!==-1&&($e<Ge||Ge===-1))Z.push(F.substring(z,$e)),z=$e+J,$e=F.indexOf(k,z);else{if(Ge===-1)break;if(Z.push(F.substring(z,Ge)),fr(Ge+ie),ge&&(ds(),U))return Et();if(O&&me.length>=O)return Et(!0)}else for(be=z,z++;;){if((be=F.indexOf(T,be+1))===-1)return Q||Ce.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:me.length,index:z}),Qn();if(be===W-1)return Qn(F.substring(z,be).replace(Kn,T));if(T!==j||F[be+1]!==j){if(T===j||be===0||F[be-1]!==j){$e!==-1&&$e<be+1&&($e=F.indexOf(k,be+1)),Ge!==-1&&Ge<be+1&&(Ge=F.indexOf(P,be+1));var Xe=Gn(Ge===-1?$e:Math.min($e,Ge));if(F.substr(be+1+Xe,J)===k){Z.push(F.substring(z,be).replace(Kn,T)),F[z=be+1+Xe+J]!==T&&(be=F.indexOf(T,z)),$e=F.indexOf(k,z),Ge=F.indexOf(P,z);break}var ze=Gn(Ge);if(F.substring(be+1+ze,be+1+ze+ie)===P){if(Z.push(F.substring(z,be).replace(Kn,T)),fr(be+1+ze+ie),$e=F.indexOf(k,z),be=F.indexOf(T,z),ge&&(ds(),U))return Et();if(O&&me.length>=O)return Et(!0);break}Ce.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:me.length,index:z}),be++}}else be++}return Qn();function On(Gt){me.push(Gt),pe=z}function Gn(Gt){var eo=0;if(Gt!==-1){var Oa=F.substring(be+1,Gt);Oa&&Oa.trim()===""&&(eo=Oa.length)}return eo}function Qn(Gt){return Q||(Gt===void 0&&(Gt=F.substring(z)),Z.push(Gt),z=W,On(Z),ge&&ds()),Et()}function fr(Gt){z=Gt,On(Z),Z=[],Ge=F.indexOf(P,z)}function Et(Gt){return{data:me,errors:Ce,meta:{delimiter:k,linebreak:P,aborted:U,truncated:!!Gt,cursor:pe+(q||0)}}}function ds(){b(Et()),me=[],Ce=[]}},this.abort=function(){U=!0},this.getCharIndex=function(){return z}}function w(g){var T=g.data,k=o[T.workerId],P=!1;if(T.error)k.userError(T.error,T.file);else if(T.results&&T.results.data){var M={abort:function(){P=!0,y(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:R,resume:R};if(A(k.userStep)){for(var b=0;b<T.results.data.length&&(k.userStep({data:T.results.data[b],errors:T.results.errors,meta:T.results.meta},M),!P);b++);delete T.results}else A(k.userChunk)&&(k.userChunk(T.results,M,T.file),delete T.results)}T.finished&&!P&&y(T.workerId,T.results)}function y(g,T){var k=o[g];A(k.userComplete)&&k.userComplete(T),k.terminate(),delete o[g]}function R(){throw new Error("Not implemented.")}function D(g){if(typeof g!="object"||g===null)return g;var T=Array.isArray(g)?[]:{};for(var k in g)T[k]=D(g[k]);return T}function L(g,T){return function(){g.apply(T,arguments)}}function A(g){return typeof g=="function"}return s&&(r.onmessage=function(g){var T=g.data;if(l.WORKER_ID===void 0&&T&&(l.WORKER_ID=T.workerId),typeof T.input=="string")r.postMessage({workerId:l.WORKER_ID,results:l.parse(T.input,T.config),finished:!0});else if(r.File&&T.input instanceof File||T.input instanceof Object){var k=l.parse(T.input,T.config);k&&r.postMessage({workerId:l.WORKER_ID,results:k,finished:!0})}}),(d.prototype=Object.create(h.prototype)).constructor=d,(f.prototype=Object.create(h.prototype)).constructor=f,(m.prototype=Object.create(m.prototype)).constructor=m,(E.prototype=Object.create(h.prototype)).constructor=E,l})})(lA);var X3=lA.exports;const qu=uf(X3),uA=C.createContext(null);function J3({children:t}){const[e,n]=C.useState(null),[r,i]=C.useState(!0),[s,o]=C.useState(null);C.useEffect(()=>rm.onAuthStateChanged(async d=>{if(n(d),d){const f=await pu(Ns(ni,"users",d.uid));f.exists()&&o(f.data().displayName)}i(!1)}),[]);const a=async h=>{e&&(await kR(Ns(ni,"users",e.uid),{displayName:h,email:e.email}),o(h))},l=async()=>{var h;try{const d=await n3(rm,Y3);(await pu(Ns(ni,"users",d.user.uid))).exists()||await a(d.user.displayName||((h=d.user.email)==null?void 0:h.split("@")[0])||"Anonymous")}catch(d){console.error("Error signing in with Google:",d)}},u=async()=>{try{await LF(rm),o(null)}catch(h){console.error("Error signing out:",h)}};return v.jsx(uA.Provider,{value:{user:e,loading:r,signInWithGoogle:l,logout:u,displayName:s,setDisplayName:a},children:!r&&t})}const Na=()=>{const t=C.useContext(uA);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};function Z3(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function cA(...t){return e=>t.forEach(n=>Z3(n,e))}function Ct(...t){return C.useCallback(cA(...t),t)}var fa=C.forwardRef((t,e)=>{const{children:n,...r}=t,i=C.Children.toArray(n),s=i.find(e5);if(s){const o=s.props.children,a=i.map(l=>l===s?C.Children.count(o)>1?C.Children.only(null):C.isValidElement(o)?o.props.children:null:l);return v.jsx(Hg,{...r,ref:e,children:C.isValidElement(o)?C.cloneElement(o,void 0,a):null})}return v.jsx(Hg,{...r,ref:e,children:n})});fa.displayName="Slot";var Hg=C.forwardRef((t,e)=>{const{children:n,...r}=t;if(C.isValidElement(n)){const i=n5(n);return C.cloneElement(n,{...t5(r,n.props),ref:e?cA(e,i):i})}return C.Children.count(n)>1?C.Children.only(null):null});Hg.displayName="SlotClone";var hA=({children:t})=>v.jsx(v.Fragment,{children:t});function e5(t){return C.isValidElement(t)&&t.type===hA}function t5(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function n5(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function dA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=dA(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function r5(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=dA(t))&&(r&&(r+=" "),r+=e);return r}const $E=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,zE=r5,Ty=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return zE(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const h=n==null?void 0:n[u],d=s==null?void 0:s[u];if(h===null)return null;const f=$E(h)||$E(d);return i[u][f]}),a=n&&Object.entries(n).reduce((u,h)=>{let[d,f]=h;return f===void 0||(u[d]=f),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:d,className:f,...m}=h;return Object.entries(m).every(E=>{let[x,I]=E;return Array.isArray(I)?I.includes({...s,...a}[x]):{...s,...a}[x]===I})?[...u,d,f]:u},[]);return zE(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},Sy=Ty("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),hi=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?fa:"button";return v.jsx(o,{className:Pe(Sy({variant:e,size:n,className:t})),ref:s,...i})});hi.displayName="Button";var fA={exports:{}},i5="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",s5=i5,o5=s5;function pA(){}function mA(){}mA.resetWarningCache=pA;var a5=function(){function t(r,i,s,o,a,l){if(l!==o5){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:mA,resetWarningCache:pA};return n.PropTypes=n,n};fA.exports=a5();var l5=fA.exports;const Y=uf(l5);class Wt{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=n[i],o=e+s,a=Math.abs(e)<Math.abs(s)?e-(o-s):s-(o-e);a&&(n[r++]=a),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,s,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,s=i-(o-r),!s););n>0&&(s<0&&e[n-1]<0||s>0&&e[n-1]>0)&&(i=s*2,r=o+i,i==r-o&&(o=r))}return o}}function*u5(t){for(const e of t)yield*e}function gA(t){return Array.from(u5(t))}function ko(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}var ae=1e-6,gu=1e-12,ye=Math.PI,at=ye/2,Rd=ye/4,tn=ye*2,Ve=180/ye,le=ye/180,xe=Math.abs,Ma=Math.atan,nn=Math.atan2,re=Math.cos,Fc=Math.ceil,vA=Math.exp,qg=Math.hypot,Ad=Math.log,im=Math.pow,te=Math.sin,$n=Math.sign||function(t){return t>0?1:t<0?-1:0},Rt=Math.sqrt,Iy=Math.tan;function yA(t){return t>1?0:t<-1?ye:Math.acos(t)}function rn(t){return t>1?at:t<-1?-at:Math.asin(t)}function BE(t){return(t=te(t/2))*t}function et(){}function kd(t,e){t&&HE.hasOwnProperty(t.type)&&HE[t.type](t,e)}var WE={Feature:function(t,e){kd(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)kd(n[r].geometry,e)}},HE={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Kg(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Kg(n[r],e,0)},Polygon:function(t,e){qE(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)qE(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)kd(n[r],e)}};function Kg(t,e,n){var r=-1,i=t.length-n,s;for(e.lineStart();++r<i;)s=t[r],e.point(s[0],s[1],s[2]);e.lineEnd()}function qE(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Kg(t[n],e,1);e.polygonEnd()}function tr(t,e){t&&WE.hasOwnProperty(t.type)?WE[t.type](t,e):kd(t,e)}var Pd=new Wt,bd=new Wt,_A,wA,Gg,Qg,Yg,Nr={point:et,lineStart:et,lineEnd:et,polygonStart:function(){Pd=new Wt,Nr.lineStart=c5,Nr.lineEnd=h5},polygonEnd:function(){var t=+Pd;bd.add(t<0?tn+t:t),this.lineStart=this.lineEnd=this.point=et},sphere:function(){bd.add(tn)}};function c5(){Nr.point=d5}function h5(){EA(_A,wA)}function d5(t,e){Nr.point=EA,_A=t,wA=e,t*=le,e*=le,Gg=t,Qg=re(e=e/2+Rd),Yg=te(e)}function EA(t,e){t*=le,e*=le,e=e/2+Rd;var n=t-Gg,r=n>=0?1:-1,i=r*n,s=re(e),o=te(e),a=Yg*o,l=Qg*s+a*re(i),u=a*r*te(i);Pd.add(nn(u,l)),Gg=t,Qg=s,Yg=o}function f5(t){return bd=new Wt,tr(t,Nr),bd*2}function Nd(t){return[nn(t[1],t[0]),rn(t[2])]}function Ws(t){var e=t[0],n=t[1],r=re(n);return[r*re(e),r*te(e),te(n)]}function Uc(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function pa(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function sm(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function $c(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Md(t){var e=Rt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Je,cn,st,Cn,xs,xA,TA,Wo,Ll,Ci,di,zr={point:Xg,lineStart:KE,lineEnd:GE,polygonStart:function(){zr.point=IA,zr.lineStart=p5,zr.lineEnd=m5,Ll=new Wt,Nr.polygonStart()},polygonEnd:function(){Nr.polygonEnd(),zr.point=Xg,zr.lineStart=KE,zr.lineEnd=GE,Pd<0?(Je=-(st=180),cn=-(Cn=90)):Ll>ae?Cn=90:Ll<-ae&&(cn=-90),di[0]=Je,di[1]=st},sphere:function(){Je=-(st=180),cn=-(Cn=90)}};function Xg(t,e){Ci.push(di=[Je=t,st=t]),e<cn&&(cn=e),e>Cn&&(Cn=e)}function SA(t,e){var n=Ws([t*le,e*le]);if(Wo){var r=pa(Wo,n),i=[r[1],-r[0],0],s=pa(i,r);Md(s),s=Nd(s);var o=t-xs,a=o>0?1:-1,l=s[0]*Ve*a,u,h=xe(o)>180;h^(a*xs<l&&l<a*t)?(u=s[1]*Ve,u>Cn&&(Cn=u)):(l=(l+360)%360-180,h^(a*xs<l&&l<a*t)?(u=-s[1]*Ve,u<cn&&(cn=u)):(e<cn&&(cn=e),e>Cn&&(Cn=e))),h?t<xs?In(Je,t)>In(Je,st)&&(st=t):In(t,st)>In(Je,st)&&(Je=t):st>=Je?(t<Je&&(Je=t),t>st&&(st=t)):t>xs?In(Je,t)>In(Je,st)&&(st=t):In(t,st)>In(Je,st)&&(Je=t)}else Ci.push(di=[Je=t,st=t]);e<cn&&(cn=e),e>Cn&&(Cn=e),Wo=n,xs=t}function KE(){zr.point=SA}function GE(){di[0]=Je,di[1]=st,zr.point=Xg,Wo=null}function IA(t,e){if(Wo){var n=t-xs;Ll.add(xe(n)>180?n+(n>0?360:-360):n)}else xA=t,TA=e;Nr.point(t,e),SA(t,e)}function p5(){Nr.lineStart()}function m5(){IA(xA,TA),Nr.lineEnd(),xe(Ll)>ae&&(Je=-(st=180)),di[0]=Je,di[1]=st,Wo=null}function In(t,e){return(e-=t)<0?e+360:e}function g5(t,e){return t[0]-e[0]}function QE(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function v5(t){var e,n,r,i,s,o,a;if(Cn=st=-(Je=cn=1/0),Ci=[],tr(t,zr),n=Ci.length){for(Ci.sort(g5),e=1,r=Ci[0],s=[r];e<n;++e)i=Ci[e],QE(r,i[0])||QE(r,i[1])?(In(r[0],i[1])>In(r[0],r[1])&&(r[1]=i[1]),In(i[0],r[1])>In(r[0],r[1])&&(r[0]=i[0])):s.push(r=i);for(o=-1/0,n=s.length-1,e=0,r=s[n];e<=n;r=i,++e)i=s[e],(a=In(r[1],i[0]))>o&&(o=a,Je=i[0],st=r[1])}return Ci=di=null,Je===1/0||cn===1/0?[[NaN,NaN],[NaN,NaN]]:[[Je,cn],[st,Cn]]}var pl,Dd,Od,Ld,Vd,jd,Fd,Ud,Jg,Zg,ev,CA,RA,Xt,Jt,Zt,sr={sphere:et,point:Cy,lineStart:YE,lineEnd:XE,polygonStart:function(){sr.lineStart=w5,sr.lineEnd=E5},polygonEnd:function(){sr.lineStart=YE,sr.lineEnd=XE}};function Cy(t,e){t*=le,e*=le;var n=re(e);Ku(n*re(t),n*te(t),te(e))}function Ku(t,e,n){++pl,Od+=(t-Od)/pl,Ld+=(e-Ld)/pl,Vd+=(n-Vd)/pl}function YE(){sr.point=y5}function y5(t,e){t*=le,e*=le;var n=re(e);Xt=n*re(t),Jt=n*te(t),Zt=te(e),sr.point=_5,Ku(Xt,Jt,Zt)}function _5(t,e){t*=le,e*=le;var n=re(e),r=n*re(t),i=n*te(t),s=te(e),o=nn(Rt((o=Jt*s-Zt*i)*o+(o=Zt*r-Xt*s)*o+(o=Xt*i-Jt*r)*o),Xt*r+Jt*i+Zt*s);Dd+=o,jd+=o*(Xt+(Xt=r)),Fd+=o*(Jt+(Jt=i)),Ud+=o*(Zt+(Zt=s)),Ku(Xt,Jt,Zt)}function XE(){sr.point=Cy}function w5(){sr.point=x5}function E5(){AA(CA,RA),sr.point=Cy}function x5(t,e){CA=t,RA=e,t*=le,e*=le,sr.point=AA;var n=re(e);Xt=n*re(t),Jt=n*te(t),Zt=te(e),Ku(Xt,Jt,Zt)}function AA(t,e){t*=le,e*=le;var n=re(e),r=n*re(t),i=n*te(t),s=te(e),o=Jt*s-Zt*i,a=Zt*r-Xt*s,l=Xt*i-Jt*r,u=qg(o,a,l),h=rn(u),d=u&&-h/u;Jg.add(d*o),Zg.add(d*a),ev.add(d*l),Dd+=h,jd+=h*(Xt+(Xt=r)),Fd+=h*(Jt+(Jt=i)),Ud+=h*(Zt+(Zt=s)),Ku(Xt,Jt,Zt)}function T5(t){pl=Dd=Od=Ld=Vd=jd=Fd=Ud=0,Jg=new Wt,Zg=new Wt,ev=new Wt,tr(t,sr);var e=+Jg,n=+Zg,r=+ev,i=qg(e,n,r);return i<gu&&(e=jd,n=Fd,r=Ud,Dd<ae&&(e=Od,n=Ld,r=Vd),i=qg(e,n,r),i<gu)?[NaN,NaN]:[nn(n,e)*Ve,rn(r/i)*Ve]}function ao(t){return function(){return t}}function tv(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function nv(t,e){return[xe(t)>ye?t+Math.round(-t/tn)*tn:t,e]}nv.invert=nv;function Ry(t,e,n){return(t%=tn)?e||n?tv(ZE(t),ex(e,n)):ZE(t):e||n?ex(e,n):nv}function JE(t){return function(e,n){return e+=t,[e>ye?e-tn:e<-ye?e+tn:e,n]}}function ZE(t){var e=JE(t);return e.invert=JE(-t),e}function ex(t,e){var n=re(t),r=te(t),i=re(e),s=te(e);function o(a,l){var u=re(l),h=re(a)*u,d=te(a)*u,f=te(l),m=f*n+h*r;return[nn(d*i-m*s,h*n-f*r),rn(m*i+d*s)]}return o.invert=function(a,l){var u=re(l),h=re(a)*u,d=te(a)*u,f=te(l),m=f*i-d*s;return[nn(d*i+f*s,h*n+m*r),rn(m*n-h*r)]},o}function kA(t){t=Ry(t[0]*le,t[1]*le,t.length>2?t[2]*le:0);function e(n){return n=t(n[0]*le,n[1]*le),n[0]*=Ve,n[1]*=Ve,n}return e.invert=function(n){return n=t.invert(n[0]*le,n[1]*le),n[0]*=Ve,n[1]*=Ve,n},e}function PA(t,e,n,r,i,s){if(n){var o=re(e),a=te(e),l=r*n;i==null?(i=e+r*tn,s=e-l/2):(i=tx(o,i),s=tx(o,s),(r>0?i<s:i>s)&&(i+=r*tn));for(var u,h=i;r>0?h>s:h<s;h-=l)u=Nd([o,-a*re(h),-a*te(h)]),t.point(u[0],u[1])}}function tx(t,e){e=Ws(e),e[0]-=t,Md(e);var n=yA(-e[1]);return((-e[2]<0?-n:n)+tn-ae)%tn}function S5(){var t=ao([0,0]),e=ao(90),n=ao(6),r,i,s={point:o};function o(l,u){r.push(l=i(l,u)),l[0]*=Ve,l[1]*=Ve}function a(){var l=t.apply(this,arguments),u=e.apply(this,arguments)*le,h=n.apply(this,arguments)*le;return r=[],i=Ry(-l[0]*le,-l[1]*le,0).invert,PA(s,u,h,1),l={type:"Polygon",coordinates:[r]},r=i=null,l}return a.center=function(l){return arguments.length?(t=typeof l=="function"?l:ao([+l[0],+l[1]]),a):t},a.radius=function(l){return arguments.length?(e=typeof l=="function"?l:ao(+l),a):e},a.precision=function(l){return arguments.length?(n=typeof l=="function"?l:ao(+l),a):n},a}function bA(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:et,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Ih(t,e){return xe(t[0]-e[0])<ae&&xe(t[1]-e[1])<ae}function zc(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function NA(t,e,n,r,i){var s=[],o=[],a,l;if(t.forEach(function(E){if(!((x=E.length-1)<=0)){var x,I=E[0],_=E[x],w;if(Ih(I,_)){if(!I[2]&&!_[2]){for(i.lineStart(),a=0;a<x;++a)i.point((I=E[a])[0],I[1]);i.lineEnd();return}_[0]+=2*ae}s.push(w=new zc(I,E,null,!0)),o.push(w.o=new zc(I,null,w,!1)),s.push(w=new zc(_,E,null,!1)),o.push(w.o=new zc(_,null,w,!0))}}),!!s.length){for(o.sort(e),nx(s),nx(o),a=0,l=o.length;a<l;++a)o[a].e=n=!n;for(var u=s[0],h,d;;){for(var f=u,m=!0;f.v;)if((f=f.n)===u)return;h=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(m)for(a=0,l=h.length;a<l;++a)i.point((d=h[a])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(m)for(h=f.p.z,a=h.length-1;a>=0;--a)i.point((d=h[a])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,h=f.z,m=!m}while(!f.v);i.lineEnd()}}}function nx(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function om(t){return xe(t[0])<=ye?t[0]:$n(t[0])*((xe(t[0])+ye)%tn-ye)}function MA(t,e){var n=om(e),r=e[1],i=te(r),s=[te(n),-re(n),0],o=0,a=0,l=new Wt;i===1?r=at+ae:i===-1&&(r=-at-ae);for(var u=0,h=t.length;u<h;++u)if(f=(d=t[u]).length)for(var d,f,m=d[f-1],E=om(m),x=m[1]/2+Rd,I=te(x),_=re(x),w=0;w<f;++w,E=R,I=L,_=A,m=y){var y=d[w],R=om(y),D=y[1]/2+Rd,L=te(D),A=re(D),g=R-E,T=g>=0?1:-1,k=T*g,P=k>ye,M=I*L;if(l.add(nn(M*T*te(k),_*A+M*re(k))),o+=P?g+T*tn:g,P^E>=n^R>=n){var b=pa(Ws(m),Ws(y));Md(b);var O=pa(s,b);Md(O);var V=(P^g>=0?-1:1)*rn(O[2]);(r>V||r===V&&(b[0]||b[1]))&&(a+=P^g>=0?1:-1)}}return(o<-ae||o<ae&&l<-gu)^a&1}function DA(t,e,n,r){return function(i){var s=e(i),o=bA(),a=e(o),l=!1,u,h,d,f={point:m,lineStart:x,lineEnd:I,polygonStart:function(){f.point=_,f.lineStart=w,f.lineEnd=y,h=[],u=[]},polygonEnd:function(){f.point=m,f.lineStart=x,f.lineEnd=I,h=gA(h);var R=MA(u,r);h.length?(l||(i.polygonStart(),l=!0),NA(h,C5,R,n,i)):R&&(l||(i.polygonStart(),l=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),h=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function m(R,D){t(R,D)&&i.point(R,D)}function E(R,D){s.point(R,D)}function x(){f.point=E,s.lineStart()}function I(){f.point=m,s.lineEnd()}function _(R,D){d.push([R,D]),a.point(R,D)}function w(){a.lineStart(),d=[]}function y(){_(d[0][0],d[0][1]),a.lineEnd();var R=a.clean(),D=o.result(),L,A=D.length,g,T,k;if(d.pop(),u.push(d),d=null,!!A){if(R&1){if(T=D[0],(g=T.length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),L=0;L<g;++L)i.point((k=T[L])[0],k[1]);i.lineEnd()}return}A>1&&R&2&&D.push(D.pop().concat(D.shift())),h.push(D.filter(I5))}}return f}}function I5(t){return t.length>1}function C5(t,e){return((t=t.x)[0]<0?t[1]-at-ae:at-t[1])-((e=e.x)[0]<0?e[1]-at-ae:at-e[1])}const rv=DA(function(){return!0},R5,k5,[-ye,-at]);function R5(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(s,o){var a=s>0?ye:-ye,l=xe(s-e);xe(l-ye)<ae?(t.point(e,n=(n+o)/2>0?at:-at),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),t.point(s,n),i=0):r!==a&&l>=ye&&(xe(e-r)<ae&&(e-=r*ae),xe(s-a)<ae&&(s-=a*ae),n=A5(e,n,s,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(a,n),i=0),t.point(e=s,n=o),r=a},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function A5(t,e,n,r){var i,s,o=te(t-n);return xe(o)>ae?Ma((te(e)*(s=re(r))*te(n)-te(r)*(i=re(e))*te(t))/(i*s*o)):(e+r)/2}function k5(t,e,n,r){var i;if(t==null)i=n*at,r.point(-ye,i),r.point(0,i),r.point(ye,i),r.point(ye,0),r.point(ye,-i),r.point(0,-i),r.point(-ye,-i),r.point(-ye,0),r.point(-ye,i);else if(xe(t[0]-e[0])>ae){var s=t[0]<e[0]?ye:-ye;i=n*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(e[0],e[1])}function OA(t){var e=re(t),n=6*le,r=e>0,i=xe(e)>ae;function s(h,d,f,m){PA(m,t,n,f,h,d)}function o(h,d){return re(h)*re(d)>e}function a(h){var d,f,m,E,x;return{lineStart:function(){E=m=!1,x=1},point:function(I,_){var w=[I,_],y,R=o(I,_),D=r?R?0:u(I,_):R?u(I+(I<0?ye:-ye),_):0;if(!d&&(E=m=R)&&h.lineStart(),R!==m&&(y=l(d,w),(!y||Ih(d,y)||Ih(w,y))&&(w[2]=1)),R!==m)x=0,R?(h.lineStart(),y=l(w,d),h.point(y[0],y[1])):(y=l(d,w),h.point(y[0],y[1],2),h.lineEnd()),d=y;else if(i&&d&&r^R){var L;!(D&f)&&(L=l(w,d,!0))&&(x=0,r?(h.lineStart(),h.point(L[0][0],L[0][1]),h.point(L[1][0],L[1][1]),h.lineEnd()):(h.point(L[1][0],L[1][1]),h.lineEnd(),h.lineStart(),h.point(L[0][0],L[0][1],3)))}R&&(!d||!Ih(d,w))&&h.point(w[0],w[1]),d=w,m=R,f=D},lineEnd:function(){m&&h.lineEnd(),d=null},clean:function(){return x|(E&&m)<<1}}}function l(h,d,f){var m=Ws(h),E=Ws(d),x=[1,0,0],I=pa(m,E),_=Uc(I,I),w=I[0],y=_-w*w;if(!y)return!f&&h;var R=e*_/y,D=-e*w/y,L=pa(x,I),A=$c(x,R),g=$c(I,D);sm(A,g);var T=L,k=Uc(A,T),P=Uc(T,T),M=k*k-P*(Uc(A,A)-1);if(!(M<0)){var b=Rt(M),O=$c(T,(-k-b)/P);if(sm(O,A),O=Nd(O),!f)return O;var V=h[0],j=d[0],z=h[1],U=d[1],F;j<V&&(F=V,V=j,j=F);var q=j-V,Q=xe(q-ye)<ae,W=Q||q<ae;if(!Q&&U<z&&(F=z,z=U,U=F),W?Q?z+U>0^O[1]<(xe(O[0]-V)<ae?z:U):z<=O[1]&&O[1]<=U:q>ye^(V<=O[0]&&O[0]<=j)){var J=$c(T,(-k+b)/P);return sm(J,A),[O,Nd(J)]}}}function u(h,d){var f=r?t:ye-t,m=0;return h<-f?m|=1:h>f&&(m|=2),d<-f?m|=4:d>f&&(m|=8),m}return DA(o,a,s,r?[0,-t]:[-ye,t-ye])}function P5(t,e,n,r,i,s){var o=t[0],a=t[1],l=e[0],u=e[1],h=0,d=1,f=l-o,m=u-a,E;if(E=n-o,!(!f&&E>0)){if(E/=f,f<0){if(E<h)return;E<d&&(d=E)}else if(f>0){if(E>d)return;E>h&&(h=E)}if(E=i-o,!(!f&&E<0)){if(E/=f,f<0){if(E>d)return;E>h&&(h=E)}else if(f>0){if(E<h)return;E<d&&(d=E)}if(E=r-a,!(!m&&E>0)){if(E/=m,m<0){if(E<h)return;E<d&&(d=E)}else if(m>0){if(E>d)return;E>h&&(h=E)}if(E=s-a,!(!m&&E<0)){if(E/=m,m<0){if(E>d)return;E>h&&(h=E)}else if(m>0){if(E<h)return;E<d&&(d=E)}return h>0&&(t[0]=o+h*f,t[1]=a+h*m),d<1&&(e[0]=o+d*f,e[1]=a+d*m),!0}}}}}var ml=1e9,Bc=-ml;function Kf(t,e,n,r){function i(u,h){return t<=u&&u<=n&&e<=h&&h<=r}function s(u,h,d,f){var m=0,E=0;if(u==null||(m=o(u,d))!==(E=o(h,d))||l(u,h)<0^d>0)do f.point(m===0||m===3?t:n,m>1?r:e);while((m=(m+d+4)%4)!==E);else f.point(h[0],h[1])}function o(u,h){return xe(u[0]-t)<ae?h>0?0:3:xe(u[0]-n)<ae?h>0?2:1:xe(u[1]-e)<ae?h>0?1:0:h>0?3:2}function a(u,h){return l(u.x,h.x)}function l(u,h){var d=o(u,1),f=o(h,1);return d!==f?d-f:d===0?h[1]-u[1]:d===1?u[0]-h[0]:d===2?u[1]-h[1]:h[0]-u[0]}return function(u){var h=u,d=bA(),f,m,E,x,I,_,w,y,R,D,L,A={point:g,lineStart:M,lineEnd:b,polygonStart:k,polygonEnd:P};function g(V,j){i(V,j)&&h.point(V,j)}function T(){for(var V=0,j=0,z=m.length;j<z;++j)for(var U=m[j],F=1,q=U.length,Q=U[0],W,J,ie=Q[0],se=Q[1];F<q;++F)W=ie,J=se,Q=U[F],ie=Q[0],se=Q[1],J<=r?se>r&&(ie-W)*(r-J)>(se-J)*(t-W)&&++V:se<=r&&(ie-W)*(r-J)<(se-J)*(t-W)&&--V;return V}function k(){h=d,f=[],m=[],L=!0}function P(){var V=T(),j=L&&V,z=(f=gA(f)).length;(j||z)&&(u.polygonStart(),j&&(u.lineStart(),s(null,null,1,u),u.lineEnd()),z&&NA(f,a,V,s,u),u.polygonEnd()),h=u,f=m=E=null}function M(){A.point=O,m&&m.push(E=[]),D=!0,R=!1,w=y=NaN}function b(){f&&(O(x,I),_&&R&&d.rejoin(),f.push(d.result())),A.point=g,R&&h.lineEnd()}function O(V,j){var z=i(V,j);if(m&&E.push([V,j]),D)x=V,I=j,_=z,D=!1,z&&(h.lineStart(),h.point(V,j));else if(z&&R)h.point(V,j);else{var U=[w=Math.max(Bc,Math.min(ml,w)),y=Math.max(Bc,Math.min(ml,y))],F=[V=Math.max(Bc,Math.min(ml,V)),j=Math.max(Bc,Math.min(ml,j))];P5(U,F,t,e,n,r)?(R||(h.lineStart(),h.point(U[0],U[1])),h.point(F[0],F[1]),z||h.lineEnd(),L=!1):z&&(h.lineStart(),h.point(V,j),L=!1)}w=V,y=j,R=z}return A}}function b5(){var t=0,e=0,n=960,r=500,i,s,o;return o={stream:function(a){return i&&s===a?i:i=Kf(t,e,n,r)(s=a)},extent:function(a){return arguments.length?(t=+a[0][0],e=+a[0][1],n=+a[1][0],r=+a[1][1],i=s=null,o):[[t,e],[n,r]]}}}var iv,sv,Ch,Rh,ma={sphere:et,point:et,lineStart:N5,lineEnd:et,polygonStart:et,polygonEnd:et};function N5(){ma.point=D5,ma.lineEnd=M5}function M5(){ma.point=ma.lineEnd=et}function D5(t,e){t*=le,e*=le,sv=t,Ch=te(e),Rh=re(e),ma.point=O5}function O5(t,e){t*=le,e*=le;var n=te(e),r=re(e),i=xe(t-sv),s=re(i),o=te(i),a=r*o,l=Rh*n-Ch*r*s,u=Ch*n+Rh*r*s;iv.add(nn(Rt(a*a+l*l),u)),sv=t,Ch=n,Rh=r}function LA(t){return iv=new Wt,tr(t,ma),+iv}var ov=[null,null],L5={type:"LineString",coordinates:ov};function $d(t,e){return ov[0]=t,ov[1]=e,LA(L5)}var rx={Feature:function(t,e){return zd(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(zd(n[r].geometry,e))return!0;return!1}},ix={Sphere:function(){return!0},Point:function(t,e){return sx(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(sx(n[r],e))return!0;return!1},LineString:function(t,e){return ox(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(ox(n[r],e))return!0;return!1},Polygon:function(t,e){return ax(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(ax(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(zd(n[r],e))return!0;return!1}};function zd(t,e){return t&&ix.hasOwnProperty(t.type)?ix[t.type](t,e):!1}function sx(t,e){return $d(t,e)===0}function ox(t,e){for(var n,r,i,s=0,o=t.length;s<o;s++){if(r=$d(t[s],e),r===0||s>0&&(i=$d(t[s],t[s-1]),i>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<gu*i))return!0;n=r}return!1}function ax(t,e){return!!MA(t.map(V5),VA(e))}function V5(t){return t=t.map(VA),t.pop(),t}function VA(t){return[t[0]*le,t[1]*le]}function j5(t,e){return(t&&rx.hasOwnProperty(t.type)?rx[t.type]:zd)(t,e)}function lx(t,e,n){var r=ko(t,e-ae,n).concat(e);return function(i){return r.map(function(s){return[i,s]})}}function ux(t,e,n){var r=ko(t,e-ae,n).concat(e);return function(i){return r.map(function(s){return[s,i]})}}function Ay(){var t,e,n,r,i,s,o,a,l=10,u=l,h=90,d=360,f,m,E,x,I=2.5;function _(){return{type:"MultiLineString",coordinates:w()}}function w(){return ko(Fc(r/h)*h,n,h).map(E).concat(ko(Fc(a/d)*d,o,d).map(x)).concat(ko(Fc(e/l)*l,t,l).filter(function(y){return xe(y%h)>ae}).map(f)).concat(ko(Fc(s/u)*u,i,u).filter(function(y){return xe(y%d)>ae}).map(m))}return _.lines=function(){return w().map(function(y){return{type:"LineString",coordinates:y}})},_.outline=function(){return{type:"Polygon",coordinates:[E(r).concat(x(o).slice(1),E(n).reverse().slice(1),x(a).reverse().slice(1))]}},_.extent=function(y){return arguments.length?_.extentMajor(y).extentMinor(y):_.extentMinor()},_.extentMajor=function(y){return arguments.length?(r=+y[0][0],n=+y[1][0],a=+y[0][1],o=+y[1][1],r>n&&(y=r,r=n,n=y),a>o&&(y=a,a=o,o=y),_.precision(I)):[[r,a],[n,o]]},_.extentMinor=function(y){return arguments.length?(e=+y[0][0],t=+y[1][0],s=+y[0][1],i=+y[1][1],e>t&&(y=e,e=t,t=y),s>i&&(y=s,s=i,i=y),_.precision(I)):[[e,s],[t,i]]},_.step=function(y){return arguments.length?_.stepMajor(y).stepMinor(y):_.stepMinor()},_.stepMajor=function(y){return arguments.length?(h=+y[0],d=+y[1],_):[h,d]},_.stepMinor=function(y){return arguments.length?(l=+y[0],u=+y[1],_):[l,u]},_.precision=function(y){return arguments.length?(I=+y,f=lx(s,i,90),m=ux(e,t,I),E=lx(a,o,90),x=ux(r,n,I),_):I},_.extentMajor([[-180,-90+ae],[180,90-ae]]).extentMinor([[-180,-80-ae],[180,80+ae]])}function F5(){return Ay()()}function U5(t,e){var n=t[0]*le,r=t[1]*le,i=e[0]*le,s=e[1]*le,o=re(r),a=te(r),l=re(s),u=te(s),h=o*re(n),d=o*te(n),f=l*re(i),m=l*te(i),E=2*rn(Rt(BE(s-r)+o*l*BE(i-n))),x=te(E),I=E?function(_){var w=te(_*=E)/x,y=te(E-_)/x,R=y*h+w*f,D=y*d+w*m,L=y*a+w*u;return[nn(D,R)*Ve,nn(L,Rt(R*R+D*D))*Ve]}:function(){return[n*Ve,r*Ve]};return I.distance=E,I}const vu=t=>t;var am=new Wt,av=new Wt,jA,FA,lv,uv,Wr={point:et,lineStart:et,lineEnd:et,polygonStart:function(){Wr.lineStart=$5,Wr.lineEnd=B5},polygonEnd:function(){Wr.lineStart=Wr.lineEnd=Wr.point=et,am.add(xe(av)),av=new Wt},result:function(){var t=am/2;return am=new Wt,t}};function $5(){Wr.point=z5}function z5(t,e){Wr.point=UA,jA=lv=t,FA=uv=e}function UA(t,e){av.add(uv*t-lv*e),lv=t,uv=e}function B5(){UA(jA,FA)}var ga=1/0,Bd=ga,yu=-ga,Wd=yu,Hd={point:W5,lineStart:et,lineEnd:et,polygonStart:et,polygonEnd:et,result:function(){var t=[[ga,Bd],[yu,Wd]];return yu=Wd=-(Bd=ga=1/0),t}};function W5(t,e){t<ga&&(ga=t),t>yu&&(yu=t),e<Bd&&(Bd=e),e>Wd&&(Wd=e)}var cv=0,hv=0,gl=0,qd=0,Kd=0,Po=0,dv=0,fv=0,vl=0,$A,zA,yr,_r,Fn={point:Hs,lineStart:cx,lineEnd:hx,polygonStart:function(){Fn.lineStart=K5,Fn.lineEnd=G5},polygonEnd:function(){Fn.point=Hs,Fn.lineStart=cx,Fn.lineEnd=hx},result:function(){var t=vl?[dv/vl,fv/vl]:Po?[qd/Po,Kd/Po]:gl?[cv/gl,hv/gl]:[NaN,NaN];return cv=hv=gl=qd=Kd=Po=dv=fv=vl=0,t}};function Hs(t,e){cv+=t,hv+=e,++gl}function cx(){Fn.point=H5}function H5(t,e){Fn.point=q5,Hs(yr=t,_r=e)}function q5(t,e){var n=t-yr,r=e-_r,i=Rt(n*n+r*r);qd+=i*(yr+t)/2,Kd+=i*(_r+e)/2,Po+=i,Hs(yr=t,_r=e)}function hx(){Fn.point=Hs}function K5(){Fn.point=Q5}function G5(){BA($A,zA)}function Q5(t,e){Fn.point=BA,Hs($A=yr=t,zA=_r=e)}function BA(t,e){var n=t-yr,r=e-_r,i=Rt(n*n+r*r);qd+=i*(yr+t)/2,Kd+=i*(_r+e)/2,Po+=i,i=_r*t-yr*e,dv+=i*(yr+t),fv+=i*(_r+e),vl+=i*3,Hs(yr=t,_r=e)}function WA(t){this._context=t}WA.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,tn);break}}},result:et};var pv=new Wt,lm,HA,qA,yl,_l,_u={point:et,lineStart:function(){_u.point=Y5},lineEnd:function(){lm&&KA(HA,qA),_u.point=et},polygonStart:function(){lm=!0},polygonEnd:function(){lm=null},result:function(){var t=+pv;return pv=new Wt,t}};function Y5(t,e){_u.point=KA,HA=yl=t,qA=_l=e}function KA(t,e){yl-=t,_l-=e,pv.add(Rt(yl*yl+_l*_l)),yl=t,_l=e}function GA(){this._string=[]}GA.prototype={_radius:4.5,_circle:dx(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._string.push("M",t,",",e),this._point=1;break}case 1:{this._string.push("L",t,",",e);break}default:{this._circle==null&&(this._circle=dx(this._radius)),this._string.push("M",t,",",e,this._circle);break}}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}else return null}};function dx(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function QA(t,e){var n=4.5,r,i;function s(o){return o&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),tr(o,r(i))),i.result()}return s.area=function(o){return tr(o,r(Wr)),Wr.result()},s.measure=function(o){return tr(o,r(_u)),_u.result()},s.bounds=function(o){return tr(o,r(Hd)),Hd.result()},s.centroid=function(o){return tr(o,r(Fn)),Fn.result()},s.projection=function(o){return arguments.length?(r=o==null?(t=null,vu):(t=o).stream,s):t},s.context=function(o){return arguments.length?(i=o==null?(e=null,new GA):new WA(e=o),typeof n!="function"&&i.pointRadius(n),s):e},s.pointRadius=function(o){return arguments.length?(n=typeof o=="function"?o:(i.pointRadius(+o),+o),s):n},s.projection(t).context(e)}function X5(t){return{stream:Gu(t)}}function Gu(t){return function(e){var n=new mv;for(var r in t)n[r]=t[r];return n.stream=e,n}}function mv(){}mv.prototype={constructor:mv,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function ky(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),tr(n,t.stream(Hd)),e(Hd.result()),r!=null&&t.clipExtent(r),t}function Gf(t,e,n){return ky(t,function(r){var i=e[1][0]-e[0][0],s=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),a=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,l=+e[0][1]+(s-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,l])},n)}function Py(t,e,n){return Gf(t,[[0,0],e],n)}function by(t,e,n){return ky(t,function(r){var i=+e,s=i/(r[1][0]-r[0][0]),o=(i-s*(r[1][0]+r[0][0]))/2,a=-s*r[0][1];t.scale(150*s).translate([o,a])},n)}function Ny(t,e,n){return ky(t,function(r){var i=+e,s=i/(r[1][1]-r[0][1]),o=-s*r[0][0],a=(i-s*(r[1][1]+r[0][1]))/2;t.scale(150*s).translate([o,a])},n)}var fx=16,J5=re(30*le);function px(t,e){return+e?e9(t,e):Z5(t)}function Z5(t){return Gu({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function e9(t,e){function n(r,i,s,o,a,l,u,h,d,f,m,E,x,I){var _=u-r,w=h-i,y=_*_+w*w;if(y>4*e&&x--){var R=o+f,D=a+m,L=l+E,A=Rt(R*R+D*D+L*L),g=rn(L/=A),T=xe(xe(L)-1)<ae||xe(s-d)<ae?(s+d)/2:nn(D,R),k=t(T,g),P=k[0],M=k[1],b=P-r,O=M-i,V=w*b-_*O;(V*V/y>e||xe((_*b+w*O)/y-.5)>.3||o*f+a*m+l*E<J5)&&(n(r,i,s,o,a,l,P,M,T,R/=A,D/=A,L,x,I),I.point(P,M),n(P,M,T,R,D,L,u,h,d,f,m,E,x,I))}}return function(r){var i,s,o,a,l,u,h,d,f,m,E,x,I={point:_,lineStart:w,lineEnd:R,polygonStart:function(){r.polygonStart(),I.lineStart=D},polygonEnd:function(){r.polygonEnd(),I.lineStart=w}};function _(g,T){g=t(g,T),r.point(g[0],g[1])}function w(){d=NaN,I.point=y,r.lineStart()}function y(g,T){var k=Ws([g,T]),P=t(g,T);n(d,f,h,m,E,x,d=P[0],f=P[1],h=g,m=k[0],E=k[1],x=k[2],fx,r),r.point(d,f)}function R(){I.point=_,r.lineEnd()}function D(){w(),I.point=L,I.lineEnd=A}function L(g,T){y(i=g,T),s=d,o=f,a=m,l=E,u=x,I.point=y}function A(){n(d,f,h,m,E,x,s,o,i,a,l,u,fx,r),I.lineEnd=R,R()}return I}}var t9=Gu({point:function(t,e){this.stream.point(t*le,e*le)}});function n9(t){return Gu({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function r9(t,e,n,r,i){function s(o,a){return o*=r,a*=i,[e+t*o,n-t*a]}return s.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},s}function mx(t,e,n,r,i,s){if(!s)return r9(t,e,n,r,i);var o=re(s),a=te(s),l=o*t,u=a*t,h=o/t,d=a/t,f=(a*n-o*e)/t,m=(a*e+o*n)/t;function E(x,I){return x*=r,I*=i,[l*x-u*I+e,n-u*x-l*I]}return E.invert=function(x,I){return[r*(h*x-d*I+f),i*(m-d*x-h*I)]},E}function Mr(t){return My(function(){return t})()}function My(t){var e,n=150,r=480,i=250,s=0,o=0,a=0,l=0,u=0,h,d=0,f=1,m=1,E=null,x=rv,I=null,_,w,y,R=vu,D=.5,L,A,g,T,k;function P(V){return g(V[0]*le,V[1]*le)}function M(V){return V=g.invert(V[0],V[1]),V&&[V[0]*Ve,V[1]*Ve]}P.stream=function(V){return T&&k===V?T:T=t9(n9(h)(x(L(R(k=V)))))},P.preclip=function(V){return arguments.length?(x=V,E=void 0,O()):x},P.postclip=function(V){return arguments.length?(R=V,I=_=w=y=null,O()):R},P.clipAngle=function(V){return arguments.length?(x=+V?OA(E=V*le):(E=null,rv),O()):E*Ve},P.clipExtent=function(V){return arguments.length?(R=V==null?(I=_=w=y=null,vu):Kf(I=+V[0][0],_=+V[0][1],w=+V[1][0],y=+V[1][1]),O()):I==null?null:[[I,_],[w,y]]},P.scale=function(V){return arguments.length?(n=+V,b()):n},P.translate=function(V){return arguments.length?(r=+V[0],i=+V[1],b()):[r,i]},P.center=function(V){return arguments.length?(s=V[0]%360*le,o=V[1]%360*le,b()):[s*Ve,o*Ve]},P.rotate=function(V){return arguments.length?(a=V[0]%360*le,l=V[1]%360*le,u=V.length>2?V[2]%360*le:0,b()):[a*Ve,l*Ve,u*Ve]},P.angle=function(V){return arguments.length?(d=V%360*le,b()):d*Ve},P.reflectX=function(V){return arguments.length?(f=V?-1:1,b()):f<0},P.reflectY=function(V){return arguments.length?(m=V?-1:1,b()):m<0},P.precision=function(V){return arguments.length?(L=px(A,D=V*V),O()):Rt(D)},P.fitExtent=function(V,j){return Gf(P,V,j)},P.fitSize=function(V,j){return Py(P,V,j)},P.fitWidth=function(V,j){return by(P,V,j)},P.fitHeight=function(V,j){return Ny(P,V,j)};function b(){var V=mx(n,0,0,f,m,d).apply(null,e(s,o)),j=mx(n,r-V[0],i-V[1],f,m,d);return h=Ry(a,l,u),A=tv(e,j),g=tv(h,A),L=px(A,D),O()}function O(){return T=k=null,P}return function(){return e=t.apply(this,arguments),P.invert=e.invert&&M,b()}}function Dy(t){var e=0,n=ye/3,r=My(t),i=r(e,n);return i.parallels=function(s){return arguments.length?r(e=s[0]*le,n=s[1]*le):[e*Ve,n*Ve]},i}function i9(t){var e=re(t);function n(r,i){return[r*e,te(i)/e]}return n.invert=function(r,i){return[r/e,rn(i*e)]},n}function YA(t,e){var n=te(t),r=(n+te(e))/2;if(xe(r)<ae)return i9(t);var i=1+n*(2*r-n),s=Rt(i)/r;function o(a,l){var u=Rt(i-2*r*te(l))/r;return[u*te(a*=r),s-u*re(a)]}return o.invert=function(a,l){var u=s-l,h=nn(a,xe(u))*$n(u);return u*r<0&&(h-=ye*$n(a)*$n(u)),[h/r,rn((i-(a*a+u*u)*r*r)/(2*r))]},o}function Gd(){return Dy(YA).scale(155.424).center([0,33.6442])}function XA(){return Gd().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function s9(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function o9(){var t,e,n=XA(),r,i=Gd().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s,o=Gd().rotate([157,0]).center([-3,19.9]).parallels([8,18]),a,l,u={point:function(f,m){l=[f,m]}};function h(f){var m=f[0],E=f[1];return l=null,r.point(m,E),l||(s.point(m,E),l)||(a.point(m,E),l)}h.invert=function(f){var m=n.scale(),E=n.translate(),x=(f[0]-E[0])/m,I=(f[1]-E[1])/m;return(I>=.12&&I<.234&&x>=-.425&&x<-.214?i:I>=.166&&I<.234&&x>=-.214&&x<-.115?o:n).invert(f)},h.stream=function(f){return t&&e===f?t:t=s9([n.stream(e=f),i.stream(f),o.stream(f)])},h.precision=function(f){return arguments.length?(n.precision(f),i.precision(f),o.precision(f),d()):n.precision()},h.scale=function(f){return arguments.length?(n.scale(f),i.scale(f*.35),o.scale(f),h.translate(n.translate())):n.scale()},h.translate=function(f){if(!arguments.length)return n.translate();var m=n.scale(),E=+f[0],x=+f[1];return r=n.translate(f).clipExtent([[E-.455*m,x-.238*m],[E+.455*m,x+.238*m]]).stream(u),s=i.translate([E-.307*m,x+.201*m]).clipExtent([[E-.425*m+ae,x+.12*m+ae],[E-.214*m-ae,x+.234*m-ae]]).stream(u),a=o.translate([E-.205*m,x+.212*m]).clipExtent([[E-.214*m+ae,x+.166*m+ae],[E-.115*m-ae,x+.234*m-ae]]).stream(u),d()},h.fitExtent=function(f,m){return Gf(h,f,m)},h.fitSize=function(f,m){return Py(h,f,m)},h.fitWidth=function(f,m){return by(h,f,m)},h.fitHeight=function(f,m){return Ny(h,f,m)};function d(){return t=e=null,h}return h.scale(1070)}function JA(t){return function(e,n){var r=re(e),i=re(n),s=t(r*i);return s===1/0?[2,0]:[s*i*te(e),s*te(n)]}}function Qu(t){return function(e,n){var r=Rt(e*e+n*n),i=t(r),s=te(i),o=re(i);return[nn(e*s,r*o),rn(r&&n*s/r)]}}var Oy=JA(function(t){return Rt(2/(1+t))});Oy.invert=Qu(function(t){return 2*rn(t/2)});function a9(){return Mr(Oy).scale(124.75).clipAngle(180-.001)}var Ly=JA(function(t){return(t=yA(t))&&t/te(t)});Ly.invert=Qu(function(t){return t});function l9(){return Mr(Ly).scale(79.4188).clipAngle(180-.001)}function Yu(t,e){return[t,Ad(Iy((at+e)/2))]}Yu.invert=function(t,e){return[t,2*Ma(vA(e))-at]};function u9(){return ZA(Yu).scale(961/tn)}function ZA(t){var e=Mr(t),n=e.center,r=e.scale,i=e.translate,s=e.clipExtent,o=null,a,l,u;e.scale=function(d){return arguments.length?(r(d),h()):r()},e.translate=function(d){return arguments.length?(i(d),h()):i()},e.center=function(d){return arguments.length?(n(d),h()):n()},e.clipExtent=function(d){return arguments.length?(d==null?o=a=l=u=null:(o=+d[0][0],a=+d[0][1],l=+d[1][0],u=+d[1][1]),h()):o==null?null:[[o,a],[l,u]]};function h(){var d=ye*r(),f=e(kA(e.rotate()).invert([0,0]));return s(o==null?[[f[0]-d,f[1]-d],[f[0]+d,f[1]+d]]:t===Yu?[[Math.max(f[0]-d,o),a],[Math.min(f[0]+d,l),u]]:[[o,Math.max(f[1]-d,a)],[l,Math.min(f[1]+d,u)]])}return h()}function Wc(t){return Iy((at+t)/2)}function ek(t,e){var n=re(t),r=t===e?te(t):Ad(n/re(e))/Ad(Wc(e)/Wc(t)),i=n*im(Wc(t),r)/r;if(!r)return Yu;function s(o,a){i>0?a<-at+ae&&(a=-at+ae):a>at-ae&&(a=at-ae);var l=i/im(Wc(a),r);return[l*te(r*o),i-l*re(r*o)]}return s.invert=function(o,a){var l=i-a,u=$n(r)*Rt(o*o+l*l),h=nn(o,xe(l))*$n(l);return l*r<0&&(h-=ye*$n(o)*$n(l)),[h/r,2*Ma(im(i/u,1/r))-at]},s}function c9(){return Dy(ek).scale(109.5).parallels([30,30])}function wu(t,e){return[t,e]}wu.invert=wu;function h9(){return Mr(wu).scale(152.63)}function tk(t,e){var n=re(t),r=t===e?te(t):(n-re(e))/(e-t),i=n/r+t;if(xe(r)<ae)return wu;function s(o,a){var l=i-a,u=r*o;return[l*te(u),i-l*re(u)]}return s.invert=function(o,a){var l=i-a,u=nn(o,xe(l))*$n(l);return l*r<0&&(u-=ye*$n(o)*$n(l)),[u/r,i-$n(r)*Rt(o*o+l*l)]},s}function d9(){return Dy(tk).scale(131.154).center([0,13.9389])}var Vl=1.340264,jl=-.081106,Fl=893e-6,Ul=.003796,Qd=Rt(3)/2,f9=12;function Vy(t,e){var n=rn(Qd*te(e)),r=n*n,i=r*r*r;return[t*re(n)/(Qd*(Vl+3*jl*r+i*(7*Fl+9*Ul*r))),n*(Vl+jl*r+i*(Fl+Ul*r))]}Vy.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,s=0,o,a,l;s<f9&&(a=n*(Vl+jl*r+i*(Fl+Ul*r))-e,l=Vl+3*jl*r+i*(7*Fl+9*Ul*r),n-=o=a/l,r=n*n,i=r*r*r,!(xe(o)<gu));++s);return[Qd*t*(Vl+3*jl*r+i*(7*Fl+9*Ul*r))/re(n),rn(te(n)/Qd)]};function p9(){return Mr(Vy).scale(177.158)}function jy(t,e){var n=re(e),r=re(t)*n;return[n*te(t)/r,te(e)/r]}jy.invert=Qu(Ma);function m9(){return Mr(jy).scale(144.049).clipAngle(60)}function g9(){var t=1,e=0,n=0,r=1,i=1,s=0,o,a,l=null,u,h,d,f=1,m=1,E=Gu({point:function(R,D){var L=y([R,D]);this.stream.point(L[0],L[1])}}),x=vu,I,_;function w(){return f=t*r,m=t*i,I=_=null,y}function y(R){var D=R[0]*f,L=R[1]*m;if(s){var A=L*o-D*a;D=D*o+L*a,L=A}return[D+e,L+n]}return y.invert=function(R){var D=R[0]-e,L=R[1]-n;if(s){var A=L*o+D*a;D=D*o-L*a,L=A}return[D/f,L/m]},y.stream=function(R){return I&&_===R?I:I=E(x(_=R))},y.postclip=function(R){return arguments.length?(x=R,l=u=h=d=null,w()):x},y.clipExtent=function(R){return arguments.length?(x=R==null?(l=u=h=d=null,vu):Kf(l=+R[0][0],u=+R[0][1],h=+R[1][0],d=+R[1][1]),w()):l==null?null:[[l,u],[h,d]]},y.scale=function(R){return arguments.length?(t=+R,w()):t},y.translate=function(R){return arguments.length?(e=+R[0],n=+R[1],w()):[e,n]},y.angle=function(R){return arguments.length?(s=R%360*le,a=te(s),o=re(s),w()):s*Ve},y.reflectX=function(R){return arguments.length?(r=R?-1:1,w()):r<0},y.reflectY=function(R){return arguments.length?(i=R?-1:1,w()):i<0},y.fitExtent=function(R,D){return Gf(y,R,D)},y.fitSize=function(R,D){return Py(y,R,D)},y.fitWidth=function(R,D){return by(y,R,D)},y.fitHeight=function(R,D){return Ny(y,R,D)},y}function Fy(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(-.013791+r*(.003971*n-.001529*r))),e*(1.007226+n*(.015085+r*(-.044475+.028874*n-.005916*r)))]}Fy.invert=function(t,e){var n=e,r=25,i;do{var s=n*n,o=s*s;n-=i=(n*(1.007226+s*(.015085+o*(-.044475+.028874*s-.005916*o)))-e)/(1.007226+s*(.015085*3+o*(-.044475*7+.028874*9*s-.005916*11*o)))}while(xe(i)>ae&&--r>0);return[t/(.8707+(s=n*n)*(-.131979+s*(-.013791+s*s*s*(.003971-.001529*s)))),n]};function v9(){return Mr(Fy).scale(175.295)}function Uy(t,e){return[re(e)*te(t),te(e)]}Uy.invert=Qu(rn);function y9(){return Mr(Uy).scale(249.5).clipAngle(90+ae)}function $y(t,e){var n=re(e),r=1+re(t)*n;return[n*te(t)/r,te(e)/r]}$y.invert=Qu(function(t){return 2*Ma(t)});function _9(){return Mr($y).scale(250).clipAngle(142)}function zy(t,e){return[Ad(Iy((at+e)/2)),-t]}zy.invert=function(t,e){return[-e,2*Ma(vA(t))-at]};function w9(){var t=ZA(zy),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}const E9=Object.freeze(Object.defineProperty({__proto__:null,geoAlbers:XA,geoAlbersUsa:o9,geoArea:f5,geoAzimuthalEqualArea:a9,geoAzimuthalEqualAreaRaw:Oy,geoAzimuthalEquidistant:l9,geoAzimuthalEquidistantRaw:Ly,geoBounds:v5,geoCentroid:T5,geoCircle:S5,geoClipAntimeridian:rv,geoClipCircle:OA,geoClipExtent:b5,geoClipRectangle:Kf,geoConicConformal:c9,geoConicConformalRaw:ek,geoConicEqualArea:Gd,geoConicEqualAreaRaw:YA,geoConicEquidistant:d9,geoConicEquidistantRaw:tk,geoContains:j5,geoDistance:$d,geoEqualEarth:p9,geoEqualEarthRaw:Vy,geoEquirectangular:h9,geoEquirectangularRaw:wu,geoGnomonic:m9,geoGnomonicRaw:jy,geoGraticule:Ay,geoGraticule10:F5,geoIdentity:g9,geoInterpolate:U5,geoLength:LA,geoMercator:u9,geoMercatorRaw:Yu,geoNaturalEarth1:v9,geoNaturalEarth1Raw:Fy,geoOrthographic:y9,geoOrthographicRaw:Uy,geoPath:QA,geoProjection:Mr,geoProjectionMutator:My,geoRotation:kA,geoStereographic:_9,geoStereographicRaw:$y,geoStream:tr,geoTransform:X5,geoTransverseMercator:w9,geoTransverseMercatorRaw:zy},Symbol.toStringTag,{value:"Module"}));function x9(t){return t}function T9(t){if(t==null)return x9;var e,n,r=t.scale[0],i=t.scale[1],s=t.translate[0],o=t.translate[1];return function(a,l){l||(e=n=0);var u=2,h=a.length,d=new Array(h);for(d[0]=(e+=a[0])*r+s,d[1]=(n+=a[1])*i+o;u<h;)d[u]=a[u],++u;return d}}function S9(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}function I9(t,e){return typeof e=="string"&&(e=t.objects[e]),e.type==="GeometryCollection"?{type:"FeatureCollection",features:e.geometries.map(function(n){return gx(t,n)})}:gx(t,e)}function gx(t,e){var n=e.id,r=e.bbox,i=e.properties==null?{}:e.properties,s=nk(t,e);return n==null&&r==null?{type:"Feature",properties:i,geometry:s}:r==null?{type:"Feature",id:n,properties:i,geometry:s}:{type:"Feature",id:n,bbox:r,properties:i,geometry:s}}function nk(t,e){var n=T9(t.transform),r=t.arcs;function i(h,d){d.length&&d.pop();for(var f=r[h<0?~h:h],m=0,E=f.length;m<E;++m)d.push(n(f[m],m));h<0&&S9(d,E)}function s(h){return n(h)}function o(h){for(var d=[],f=0,m=h.length;f<m;++f)i(h[f],d);return d.length<2&&d.push(d[0]),d}function a(h){for(var d=o(h);d.length<4;)d.push(d[0]);return d}function l(h){return h.map(a)}function u(h){var d=h.type,f;switch(d){case"GeometryCollection":return{type:d,geometries:h.geometries.map(u)};case"Point":f=s(h.coordinates);break;case"MultiPoint":f=h.coordinates.map(s);break;case"LineString":f=o(h.arcs);break;case"MultiLineString":f=h.arcs.map(o);break;case"Polygon":f=l(h.arcs);break;case"MultiPolygon":f=h.arcs.map(l);break;default:return null}return{type:d,coordinates:f}}return u(e)}function C9(t,e){var n={},r={},i={},s=[],o=-1;e.forEach(function(u,h){var d=t.arcs[u<0?~u:u],f;d.length<3&&!d[1][0]&&!d[1][1]&&(f=e[++o],e[o]=u,e[h]=f)}),e.forEach(function(u){var h=a(u),d=h[0],f=h[1],m,E;if(m=i[d])if(delete i[m.end],m.push(u),m.end=f,E=r[f]){delete r[E.start];var x=E===m?m:m.concat(E);r[x.start=m.start]=i[x.end=E.end]=x}else r[m.start]=i[m.end]=m;else if(m=r[f])if(delete r[m.start],m.unshift(u),m.start=d,E=i[d]){delete i[E.end];var I=E===m?m:E.concat(m);r[I.start=E.start]=i[I.end=m.end]=I}else r[m.start]=i[m.end]=m;else m=[u],r[m.start=d]=i[m.end=f]=m});function a(u){var h=t.arcs[u<0?~u:u],d=h[0],f;return t.transform?(f=[0,0],h.forEach(function(m){f[0]+=m[0],f[1]+=m[1]})):f=h[h.length-1],u<0?[f,d]:[d,f]}function l(u,h){for(var d in u){var f=u[d];delete h[f.start],delete f.start,delete f.end,f.forEach(function(m){n[m<0?~m:m]=1}),s.push(f)}}return l(i,r),l(r,i),e.forEach(function(u){n[u<0?~u:u]||s.push([u])}),s}function vx(t){return nk(t,R9.apply(this,arguments))}function R9(t,e,n){var r,i,s;if(arguments.length>1)r=A9(t,e,n);else for(i=0,r=new Array(s=t.arcs.length);i<s;++i)r[i]=i;return{type:"MultiLineString",arcs:C9(t,r)}}function A9(t,e,n){var r=[],i=[],s;function o(d){var f=d<0?~d:d;(i[f]||(i[f]=[])).push({i:d,g:s})}function a(d){d.forEach(o)}function l(d){d.forEach(a)}function u(d){d.forEach(l)}function h(d){switch(s=d,d.type){case"GeometryCollection":d.geometries.forEach(h);break;case"LineString":a(d.arcs);break;case"MultiLineString":case"Polygon":l(d.arcs);break;case"MultiPolygon":u(d.arcs);break}}return h(e),i.forEach(n==null?function(d){r.push(d[0].i)}:function(d){n(d[0].g,d[d.length-1].g)&&r.push(d[0].i)}),r}var k9={value:()=>{}};function By(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ah(n)}function Ah(t){this._=t}function P9(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ah.prototype=By.prototype={constructor:Ah,on:function(t,e){var n=this._,r=P9(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=b9(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=yx(n[i],t.name,e);else if(e==null)for(i in n)n[i]=yx(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ah(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function b9(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function yx(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=k9,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var gv="http://www.w3.org/1999/xhtml";const _x={svg:"http://www.w3.org/2000/svg",xhtml:gv,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Qf(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),_x.hasOwnProperty(e)?{space:_x[e],local:t}:t}function N9(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===gv&&e.documentElement.namespaceURI===gv?e.createElement(t):e.createElementNS(n,t)}}function M9(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function rk(t){var e=Qf(t);return(e.local?M9:N9)(e)}function D9(){}function Wy(t){return t==null?D9:function(){return this.querySelector(t)}}function O9(t){typeof t!="function"&&(t=Wy(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,u,h=0;h<o;++h)(l=s[h])&&(u=t.call(l,l.__data__,h,s))&&("__data__"in l&&(u.__data__=l.__data__),a[h]=u);return new yn(r,this._parents)}function ik(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function L9(){return[]}function sk(t){return t==null?L9:function(){return this.querySelectorAll(t)}}function V9(t){return function(){var e=t.apply(this,arguments);return e==null?[]:ik(e)}}function j9(t){typeof t=="function"?t=V9(t):t=sk(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&(r.push(t.call(l,l.__data__,u,o)),i.push(l));return new yn(r,i)}function ok(t){return function(){return this.matches(t)}}function ak(t){return function(e){return e.matches(t)}}var F9=Array.prototype.find;function U9(t){return function(){return F9.call(this.children,t)}}function $9(){return this.firstElementChild}function z9(t){return this.select(t==null?$9:U9(typeof t=="function"?t:ak(t)))}var B9=Array.prototype.filter;function W9(){return this.children}function H9(t){return function(){return B9.call(this.children,t)}}function q9(t){return this.selectAll(t==null?W9:H9(typeof t=="function"?t:ak(t)))}function K9(t){typeof t!="function"&&(t=ok(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new yn(r,this._parents)}function lk(t){return new Array(t.length)}function G9(){return new yn(this._enter||this._groups.map(lk),this._parents)}function Yd(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Yd.prototype={constructor:Yd,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Q9(t){return function(){return t}}function Y9(t,e,n,r,i,s){for(var o=0,a,l=e.length,u=s.length;o<u;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new Yd(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function X9(t,e,n,r,i,s,o){var a,l,u=new Map,h=e.length,d=s.length,f=new Array(h),m;for(a=0;a<h;++a)(l=e[a])&&(f[a]=m=o.call(l,l.__data__,a,e)+"",u.has(m)?i[a]=l:u.set(m,l));for(a=0;a<d;++a)m=o.call(t,s[a],a,s)+"",(l=u.get(m))?(r[a]=l,l.__data__=s[a],u.delete(m)):n[a]=new Yd(t,s[a]);for(a=0;a<h;++a)(l=e[a])&&u.get(f[a])===l&&(i[a]=l)}function J9(t){return t.__data__}function Z9(t,e){if(!arguments.length)return Array.from(this,J9);var n=e?X9:Y9,r=this._parents,i=this._groups;typeof t!="function"&&(t=Q9(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var h=r[u],d=i[u],f=d.length,m=ik(t.call(h,h&&h.__data__,u,r)),E=m.length,x=a[u]=new Array(E),I=o[u]=new Array(E),_=l[u]=new Array(f);n(h,d,x,I,_,m,e);for(var w=0,y=0,R,D;w<E;++w)if(R=x[w]){for(w>=y&&(y=w+1);!(D=I[y])&&++y<E;);R._next=D||null}}return o=new yn(o,r),o._enter=a,o._exit=l,o}function e6(){return new yn(this._exit||this._groups.map(lk),this._parents)}function t6(t,e,n){var r=this.enter(),i=this,s=this.exit();return r=typeof t=="function"?t(r):r.append(t+""),e!=null&&(i=e(i)),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function n6(t){if(!(t instanceof yn))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],u=n[a],h=l.length,d=o[a]=new Array(h),f,m=0;m<h;++m)(f=l[m]||u[m])&&(d[m]=f);for(;a<r;++a)o[a]=e[a];return new yn(o,this._parents)}function r6(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function i6(t){t||(t=s6);function e(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),u,h=0;h<a;++h)(u=o[h])&&(l[h]=u);l.sort(e)}return new yn(i,this._parents).order()}function s6(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function o6(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function a6(){return Array.from(this)}function l6(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function u6(){let t=0;for(const e of this)++t;return t}function c6(){return!this.node()}function h6(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function d6(t){return function(){this.removeAttribute(t)}}function f6(t){return function(){this.removeAttributeNS(t.space,t.local)}}function p6(t,e){return function(){this.setAttribute(t,e)}}function m6(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function g6(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function v6(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function y6(t,e){var n=Qf(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?f6:d6:typeof e=="function"?n.local?v6:g6:n.local?m6:p6)(n,e))}function uk(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function _6(t){return function(){this.style.removeProperty(t)}}function w6(t,e,n){return function(){this.style.setProperty(t,e,n)}}function E6(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function x6(t,e,n){return arguments.length>1?this.each((e==null?_6:typeof e=="function"?E6:w6)(t,e,n??"")):va(this.node(),t)}function va(t,e){return t.style.getPropertyValue(e)||uk(t).getComputedStyle(t,null).getPropertyValue(e)}function T6(t){return function(){delete this[t]}}function S6(t,e){return function(){this[t]=e}}function I6(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function C6(t,e){return arguments.length>1?this.each((e==null?T6:typeof e=="function"?I6:S6)(t,e)):this.node()[t]}function ck(t){return t.trim().split(/^|\s+/)}function Hy(t){return t.classList||new hk(t)}function hk(t){this._node=t,this._names=ck(t.getAttribute("class")||"")}hk.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function dk(t,e){for(var n=Hy(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function fk(t,e){for(var n=Hy(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function R6(t){return function(){dk(this,t)}}function A6(t){return function(){fk(this,t)}}function k6(t,e){return function(){(e.apply(this,arguments)?dk:fk)(this,t)}}function P6(t,e){var n=ck(t+"");if(arguments.length<2){for(var r=Hy(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?k6:e?R6:A6)(n,e))}function b6(){this.textContent=""}function N6(t){return function(){this.textContent=t}}function M6(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function D6(t){return arguments.length?this.each(t==null?b6:(typeof t=="function"?M6:N6)(t)):this.node().textContent}function O6(){this.innerHTML=""}function L6(t){return function(){this.innerHTML=t}}function V6(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function j6(t){return arguments.length?this.each(t==null?O6:(typeof t=="function"?V6:L6)(t)):this.node().innerHTML}function F6(){this.nextSibling&&this.parentNode.appendChild(this)}function U6(){return this.each(F6)}function $6(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function z6(){return this.each($6)}function B6(t){var e=typeof t=="function"?t:rk(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function W6(){return null}function H6(t,e){var n=typeof t=="function"?t:rk(t),r=e==null?W6:typeof e=="function"?e:Wy(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function q6(){var t=this.parentNode;t&&t.removeChild(this)}function K6(){return this.each(q6)}function G6(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Q6(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Y6(t){return this.select(t?Q6:G6)}function X6(t){return arguments.length?this.property("__data__",t):this.node().__data__}function J6(t){return function(e){t.call(this,e,this.__data__)}}function Z6(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function eU(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function tU(t,e,n){return function(){var r=this.__on,i,s=J6(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function nU(t,e,n){var r=Z6(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,u=a.length,h;l<u;++l)for(i=0,h=a[l];i<s;++i)if((o=r[i]).type===h.type&&o.name===h.name)return h.value}return}for(a=e?tU:eU,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function pk(t,e,n){var r=uk(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function rU(t,e){return function(){return pk(this,t,e)}}function iU(t,e){return function(){return pk(this,t,e.apply(this,arguments))}}function sU(t,e){return this.each((typeof e=="function"?iU:rU)(t,e))}function*oU(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var mk=[null];function yn(t,e){this._groups=t,this._parents=e}function Xu(){return new yn([[document.documentElement]],mk)}function aU(){return this}yn.prototype=Xu.prototype={constructor:yn,select:O9,selectAll:j9,selectChild:z9,selectChildren:q9,filter:K9,data:Z9,enter:G9,exit:e6,join:t6,merge:n6,selection:aU,order:r6,sort:i6,call:o6,nodes:a6,node:l6,size:u6,empty:c6,each:h6,attr:y6,style:x6,property:C6,classed:P6,text:D6,html:j6,raise:U6,lower:z6,append:B6,insert:H6,remove:K6,clone:Y6,datum:X6,on:nU,dispatch:sU,[Symbol.iterator]:oU};function Hr(t){return typeof t=="string"?new yn([[document.querySelector(t)]],[document.documentElement]):new yn([[t]],mk)}function lU(t){let e;for(;e=t.sourceEvent;)t=e;return t}function vs(t,e){if(t=lU(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function vv(t){t.preventDefault(),t.stopImmediatePropagation()}function uU(t){var e=t.document.documentElement,n=Hr(t).on("dragstart.drag",vv,!0);"onselectstart"in e?n.on("selectstart.drag",vv,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function cU(t,e){var n=t.document.documentElement,r=Hr(t).on("dragstart.drag",null);e&&(r.on("click.drag",vv,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var hU=1e-12;function wx(t){return((t=Math.exp(t))+1/t)/2}function dU(t){return((t=Math.exp(t))-1/t)/2}function fU(t){return((t=Math.exp(2*t))-1)/(t+1)}const pU=function t(e,n,r){function i(s,o){var a=s[0],l=s[1],u=s[2],h=o[0],d=o[1],f=o[2],m=h-a,E=d-l,x=m*m+E*E,I,_;if(x<hU)_=Math.log(f/u)/e,I=function(A){return[a+A*m,l+A*E,u*Math.exp(e*A*_)]};else{var w=Math.sqrt(x),y=(f*f-u*u+r*x)/(2*u*n*w),R=(f*f-u*u-r*x)/(2*f*n*w),D=Math.log(Math.sqrt(y*y+1)-y),L=Math.log(Math.sqrt(R*R+1)-R);_=(L-D)/e,I=function(A){var g=A*_,T=wx(D),k=u/(n*w)*(T*fU(e*g+D)-dU(D));return[a+k*m,l+k*E,u*T/wx(e*g+D)]}}return I.duration=_*1e3*e/Math.SQRT2,I}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i}(Math.SQRT2,2,4);var ya=0,wl=0,il=0,gk=1e3,Xd,El,Jd=0,qs=0,Yf=0,Eu=typeof performance=="object"&&performance.now?performance:Date,vk=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qy(){return qs||(vk(mU),qs=Eu.now()+Yf)}function mU(){qs=0}function Zd(){this._call=this._time=this._next=null}Zd.prototype=yk.prototype={constructor:Zd,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?qy():+n)+(e==null?0:+e),!this._next&&El!==this&&(El?El._next=this:Xd=this,El=this),this._call=t,this._time=n,yv()},stop:function(){this._call&&(this._call=null,this._time=1/0,yv())}};function yk(t,e,n){var r=new Zd;return r.restart(t,e,n),r}function gU(){qy(),++ya;for(var t=Xd,e;t;)(e=qs-t._time)>=0&&t._call.call(null,e),t=t._next;--ya}function Ex(){qs=(Jd=Eu.now())+Yf,ya=wl=0;try{gU()}finally{ya=0,yU(),qs=0}}function vU(){var t=Eu.now(),e=t-Jd;e>gk&&(Yf-=e,Jd=t)}function yU(){for(var t,e=Xd,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Xd=n);El=t,yv(r)}function yv(t){if(!ya){wl&&(wl=clearTimeout(wl));var e=t-qs;e>24?(t<1/0&&(wl=setTimeout(Ex,t-Eu.now()-Yf)),il&&(il=clearInterval(il))):(il||(Jd=Eu.now(),il=setInterval(vU,gk)),ya=1,vk(Ex))}}function xx(t,e,n){var r=new Zd;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var _U=By("start","end","cancel","interrupt"),wU=[],_k=0,Tx=1,_v=2,kh=3,Sx=4,wv=5,Ph=6;function Xf(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;EU(t,n,{name:e,index:r,group:i,on:_U,tween:wU,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:_k})}function Ky(t,e){var n=hr(t,e);if(n.state>_k)throw new Error("too late; already scheduled");return n}function Dr(t,e){var n=hr(t,e);if(n.state>kh)throw new Error("too late; already running");return n}function hr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function EU(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=yk(s,0,n.time);function s(u){n.state=Tx,n.timer.restart(o,n.delay,n.time),n.delay<=u&&o(u-n.delay)}function o(u){var h,d,f,m;if(n.state!==Tx)return l();for(h in r)if(m=r[h],m.name===n.name){if(m.state===kh)return xx(o);m.state===Sx?(m.state=Ph,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[h]):+h<e&&(m.state=Ph,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[h])}if(xx(function(){n.state===kh&&(n.state=Sx,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=_v,n.on.call("start",t,t.__data__,n.index,n.group),n.state===_v){for(n.state=kh,i=new Array(f=n.tween.length),h=0,d=-1;h<f;++h)(m=n.tween[h].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=m);i.length=d+1}}function a(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=wv,1),d=-1,f=i.length;++d<f;)i[d].call(t,h);n.state===wv&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Ph,n.timer.stop(),delete r[e];for(var u in r)return;delete t.__transition}}function bh(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>_v&&r.state<wv,r.state=Ph,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function xU(t){return this.each(function(){bh(this,t)})}function Gy(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function wk(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ju(){}var xu=.7,ef=1/xu,Ho="\\s*([+-]?\\d+)\\s*",Tu="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TU=/^#([0-9a-f]{3,8})$/,SU=new RegExp("^rgb\\("+[Ho,Ho,Ho]+"\\)$"),IU=new RegExp("^rgb\\("+[Rr,Rr,Rr]+"\\)$"),CU=new RegExp("^rgba\\("+[Ho,Ho,Ho,Tu]+"\\)$"),RU=new RegExp("^rgba\\("+[Rr,Rr,Rr,Tu]+"\\)$"),AU=new RegExp("^hsl\\("+[Tu,Rr,Rr]+"\\)$"),kU=new RegExp("^hsla\\("+[Tu,Rr,Rr,Tu]+"\\)$"),Ix={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Gy(Ju,Su,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Cx,formatHex:Cx,formatHsl:PU,formatRgb:Rx,toString:Rx});function Cx(){return this.rgb().formatHex()}function PU(){return Ek(this).formatHsl()}function Rx(){return this.rgb().formatRgb()}function Su(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=TU.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ax(e):n===3?new An(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Hc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Hc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=SU.exec(t))?new An(e[1],e[2],e[3],1):(e=IU.exec(t))?new An(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=CU.exec(t))?Hc(e[1],e[2],e[3],e[4]):(e=RU.exec(t))?Hc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=AU.exec(t))?bx(e[1],e[2]/100,e[3]/100,1):(e=kU.exec(t))?bx(e[1],e[2]/100,e[3]/100,e[4]):Ix.hasOwnProperty(t)?Ax(Ix[t]):t==="transparent"?new An(NaN,NaN,NaN,0):null}function Ax(t){return new An(t>>16&255,t>>8&255,t&255,1)}function Hc(t,e,n,r){return r<=0&&(t=e=n=NaN),new An(t,e,n,r)}function bU(t){return t instanceof Ju||(t=Su(t)),t?(t=t.rgb(),new An(t.r,t.g,t.b,t.opacity)):new An}function Ev(t,e,n,r){return arguments.length===1?bU(t):new An(t,e,n,r??1)}function An(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Gy(An,Ev,wk(Ju,{brighter:function(t){return t=t==null?ef:Math.pow(ef,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=t==null?xu:Math.pow(xu,t),new An(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:kx,formatHex:kx,formatRgb:Px,toString:Px}));function kx(){return"#"+um(this.r)+um(this.g)+um(this.b)}function Px(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}function um(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function bx(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new wr(t,e,n,r)}function Ek(t){if(t instanceof wr)return new wr(t.h,t.s,t.l,t.opacity);if(t instanceof Ju||(t=Su(t)),!t)return new wr;if(t instanceof wr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new wr(o,a,l,t.opacity)}function NU(t,e,n,r){return arguments.length===1?Ek(t):new wr(t,e,n,r??1)}function wr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Gy(wr,NU,wk(Ju,{brighter:function(t){return t=t==null?ef:Math.pow(ef,t),new wr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=t==null?xu:Math.pow(xu,t),new wr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new An(cm(t>=240?t-240:t+120,i,r),cm(t,i,r),cm(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(t===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(t===1?")":", "+t+")")}}));function cm(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const xk=t=>()=>t;function MU(t,e){return function(n){return t+n*e}}function DU(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function OU(t){return(t=+t)==1?Tk:function(e,n){return n-e?DU(e,n,t):xk(isNaN(e)?n:e)}}function Tk(t,e){var n=e-t;return n?MU(t,n):xk(isNaN(t)?e:t)}const Nx=function t(e){var n=OU(e);function r(i,s){var o=n((i=Ev(i)).r,(s=Ev(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=Tk(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=a(h),i.b=l(h),i.opacity=u(h),i+""}}return r.gamma=t,r}(1);function Ri(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var xv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hm=new RegExp(xv.source,"g");function LU(t){return function(){return t}}function VU(t){return function(e){return t(e)+""}}function jU(t,e){var n=xv.lastIndex=hm.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=xv.exec(t))&&(i=hm.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Ri(r,i)})),n=hm.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?VU(l[0].x):LU(e):(e=l.length,function(u){for(var h=0,d;h<e;++h)a[(d=l[h]).i]=d.x(u);return a.join("")})}var Mx=180/Math.PI,Tv={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sk(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Mx,skewX:Math.atan(l)*Mx,scaleX:o,scaleY:a}}var qc;function FU(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Tv:Sk(e.a,e.b,e.c,e.d,e.e,e.f)}function UU(t){return t==null||(qc||(qc=document.createElementNS("http://www.w3.org/2000/svg","g")),qc.setAttribute("transform",t),!(t=qc.transform.baseVal.consolidate()))?Tv:(t=t.matrix,Sk(t.a,t.b,t.c,t.d,t.e,t.f))}function Ik(t,e,n,r){function i(u){return u.length?u.pop()+" ":""}function s(u,h,d,f,m,E){if(u!==d||h!==f){var x=m.push("translate(",null,e,null,n);E.push({i:x-4,x:Ri(u,d)},{i:x-2,x:Ri(h,f)})}else(d||f)&&m.push("translate("+d+e+f+n)}function o(u,h,d,f){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Ri(u,h)})):h&&d.push(i(d)+"rotate("+h+r)}function a(u,h,d,f){u!==h?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Ri(u,h)}):h&&d.push(i(d)+"skewX("+h+r)}function l(u,h,d,f,m,E){if(u!==d||h!==f){var x=m.push(i(m)+"scale(",null,",",null,")");E.push({i:x-4,x:Ri(u,d)},{i:x-2,x:Ri(h,f)})}else(d!==1||f!==1)&&m.push(i(m)+"scale("+d+","+f+")")}return function(u,h){var d=[],f=[];return u=t(u),h=t(h),s(u.translateX,u.translateY,h.translateX,h.translateY,d,f),o(u.rotate,h.rotate,d,f),a(u.skewX,h.skewX,d,f),l(u.scaleX,u.scaleY,h.scaleX,h.scaleY,d,f),u=h=null,function(m){for(var E=-1,x=f.length,I;++E<x;)d[(I=f[E]).i]=I.x(m);return d.join("")}}}var $U=Ik(FU,"px, ","px)","deg)"),zU=Ik(UU,", ",")",")");function BU(t,e){var n,r;return function(){var i=Dr(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function WU(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Dr(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===e){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function HU(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=hr(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?BU:WU)(n,t,e))}function Qy(t,e,n){var r=t._id;return t.each(function(){var i=Dr(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return hr(i,r).value[e]}}function Ck(t,e){var n;return(typeof e=="number"?Ri:e instanceof Su?Nx:(n=Su(e))?(e=n,Nx):jU)(t,e)}function qU(t){return function(){this.removeAttribute(t)}}function KU(t){return function(){this.removeAttributeNS(t.space,t.local)}}function GU(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function QU(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function YU(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function XU(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function JU(t,e){var n=Qf(t),r=n==="transform"?zU:Ck;return this.attrTween(t,typeof e=="function"?(n.local?XU:YU)(n,r,Qy(this,"attr."+t,e)):e==null?(n.local?KU:qU)(n):(n.local?QU:GU)(n,r,e))}function ZU(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function e$(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function t$(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&e$(t,s)),n}return i._value=e,i}function n$(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&ZU(t,s)),n}return i._value=e,i}function r$(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Qf(t);return this.tween(n,(r.local?t$:n$)(r,e))}function i$(t,e){return function(){Ky(this,t).delay=+e.apply(this,arguments)}}function s$(t,e){return e=+e,function(){Ky(this,t).delay=e}}function o$(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?i$:s$)(e,t)):hr(this.node(),e).delay}function a$(t,e){return function(){Dr(this,t).duration=+e.apply(this,arguments)}}function l$(t,e){return e=+e,function(){Dr(this,t).duration=e}}function u$(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?a$:l$)(e,t)):hr(this.node(),e).duration}function c$(t,e){if(typeof e!="function")throw new Error;return function(){Dr(this,t).ease=e}}function h$(t){var e=this._id;return arguments.length?this.each(c$(e,t)):hr(this.node(),e).ease}function d$(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Dr(this,t).ease=n}}function f$(t){if(typeof t!="function")throw new Error;return this.each(d$(this._id,t))}function p$(t){typeof t!="function"&&(t=ok(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,u=0;u<o;++u)(l=s[u])&&t.call(l,l.__data__,u,s)&&a.push(l);return new fi(r,this._parents,this._name,this._id)}function m$(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],u=n[a],h=l.length,d=o[a]=new Array(h),f,m=0;m<h;++m)(f=l[m]||u[m])&&(d[m]=f);for(;a<r;++a)o[a]=e[a];return new fi(o,this._parents,this._name,this._id)}function g$(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function v$(t,e,n){var r,i,s=g$(e)?Ky:Dr;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function y$(t,e){var n=this._id;return arguments.length<2?hr(this.node(),n).on.on(t):this.each(v$(n,t,e))}function _$(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function w$(){return this.on("end.remove",_$(this._id))}function E$(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Wy(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,u=s[o]=new Array(l),h,d,f=0;f<l;++f)(h=a[f])&&(d=t.call(h,h.__data__,f,a))&&("__data__"in h&&(d.__data__=h.__data__),u[f]=d,Xf(u[f],e,n,f,u,hr(h,n)));return new fi(s,this._parents,e,n)}function x$(t){var e=this._name,n=this._id;typeof t!="function"&&(t=sk(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],u=l.length,h,d=0;d<u;++d)if(h=l[d]){for(var f=t.call(h,h.__data__,d,l),m,E=hr(h,n),x=0,I=f.length;x<I;++x)(m=f[x])&&Xf(m,e,n,x,f,E);s.push(f),o.push(h)}return new fi(s,o,e,n)}var T$=Xu.prototype.constructor;function S$(){return new T$(this._groups,this._parents)}function I$(t,e){var n,r,i;return function(){var s=va(this,t),o=(this.style.removeProperty(t),va(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function Rk(t){return function(){this.style.removeProperty(t)}}function C$(t,e,n){var r,i=n+"",s;return function(){var o=va(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function R$(t,e,n){var r,i,s;return function(){var o=va(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),va(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function A$(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=Dr(this,t),u=l.on,h=l.value[s]==null?a||(a=Rk(e)):void 0;(u!==n||i!==h)&&(r=(n=u).copy()).on(o,i=h),l.on=r}}function k$(t,e,n){var r=(t+="")=="transform"?$U:Ck;return e==null?this.styleTween(t,I$(t,r)).on("end.style."+t,Rk(t)):typeof e=="function"?this.styleTween(t,R$(t,r,Qy(this,"style."+t,e))).each(A$(this._id,t)):this.styleTween(t,C$(t,r,e),n).on("end.style."+t,null)}function P$(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function b$(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&P$(t,o,n)),r}return s._value=e,s}function N$(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,b$(t,e,n??""))}function M$(t){return function(){this.textContent=t}}function D$(t){return function(){var e=t(this);this.textContent=e??""}}function O$(t){return this.tween("text",typeof t=="function"?D$(Qy(this,"text",t)):M$(t==null?"":t+""))}function L$(t){return function(e){this.textContent=t.call(this,e)}}function V$(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&L$(i)),e}return r._value=t,r}function j$(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,V$(t))}function F$(){for(var t=this._name,e=this._id,n=Ak(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)if(l=o[u]){var h=hr(l,e);Xf(l,t,n,u,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new fi(r,this._parents,t,n)}function U$(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var u=Dr(this,r),h=u.on;h!==t&&(e=(t=h).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),u.on=e}),i===0&&s()})}var $$=0;function fi(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ak(){return++$$}var ys=Xu.prototype;fi.prototype={constructor:fi,select:E$,selectAll:x$,filter:p$,merge:m$,selection:S$,transition:F$,call:ys.call,nodes:ys.nodes,node:ys.node,size:ys.size,empty:ys.empty,each:ys.each,on:y$,attr:JU,attrTween:r$,style:k$,styleTween:N$,text:O$,textTween:j$,remove:w$,tween:HU,delay:o$,duration:u$,ease:h$,easeVarying:f$,end:U$,[Symbol.iterator]:ys[Symbol.iterator]};function z$(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var B$={time:null,delay:0,duration:250,ease:z$};function W$(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function H$(t){var e,n;t instanceof fi?(e=t._id,t=t._name):(e=Ak(),(n=B$).time=qy(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,u=0;u<a;++u)(l=o[u])&&Xf(l,t,e,u,o,n||W$(l,e));return new fi(r,this._parents,t,e)}Xu.prototype.interrupt=xU;Xu.prototype.transition=H$;const Kc=t=>()=>t;function q$(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Jr(t,e,n){this.k=t,this.x=e,this.y=n}Jr.prototype={constructor:Jr,scale:function(t){return t===1?this:new Jr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Jr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Yy=new Jr(1,0,0);Jr.prototype;function dm(t){t.stopImmediatePropagation()}function sl(t){t.preventDefault(),t.stopImmediatePropagation()}function K$(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function G$(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Dx(){return this.__zoom||Yy}function Q$(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Y$(){return navigator.maxTouchPoints||"ontouchstart"in this}function X$(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function J$(){var t=K$,e=G$,n=X$,r=Q$,i=Y$,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=pU,u=By("start","zoom","end"),h,d,f,m=500,E=150,x=0,I=10;function _(O){O.property("__zoom",Dx).on("wheel.zoom",g).on("mousedown.zoom",T).on("dblclick.zoom",k).filter(i).on("touchstart.zoom",P).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",b).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(O,V,j,z){var U=O.selection?O.selection():O;U.property("__zoom",Dx),O!==U?D(O,V,j,z):U.interrupt().each(function(){L(this,arguments).event(z).start().zoom(null,typeof V=="function"?V.apply(this,arguments):V).end()})},_.scaleBy=function(O,V,j,z){_.scaleTo(O,function(){var U=this.__zoom.k,F=typeof V=="function"?V.apply(this,arguments):V;return U*F},j,z)},_.scaleTo=function(O,V,j,z){_.transform(O,function(){var U=e.apply(this,arguments),F=this.__zoom,q=j==null?R(U):typeof j=="function"?j.apply(this,arguments):j,Q=F.invert(q),W=typeof V=="function"?V.apply(this,arguments):V;return n(y(w(F,W),q,Q),U,o)},j,z)},_.translateBy=function(O,V,j,z){_.transform(O,function(){return n(this.__zoom.translate(typeof V=="function"?V.apply(this,arguments):V,typeof j=="function"?j.apply(this,arguments):j),e.apply(this,arguments),o)},null,z)},_.translateTo=function(O,V,j,z,U){_.transform(O,function(){var F=e.apply(this,arguments),q=this.__zoom,Q=z==null?R(F):typeof z=="function"?z.apply(this,arguments):z;return n(Yy.translate(Q[0],Q[1]).scale(q.k).translate(typeof V=="function"?-V.apply(this,arguments):-V,typeof j=="function"?-j.apply(this,arguments):-j),F,o)},z,U)};function w(O,V){return V=Math.max(s[0],Math.min(s[1],V)),V===O.k?O:new Jr(V,O.x,O.y)}function y(O,V,j){var z=V[0]-j[0]*O.k,U=V[1]-j[1]*O.k;return z===O.x&&U===O.y?O:new Jr(O.k,z,U)}function R(O){return[(+O[0][0]+ +O[1][0])/2,(+O[0][1]+ +O[1][1])/2]}function D(O,V,j,z){O.on("start.zoom",function(){L(this,arguments).event(z).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(z).end()}).tween("zoom",function(){var U=this,F=arguments,q=L(U,F).event(z),Q=e.apply(U,F),W=j==null?R(Q):typeof j=="function"?j.apply(U,F):j,J=Math.max(Q[1][0]-Q[0][0],Q[1][1]-Q[0][1]),ie=U.__zoom,se=typeof V=="function"?V.apply(U,F):V,ge=l(ie.invert(W).concat(J/ie.k),se.invert(W).concat(J/se.k));return function(me){if(me===1)me=se;else{var Ce=ge(me),Z=J/Ce[2];me=new Jr(Z,W[0]-Ce[0]*Z,W[1]-Ce[1]*Z)}q.zoom(null,me)}})}function L(O,V,j){return!j&&O.__zooming||new A(O,V)}function A(O,V){this.that=O,this.args=V,this.active=0,this.sourceEvent=null,this.extent=e.apply(O,V),this.taps=0}A.prototype={event:function(O){return O&&(this.sourceEvent=O),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(O,V){return this.mouse&&O!=="mouse"&&(this.mouse[1]=V.invert(this.mouse[0])),this.touch0&&O!=="touch"&&(this.touch0[1]=V.invert(this.touch0[0])),this.touch1&&O!=="touch"&&(this.touch1[1]=V.invert(this.touch1[0])),this.that.__zoom=V,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(O){var V=Hr(this.that).datum();u.call(O,this.that,new q$(O,{sourceEvent:this.sourceEvent,target:_,type:O,transform:this.that.__zoom,dispatch:u}),V)}};function g(O,...V){if(!t.apply(this,arguments))return;var j=L(this,V).event(O),z=this.__zoom,U=Math.max(s[0],Math.min(s[1],z.k*Math.pow(2,r.apply(this,arguments)))),F=vs(O);if(j.wheel)(j.mouse[0][0]!==F[0]||j.mouse[0][1]!==F[1])&&(j.mouse[1]=z.invert(j.mouse[0]=F)),clearTimeout(j.wheel);else{if(z.k===U)return;j.mouse=[F,z.invert(F)],bh(this),j.start()}sl(O),j.wheel=setTimeout(q,E),j.zoom("mouse",n(y(w(z,U),j.mouse[0],j.mouse[1]),j.extent,o));function q(){j.wheel=null,j.end()}}function T(O,...V){if(f||!t.apply(this,arguments))return;var j=L(this,V,!0).event(O),z=Hr(O.view).on("mousemove.zoom",W,!0).on("mouseup.zoom",J,!0),U=vs(O,F),F=O.currentTarget,q=O.clientX,Q=O.clientY;uU(O.view),dm(O),j.mouse=[U,this.__zoom.invert(U)],bh(this),j.start();function W(ie){if(sl(ie),!j.moved){var se=ie.clientX-q,ge=ie.clientY-Q;j.moved=se*se+ge*ge>x}j.event(ie).zoom("mouse",n(y(j.that.__zoom,j.mouse[0]=vs(ie,F),j.mouse[1]),j.extent,o))}function J(ie){z.on("mousemove.zoom mouseup.zoom",null),cU(ie.view,j.moved),sl(ie),j.event(ie).end()}}function k(O,...V){if(t.apply(this,arguments)){var j=this.__zoom,z=vs(O.changedTouches?O.changedTouches[0]:O,this),U=j.invert(z),F=j.k*(O.shiftKey?.5:2),q=n(y(w(j,F),z,U),e.apply(this,V),o);sl(O),a>0?Hr(this).transition().duration(a).call(D,q,z,O):Hr(this).call(_.transform,q,z,O)}}function P(O,...V){if(t.apply(this,arguments)){var j=O.touches,z=j.length,U=L(this,V,O.changedTouches.length===z).event(O),F,q,Q,W;for(dm(O),q=0;q<z;++q)Q=j[q],W=vs(Q,this),W=[W,this.__zoom.invert(W),Q.identifier],U.touch0?!U.touch1&&U.touch0[2]!==W[2]&&(U.touch1=W,U.taps=0):(U.touch0=W,F=!0,U.taps=1+!!h);h&&(h=clearTimeout(h)),F&&(U.taps<2&&(d=W[0],h=setTimeout(function(){h=null},m)),bh(this),U.start())}}function M(O,...V){if(this.__zooming){var j=L(this,V).event(O),z=O.changedTouches,U=z.length,F,q,Q,W;for(sl(O),F=0;F<U;++F)q=z[F],Q=vs(q,this),j.touch0&&j.touch0[2]===q.identifier?j.touch0[0]=Q:j.touch1&&j.touch1[2]===q.identifier&&(j.touch1[0]=Q);if(q=j.that.__zoom,j.touch1){var J=j.touch0[0],ie=j.touch0[1],se=j.touch1[0],ge=j.touch1[1],me=(me=se[0]-J[0])*me+(me=se[1]-J[1])*me,Ce=(Ce=ge[0]-ie[0])*Ce+(Ce=ge[1]-ie[1])*Ce;q=w(q,Math.sqrt(me/Ce)),Q=[(J[0]+se[0])/2,(J[1]+se[1])/2],W=[(ie[0]+ge[0])/2,(ie[1]+ge[1])/2]}else if(j.touch0)Q=j.touch0[0],W=j.touch0[1];else return;j.zoom("touch",n(y(q,Q,W),j.extent,o))}}function b(O,...V){if(this.__zooming){var j=L(this,V).event(O),z=O.changedTouches,U=z.length,F,q;for(dm(O),f&&clearTimeout(f),f=setTimeout(function(){f=null},m),F=0;F<U;++F)q=z[F],j.touch0&&j.touch0[2]===q.identifier?delete j.touch0:j.touch1&&j.touch1[2]===q.identifier&&delete j.touch1;if(j.touch1&&!j.touch0&&(j.touch0=j.touch1,delete j.touch1),j.touch0)j.touch0[1]=this.__zoom.invert(j.touch0[0]);else if(j.end(),j.taps===2&&(q=vs(q,this),Math.hypot(d[0]-q[0],d[1]-q[1])<I)){var Q=Hr(this).on("dblclick.zoom");Q&&Q.apply(this,arguments)}}}return _.wheelDelta=function(O){return arguments.length?(r=typeof O=="function"?O:Kc(+O),_):r},_.filter=function(O){return arguments.length?(t=typeof O=="function"?O:Kc(!!O),_):t},_.touchable=function(O){return arguments.length?(i=typeof O=="function"?O:Kc(!!O),_):i},_.extent=function(O){return arguments.length?(e=typeof O=="function"?O:Kc([[+O[0][0],+O[0][1]],[+O[1][0],+O[1][1]]]),_):e},_.scaleExtent=function(O){return arguments.length?(s[0]=+O[0],s[1]=+O[1],_):[s[0],s[1]]},_.translateExtent=function(O){return arguments.length?(o[0][0]=+O[0][0],o[1][0]=+O[1][0],o[0][1]=+O[0][1],o[1][1]=+O[1][1],_):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},_.constrain=function(O){return arguments.length?(n=O,_):n},_.duration=function(O){return arguments.length?(a=+O,_):a},_.interpolate=function(O){return arguments.length?(l=O,_):l},_.on=function(){var O=u.on.apply(u,arguments);return O===u?_:O},_.clickDistance=function(O){return arguments.length?(x=(O=+O)*O,_):Math.sqrt(x)},_.tapDistance=function(O){return arguments.length?(I=+O,_):I},_}function Ox(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ox(Object(n),!0).forEach(function(r){Z$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ox(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sv(t){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function Z$(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _n(){return _n=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_n.apply(this,arguments)}function ez(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function qn(t,e){if(t==null)return{};var n=ez(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bt(t,e){return tz(t)||nz(t,e)||rz(t,e)||iz()}function tz(t){if(Array.isArray(t))return t}function nz(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,a;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}return r}}function rz(t,e){if(t){if(typeof t=="string")return Lx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lx(t,e)}}function Lx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iz(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var sz=["width","height","projection","projectionConfig"],oz=QA,az=qn(E9,["geoPath"]),Or=C.createContext(),lz=function(e){var n=e.projectionConfig,r=n===void 0?{}:n,i=e.projection,s=i===void 0?"geoEqualEarth":i,o=e.width,a=o===void 0?800:o,l=e.height,u=l===void 0?600:l,h=typeof s=="function";if(h)return s;var d=az[s]().translate([a/2,u/2]),f=[d.center?"center":null,d.rotate?"rotate":null,d.scale?"scale":null,d.parallels?"parallels":null];return f.forEach(function(m){m&&(d=d[m](r[m]||d[m]()))}),d},kk=function(e){var n=e.width,r=e.height,i=e.projection,s=e.projectionConfig,o=qn(e,sz),a=s.center||[],l=bt(a,2),u=l[0],h=l[1],d=s.rotate||[],f=bt(d,3),m=f[0],E=f[1],x=f[2],I=s.parallels||[],_=bt(I,2),w=_[0],y=_[1],R=s.scale||null,D=C.useMemo(function(){return lz({projectionConfig:{center:u||u===0||h||h===0?[u,h]:null,rotate:m||m===0||E||E===0?[m,E,x]:null,parallels:w||w===0||y||y===0?[w,y]:null,scale:R},projection:i,width:n,height:r})},[n,r,i,u,h,m,E,x,w,y,R]),L=C.useCallback(D,[D]),A=C.useMemo(function(){return{width:n,height:r,projection:L,path:oz().projection(L)}},[n,r,L]);return Oe.createElement(Or.Provider,_n({value:A},o))};kk.propTypes={width:Y.number,height:Y.number,projection:Y.oneOfType([Y.string,Y.func]),projectionConfig:Y.object};var uz=["width","height","projection","projectionConfig","className"],Yi=C.forwardRef(function(t,e){var n=t.width,r=n===void 0?800:n,i=t.height,s=i===void 0?600:i,o=t.projection,a=o===void 0?"geoEqualEarth":o,l=t.projectionConfig,u=l===void 0?{}:l,h=t.className,d=h===void 0?"":h,f=qn(t,uz);return Oe.createElement(kk,{width:r,height:s,projection:a,projectionConfig:u},Oe.createElement("svg",_n({ref:e,viewBox:"0 0 ".concat(r," ").concat(s),className:"rsm-svg ".concat(d)},f)))});Yi.displayName="ComposableMap";Yi.propTypes={width:Y.number,height:Y.number,projection:Y.oneOfType([Y.string,Y.func]),projectionConfig:Y.object,className:Y.string};function Vx(t,e,n){var r=(t*n.k-t)/2,i=(e*n.k-e)/2;return[t/2-(r+n.x)/n.k,e/2-(i+n.y)/n.k]}function cz(t){return fetch(t).then(function(e){if(!e.ok)throw Error(e.statusText);return e.json()}).catch(function(e){console.log("There was a problem when fetching the data: ",e)})}function jx(t,e){var n=t.type==="Topology";if(!n)return e?e(t.features||t):t.features||t;var r=I9(t,t.objects[Object.keys(t.objects)[0]]).features;return e?e(r):r}function Fx(t){var e=t.type==="Topology";if(!e)return null;var n=vx(t,t.objects[Object.keys(t.objects)[0]],function(i,s){return i===s}),r=vx(t,t.objects[Object.keys(t.objects)[0]],function(i,s){return i!==s});return{outline:n,borders:r}}function hz(t,e,n){return t&&e?{outline:bo(bo({},t),{},{rsmKey:"outline",svgPath:n(t)}),borders:bo(bo({},e),{},{rsmKey:"borders",svgPath:n(e)})}:{}}function dz(t,e){return t?t.map(function(n,r){return bo(bo({},n),{},{rsmKey:"geo-".concat(r),svgPath:e(n)})}):[]}function fz(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:30,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:30,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.5,r=Array.isArray(n)?n:[n,n],i=t/2*r[0],s=e/2*r[1];return"M".concat(0,",",0," Q",-t/2-i,",").concat(-e/2+s," ").concat(-t,",").concat(-e)}function pz(t){return typeof t=="string"}function mz(t){var e=t.geography,n=t.parseGeographies,r=C.useContext(Or),i=r.path,s=C.useState({}),o=bt(s,2),a=o[0],l=o[1];C.useEffect(function(){(typeof window>"u"?"undefined":Sv(window))!=="undefined"&&e&&(pz(e)?cz(e).then(function(m){m&&l({geographies:jx(m,n),mesh:Fx(m)})}):l({geographies:jx(e,n),mesh:Fx(e)}))},[e,n]);var u=C.useMemo(function(){var m=a.mesh||{},E=hz(m.outline,m.borders,i);return{geographies:dz(a.geographies,i),outline:E.outline,borders:E.borders}},[a,i]),h=u.geographies,d=u.outline,f=u.borders;return{geographies:h,outline:d,borders:f}}var gz=["geography","children","parseGeographies","className"],Xi=C.forwardRef(function(t,e){var n=t.geography,r=t.children,i=t.parseGeographies,s=t.className,o=s===void 0?"":s,a=qn(t,gz),l=C.useContext(Or),u=l.path,h=l.projection,d=mz({geography:n,parseGeographies:i}),f=d.geographies,m=d.outline,E=d.borders;return Oe.createElement("g",_n({ref:e,className:"rsm-geographies ".concat(o)},a),f&&f.length>0&&r({geographies:f,outline:m,borders:E,path:u,projection:h}))});Xi.displayName="Geographies";Xi.propTypes={geography:Y.oneOfType([Y.string,Y.object,Y.array]),children:Y.func,parseGeographies:Y.func,className:Y.string};var vz=["geography","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],Xy=C.forwardRef(function(t,e){var n=t.geography,r=t.onMouseEnter,i=t.onMouseLeave,s=t.onMouseDown,o=t.onMouseUp,a=t.onFocus,l=t.onBlur,u=t.style,h=u===void 0?{}:u,d=t.className,f=d===void 0?"":d,m=qn(t,vz),E=C.useState(!1),x=bt(E,2),I=x[0],_=x[1],w=C.useState(!1),y=bt(w,2),R=y[0],D=y[1];function L(M){D(!0),r&&r(M)}function A(M){D(!1),I&&_(!1),i&&i(M)}function g(M){D(!0),a&&a(M)}function T(M){D(!1),I&&_(!1),l&&l(M)}function k(M){_(!0),s&&s(M)}function P(M){_(!1),o&&o(M)}return Oe.createElement("path",_n({ref:e,tabIndex:"0",className:"rsm-geography ".concat(f),d:n.svgPath,onMouseEnter:L,onMouseLeave:A,onFocus:g,onBlur:T,onMouseDown:k,onMouseUp:P,style:h[I||R?I?"pressed":"hover":"default"]},m))});Xy.displayName="Geography";Xy.propTypes={geography:Y.object,onMouseEnter:Y.func,onMouseLeave:Y.func,onMouseDown:Y.func,onMouseUp:Y.func,onFocus:Y.func,onBlur:Y.func,style:Y.object,className:Y.string};var qo=C.memo(Xy),yz=["fill","stroke","step","className"],Jy=C.forwardRef(function(t,e){var n=t.fill,r=n===void 0?"transparent":n,i=t.stroke,s=i===void 0?"currentcolor":i,o=t.step,a=o===void 0?[10,10]:o,l=t.className,u=l===void 0?"":l,h=qn(t,yz),d=C.useContext(Or),f=d.path;return Oe.createElement("path",_n({ref:e,d:f(Ay().step(a)()),fill:r,stroke:s,className:"rsm-graticule ".concat(u)},h))});Jy.displayName="Graticule";Jy.propTypes={fill:Y.string,stroke:Y.string,step:Y.array,className:Y.string};C.memo(Jy);var _z=["value"],wz=C.createContext(),Ez={x:0,y:0,k:1,transformString:"translate(0 0) scale(1)"},Pk=function(e){var n=e.value,r=n===void 0?Ez:n,i=qn(e,_z);return Oe.createElement(wz.Provider,_n({value:r},i))};Pk.propTypes={x:Y.number,y:Y.number,k:Y.number,transformString:Y.string};function xz(t){var e=t.center,n=t.filterZoomEvent,r=t.onMoveStart,i=t.onMoveEnd,s=t.onMove,o=t.translateExtent,a=o===void 0?[[-1/0,-1/0],[1/0,1/0]]:o,l=t.scaleExtent,u=l===void 0?[1,8]:l,h=t.zoom,d=h===void 0?1:h,f=C.useContext(Or),m=f.width,E=f.height,x=f.projection,I=bt(e,2),_=I[0],w=I[1],y=C.useState({x:0,y:0,k:1}),R=bt(y,2),D=R[0],L=R[1],A=C.useRef({x:0,y:0,k:1}),g=C.useRef(),T=C.useRef(),k=C.useRef(!1),P=bt(a,2),M=P[0],b=P[1],O=bt(M,2),V=O[0],j=O[1],z=bt(b,2),U=z[0],F=z[1],q=bt(u,2),Q=q[0],W=q[1];return C.useEffect(function(){var J=Hr(g.current);function ie(Z){!r||k.current||r({coordinates:x.invert(Vx(m,E,Z.transform)),zoom:Z.transform.k},Z)}function se(Z){if(!k.current){var pe=Z.transform,Te=Z.sourceEvent;L({x:pe.x,y:pe.y,k:pe.k,dragging:Te}),s&&s({x:pe.x,y:pe.y,zoom:pe.k,dragging:Te},Z)}}function ge(Z){if(k.current){k.current=!1;return}var pe=x.invert(Vx(m,E,Z.transform)),Te=bt(pe,2),je=Te[0],Re=Te[1];A.current={x:je,y:Re,k:Z.transform.k},i&&i({coordinates:[je,Re],zoom:Z.transform.k},Z)}function me(Z){return n?n(Z):Z?!Z.ctrlKey&&!Z.button:!1}var Ce=J$().filter(me).scaleExtent([Q,W]).translateExtent([[V,j],[U,F]]).on("start",ie).on("zoom",se).on("end",ge);T.current=Ce,J.call(Ce)},[m,E,V,j,U,F,Q,W,x,r,s,i,n]),C.useEffect(function(){if(!(_===A.current.x&&w===A.current.y&&d===A.current.k)){var J=x([_,w]),ie=J[0]*d,se=J[1]*d,ge=Hr(g.current);k.current=!0,ge.call(T.current.transform,Yy.translate(m/2-ie,E/2-se).scale(d)),L({x:m/2-ie,y:E/2-se,k:d}),A.current={x:_,y:w,k:d}}},[_,w,d,m,E,x]),{mapRef:g,position:D,transformString:"translate(".concat(D.x," ").concat(D.y,") scale(").concat(D.k,")")}}var Tz=["center","zoom","minZoom","maxZoom","translateExtent","filterZoomEvent","onMoveStart","onMove","onMoveEnd","className"],bk=C.forwardRef(function(t,e){var n=t.center,r=n===void 0?[0,0]:n,i=t.zoom,s=i===void 0?1:i,o=t.minZoom,a=o===void 0?1:o,l=t.maxZoom,u=l===void 0?8:l,h=t.translateExtent,d=t.filterZoomEvent,f=t.onMoveStart,m=t.onMove,E=t.onMoveEnd,x=t.className,I=qn(t,Tz),_=C.useContext(Or),w=_.width,y=_.height,R=xz({center:r,filterZoomEvent:d,onMoveStart:f,onMove:m,onMoveEnd:E,scaleExtent:[a,u],translateExtent:h,zoom:s}),D=R.mapRef,L=R.transformString,A=R.position;return Oe.createElement(Pk,{value:{x:A.x,y:A.y,k:A.k,transformString:L}},Oe.createElement("g",{ref:D},Oe.createElement("rect",{width:w,height:y,fill:"transparent"}),Oe.createElement("g",_n({ref:e,transform:L,className:"rsm-zoomable-group ".concat(x)},I))))});bk.displayName="ZoomableGroup";bk.propTypes={center:Y.array,zoom:Y.number,minZoom:Y.number,maxZoom:Y.number,translateExtent:Y.arrayOf(Y.array),onMoveStart:Y.func,onMove:Y.func,onMoveEnd:Y.func,className:Y.string};var Sz=["id","fill","stroke","strokeWidth","className"],Zy=C.forwardRef(function(t,e){var n=t.id,r=n===void 0?"rsm-sphere":n,i=t.fill,s=i===void 0?"transparent":i,o=t.stroke,a=o===void 0?"currentcolor":o,l=t.strokeWidth,u=l===void 0?.5:l,h=t.className,d=h===void 0?"":h,f=qn(t,Sz),m=C.useContext(Or),E=m.path,x=C.useMemo(function(){return E({type:"Sphere"})},[E]);return Oe.createElement(C.Fragment,null,Oe.createElement("defs",null,Oe.createElement("clipPath",{id:r},Oe.createElement("path",{d:x}))),Oe.createElement("path",_n({ref:e,d:x,fill:s,stroke:a,strokeWidth:u,style:{pointerEvents:"none"},className:"rsm-sphere ".concat(d)},f)))});Zy.displayName="Sphere";Zy.propTypes={id:Y.string,fill:Y.string,stroke:Y.string,strokeWidth:Y.number,className:Y.string};C.memo(Zy);var Iz=["coordinates","children","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","style","className"],Nk=C.forwardRef(function(t,e){var n=t.coordinates,r=t.children,i=t.onMouseEnter,s=t.onMouseLeave,o=t.onMouseDown,a=t.onMouseUp,l=t.onFocus,u=t.onBlur,h=t.style,d=h===void 0?{}:h,f=t.className,m=f===void 0?"":f,E=qn(t,Iz),x=C.useContext(Or),I=x.projection,_=C.useState(!1),w=bt(_,2),y=w[0],R=w[1],D=C.useState(!1),L=bt(D,2),A=L[0],g=L[1],T=I(n),k=bt(T,2),P=k[0],M=k[1];function b(F){g(!0),i&&i(F)}function O(F){g(!1),y&&R(!1),s&&s(F)}function V(F){g(!0),l&&l(F)}function j(F){g(!1),y&&R(!1),u&&u(F)}function z(F){R(!0),o&&o(F)}function U(F){R(!1),a&&a(F)}return Oe.createElement("g",_n({ref:e,transform:"translate(".concat(P,", ").concat(M,")"),className:"rsm-marker ".concat(m),onMouseEnter:b,onMouseLeave:O,onFocus:V,onBlur:j,onMouseDown:z,onMouseUp:U,style:d[y||A?y?"pressed":"hover":"default"]},E),r)});Nk.displayName="Marker";Nk.propTypes={coordinates:Y.array,children:Y.oneOfType([Y.node,Y.arrayOf(Y.node)]),onMouseEnter:Y.func,onMouseLeave:Y.func,onMouseDown:Y.func,onMouseUp:Y.func,onFocus:Y.func,onBlur:Y.func,style:Y.object,className:Y.string};var Cz=["from","to","coordinates","stroke","strokeWidth","fill","className"],Mk=C.forwardRef(function(t,e){var n=t.from,r=n===void 0?[0,0]:n,i=t.to,s=i===void 0?[0,0]:i,o=t.coordinates,a=t.stroke,l=a===void 0?"currentcolor":a,u=t.strokeWidth,h=u===void 0?3:u,d=t.fill,f=d===void 0?"transparent":d,m=t.className,E=m===void 0?"":m,x=qn(t,Cz),I=C.useContext(Or),_=I.path,w={type:"LineString",coordinates:o||[r,s]};return Oe.createElement("path",_n({ref:e,d:_(w),className:"rsm-line ".concat(E),stroke:l,strokeWidth:h,fill:f},x))});Mk.displayName="Line";Mk.propTypes={from:Y.array,to:Y.array,coordinates:Y.array,stroke:Y.string,strokeWidth:Y.number,fill:Y.string,className:Y.string};var Rz=["subject","children","connectorProps","dx","dy","curve","className"],Zu=C.forwardRef(function(t,e){var n=t.subject,r=t.children,i=t.connectorProps,s=t.dx,o=s===void 0?30:s,a=t.dy,l=a===void 0?30:a,u=t.curve,h=u===void 0?0:u,d=t.className,f=d===void 0?"":d,m=qn(t,Rz),E=C.useContext(Or),x=E.projection,I=x(n),_=bt(I,2),w=_[0],y=_[1],R=fz(o,l,h);return Oe.createElement("g",_n({ref:e,transform:"translate(".concat(w+o,", ").concat(y+l,")"),className:"rsm-annotation ".concat(f)},m),Oe.createElement("path",_n({d:R,fill:"transparent",stroke:"#000"},i)),r)});Zu.displayName="Annotation";Zu.propTypes={subject:Y.array,children:Y.oneOfType([Y.node,Y.arrayOf(Y.node)]),dx:Y.number,dy:Y.number,curve:Y.number,connectorProps:Y.object,className:Y.string};function Nh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Az(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Dk(t){let e,n,r;t.length!==2?(e=Nh,n=(a,l)=>Nh(t(a),l),r=(a,l)=>t(a)-l):(e=t===Nh||t===Az?t:kz,n=t,r=t);function i(a,l,u=0,h=a.length){if(u<h){if(e(l,l)!==0)return h;do{const d=u+h>>>1;n(a[d],l)<0?u=d+1:h=d}while(u<h)}return u}function s(a,l,u=0,h=a.length){if(u<h){if(e(l,l)!==0)return h;do{const d=u+h>>>1;n(a[d],l)<=0?u=d+1:h=d}while(u<h)}return u}function o(a,l,u=0,h=a.length){const d=i(a,l,u,h-1);return d>u&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function kz(){return 0}function Pz(t){return t===null?NaN:+t}const bz=Dk(Nh),Nz=bz.right;Dk(Pz).center;const Mz=Math.sqrt(50),Dz=Math.sqrt(10),Oz=Math.sqrt(2);function tf(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=Mz?10:s>=Dz?5:s>=Oz?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/o,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?tf(t,e,n*2):[a,l,u]}function Lz(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?tf(e,t,n):tf(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let u=0;u<a;++u)l[u]=(s-u)/-o;else for(let u=0;u<a;++u)l[u]=(s-u)*o;else if(o<0)for(let u=0;u<a;++u)l[u]=(i+u)/-o;else for(let u=0;u<a;++u)l[u]=(i+u)*o;return l}function Iv(t,e,n){return e=+e,t=+t,n=+n,tf(t,e,n)[2]}function Vz(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Iv(e,t,n):Iv(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function jz(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function e_(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ok(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ec(){}var Iu=.7,nf=1/Iu,Ko="\\s*([+-]?\\d+)\\s*",Cu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ar="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fz=/^#([0-9a-f]{3,8})$/,Uz=new RegExp(`^rgb\\(${Ko},${Ko},${Ko}\\)$`),$z=new RegExp(`^rgb\\(${Ar},${Ar},${Ar}\\)$`),zz=new RegExp(`^rgba\\(${Ko},${Ko},${Ko},${Cu}\\)$`),Bz=new RegExp(`^rgba\\(${Ar},${Ar},${Ar},${Cu}\\)$`),Wz=new RegExp(`^hsl\\(${Cu},${Ar},${Ar}\\)$`),Hz=new RegExp(`^hsla\\(${Cu},${Ar},${Ar},${Cu}\\)$`),Ux={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e_(ec,Ru,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:$x,formatHex:$x,formatHex8:qz,formatHsl:Kz,formatRgb:zx,toString:zx});function $x(){return this.rgb().formatHex()}function qz(){return this.rgb().formatHex8()}function Kz(){return Lk(this).formatHsl()}function zx(){return this.rgb().formatRgb()}function Ru(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Fz.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Bx(e):n===3?new pn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Gc(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Gc(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Uz.exec(t))?new pn(e[1],e[2],e[3],1):(e=$z.exec(t))?new pn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=zz.exec(t))?Gc(e[1],e[2],e[3],e[4]):(e=Bz.exec(t))?Gc(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Wz.exec(t))?qx(e[1],e[2]/100,e[3]/100,1):(e=Hz.exec(t))?qx(e[1],e[2]/100,e[3]/100,e[4]):Ux.hasOwnProperty(t)?Bx(Ux[t]):t==="transparent"?new pn(NaN,NaN,NaN,0):null}function Bx(t){return new pn(t>>16&255,t>>8&255,t&255,1)}function Gc(t,e,n,r){return r<=0&&(t=e=n=NaN),new pn(t,e,n,r)}function Gz(t){return t instanceof ec||(t=Ru(t)),t?(t=t.rgb(),new pn(t.r,t.g,t.b,t.opacity)):new pn}function Cv(t,e,n,r){return arguments.length===1?Gz(t):new pn(t,e,n,r??1)}function pn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}e_(pn,Cv,Ok(ec,{brighter(t){return t=t==null?nf:Math.pow(nf,t),new pn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Iu:Math.pow(Iu,t),new pn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pn(Ds(this.r),Ds(this.g),Ds(this.b),rf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Wx,formatHex:Wx,formatHex8:Qz,formatRgb:Hx,toString:Hx}));function Wx(){return`#${As(this.r)}${As(this.g)}${As(this.b)}`}function Qz(){return`#${As(this.r)}${As(this.g)}${As(this.b)}${As((isNaN(this.opacity)?1:this.opacity)*255)}`}function Hx(){const t=rf(this.opacity);return`${t===1?"rgb(":"rgba("}${Ds(this.r)}, ${Ds(this.g)}, ${Ds(this.b)}${t===1?")":`, ${t})`}`}function rf(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ds(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function As(t){return t=Ds(t),(t<16?"0":"")+t.toString(16)}function qx(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new nr(t,e,n,r)}function Lk(t){if(t instanceof nr)return new nr(t.h,t.s,t.l,t.opacity);if(t instanceof ec||(t=Ru(t)),!t)return new nr;if(t instanceof nr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new nr(o,a,l,t.opacity)}function Yz(t,e,n,r){return arguments.length===1?Lk(t):new nr(t,e,n,r??1)}function nr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}e_(nr,Yz,Ok(ec,{brighter(t){return t=t==null?nf:Math.pow(nf,t),new nr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Iu:Math.pow(Iu,t),new nr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new pn(fm(t>=240?t-240:t+120,i,r),fm(t,i,r),fm(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new nr(Kx(this.h),Qc(this.s),Qc(this.l),rf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=rf(this.opacity);return`${t===1?"hsl(":"hsla("}${Kx(this.h)}, ${Qc(this.s)*100}%, ${Qc(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Kx(t){return t=(t||0)%360,t<0?t+360:t}function Qc(t){return Math.max(0,Math.min(1,t||0))}function fm(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const t_=t=>()=>t;function Xz(t,e){return function(n){return t+n*e}}function Jz(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Zz(t){return(t=+t)==1?Vk:function(e,n){return n-e?Jz(e,n,t):t_(isNaN(e)?n:e)}}function Vk(t,e){var n=e-t;return n?Xz(t,n):t_(isNaN(t)?e:t)}const Gx=function t(e){var n=Zz(e);function r(i,s){var o=n((i=Cv(i)).r,(s=Cv(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),u=Vk(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=a(h),i.b=l(h),i.opacity=u(h),i+""}}return r.gamma=t,r}(1);function e8(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function t8(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function n8(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=n_(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function r8(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function sf(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function i8(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=n_(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Rv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pm=new RegExp(Rv.source,"g");function s8(t){return function(){return t}}function o8(t){return function(e){return t(e)+""}}function a8(t,e){var n=Rv.lastIndex=pm.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=Rv.exec(t))&&(i=pm.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:sf(r,i)})),n=pm.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?o8(l[0].x):s8(e):(e=l.length,function(u){for(var h=0,d;h<e;++h)a[(d=l[h]).i]=d.x(u);return a.join("")})}function n_(t,e){var n=typeof e,r;return e==null||n==="boolean"?t_(e):(n==="number"?sf:n==="string"?(r=Ru(e))?(e=r,Gx):a8:e instanceof Ru?Gx:e instanceof Date?r8:t8(e)?e8:Array.isArray(e)?n8:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?i8:sf)(t,e)}function l8(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function u8(t){return function(){return t}}function c8(t){return+t}var Qx=[0,1];function No(t){return t}function Av(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:u8(isNaN(e)?NaN:.5)}function h8(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function d8(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=Av(i,r),s=n(o,s)):(r=Av(r,i),s=n(s,o)),function(a){return s(r(a))}}function f8(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Av(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=Nz(t,a,1,r)-1;return s[l](i[l](a))}}function p8(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function m8(){var t=Qx,e=Qx,n=n_,r,i,s,o=No,a,l,u;function h(){var f=Math.min(t.length,e.length);return o!==No&&(o=h8(t[0],t[f-1])),a=f>2?f8:d8,l=u=null,d}function d(f){return f==null||isNaN(f=+f)?s:(l||(l=a(t.map(r),e,n)))(r(o(f)))}return d.invert=function(f){return o(i((u||(u=a(e,t.map(r),sf)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,c8),h()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),h()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=l8,h()},d.clamp=function(f){return arguments.length?(o=f?!0:No,h()):o!==No},d.interpolate=function(f){return arguments.length?(n=f,h()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,m){return r=f,i=m,h()}}function g8(){return m8()(No,No)}function v8(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function of(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function _a(t){return t=of(Math.abs(t)),t?t[1]:NaN}function y8(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function _8(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var w8=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function af(t){if(!(e=w8.exec(t)))throw new Error("invalid format: "+t);var e;return new r_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}af.prototype=r_.prototype;function r_(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}r_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function E8(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var jk;function x8(t,e){var n=of(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(jk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+of(t,Math.max(0,e+s-1))[0]}function Yx(t,e){var n=of(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Xx={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:v8,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Yx(t*100,e),r:Yx,s:x8,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Jx(t){return t}var Zx=Array.prototype.map,eT=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function T8(t){var e=t.grouping===void 0||t.thousands===void 0?Jx:y8(Zx.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Jx:_8(Zx.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(d){d=af(d);var f=d.fill,m=d.align,E=d.sign,x=d.symbol,I=d.zero,_=d.width,w=d.comma,y=d.precision,R=d.trim,D=d.type;D==="n"?(w=!0,D="g"):Xx[D]||(y===void 0&&(y=12),R=!0,D="g"),(I||f==="0"&&m==="=")&&(I=!0,f="0",m="=");var L=x==="$"?n:x==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():"",A=x==="$"?r:/[%p]/.test(D)?o:"",g=Xx[D],T=/[defgprs%]/.test(D);y=y===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function k(P){var M=L,b=A,O,V,j;if(D==="c")b=g(P)+b,P="";else{P=+P;var z=P<0||1/P<0;if(P=isNaN(P)?l:g(Math.abs(P),y),R&&(P=E8(P)),z&&+P==0&&E!=="+"&&(z=!1),M=(z?E==="("?E:a:E==="-"||E==="("?"":E)+M,b=(D==="s"?eT[8+jk/3]:"")+b+(z&&E==="("?")":""),T){for(O=-1,V=P.length;++O<V;)if(j=P.charCodeAt(O),48>j||j>57){b=(j===46?i+P.slice(O+1):P.slice(O))+b,P=P.slice(0,O);break}}}w&&!I&&(P=e(P,1/0));var U=M.length+P.length+b.length,F=U<_?new Array(_-U+1).join(f):"";switch(w&&I&&(P=e(F+P,F.length?_-b.length:1/0),F=""),m){case"<":P=M+P+b+F;break;case"=":P=M+F+P+b;break;case"^":P=F.slice(0,U=F.length>>1)+M+P+b+F.slice(U);break;default:P=F+M+P+b;break}return s(P)}return k.toString=function(){return d+""},k}function h(d,f){var m=u((d=af(d),d.type="f",d)),E=Math.max(-8,Math.min(8,Math.floor(_a(f)/3)))*3,x=Math.pow(10,-E),I=eT[8+E/3];return function(_){return m(x*_)+I}}return{format:u,formatPrefix:h}}var Yc,Fk,Uk;S8({thousands:",",grouping:[3],currency:["$",""]});function S8(t){return Yc=T8(t),Fk=Yc.format,Uk=Yc.formatPrefix,Yc}function I8(t){return Math.max(0,-_a(Math.abs(t)))}function C8(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_a(e)/3)))*3-_a(Math.abs(t)))}function R8(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_a(e)-_a(t))+1}function A8(t,e,n,r){var i=Vz(t,e,n),s;switch(r=af(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=C8(i,o))&&(r.precision=s),Uk(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=R8(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=I8(i))&&(r.precision=s-(r.type==="%")*2);break}}return Fk(r)}function k8(t){var e=t.domain;return t.ticks=function(n){var r=e();return Lz(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return A8(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,u,h=10;for(a<o&&(u=o,o=a,a=u,u=i,i=s,s=u);h-- >0;){if(u=Iv(o,a,n),u===l)return r[i]=o,r[s]=a,e(r);if(u>0)o=Math.floor(o/u)*u,a=Math.ceil(a/u)*u;else if(u<0)o=Math.ceil(o*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function Au(){var t=g8();return t.copy=function(){return p8(t,Au())},jz.apply(t,arguments),k8(t)}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$k=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var b8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>C.createElement("svg",{ref:l,...b8,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:$k("lucide",i),...a},[...o.map(([u,h])=>C.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=(t,e)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(N8,{ref:s,iconNode:e,className:$k(`lucide-${P8(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=Dn("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Dn("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=Dn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=Dn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L8=Dn("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Dn("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V8=Dn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=Dn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F8=Dn("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U8=Dn("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $8=Dn("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=Dn("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=Dn("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),i_=C.forwardRef(({className:t,...e},n)=>v.jsx("div",{className:"relative w-full overflow-auto",children:v.jsx("table",{ref:n,className:Pe("w-full caption-bottom text-sm",t),...e})}));i_.displayName="Table";const s_=C.forwardRef(({className:t,...e},n)=>v.jsx("thead",{ref:n,className:Pe("[&_tr]:border-b",t),...e}));s_.displayName="TableHeader";const o_=C.forwardRef(({className:t,...e},n)=>v.jsx("tbody",{ref:n,className:Pe("[&_tr:last-child]:border-0",t),...e}));o_.displayName="TableBody";const W8=C.forwardRef(({className:t,...e},n)=>v.jsx("tfoot",{ref:n,className:Pe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));W8.displayName="TableFooter";const Go=C.forwardRef(({className:t,...e},n)=>v.jsx("tr",{ref:n,className:Pe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Go.displayName="TableRow";const Er=C.forwardRef(({className:t,...e},n)=>v.jsx("th",{ref:n,className:Pe("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));Er.displayName="TableHead";const rr=C.forwardRef(({className:t,...e},n)=>v.jsx("td",{ref:n,className:Pe("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));rr.displayName="TableCell";const H8=C.forwardRef(({className:t,...e},n)=>v.jsx("caption",{ref:n,className:Pe("mt-4 text-sm text-muted-foreground",t),...e}));H8.displayName="TableCaption";const mm="https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json";function q8(){const{user:t,signInWithGoogle:e}=Na(),[n,r]=C.useState([]),[i,s]=C.useState([]),[o,a]=C.useState(!0),[l,u]=C.useState({}),[h,d]=C.useState(!1),[f,m]=C.useState(null),E=Au().domain([50,100]).range(["#cce5ff","#0039a6"]).clamp(!0),x=Au().domain([50,100]).range(["#ffcccb","#cc0000"]).clamp(!0),I=y=>{const R=i.find(A=>A.state_full===y);if(!R)return"#e2e8f0";const D=R.winstate_inc,L=R.winstate_chal;return D>L?E(D):x(L)};C.useEffect(()=>{a(!0),fetch("/projections.csv").then(y=>y.text()).then(y=>{const R=qu.parse(y,{header:!0,transform:(D,L)=>["winstate_inc","winstate_chal","evs"].includes(L)?parseFloat(D):D});s(R.data)}).catch(y=>{console.error("Error loading CSV:",y)})},[]);const _=y=>Math.round(100/(y/100));C.useEffect(()=>{if(!i.length||!t)return;(async()=>{try{let D=(await AR(gR(ni,"picks"))).docs.map(L=>{var T;const A=L.data(),g=A.selections||{};return{email:A.email,displayName:A.displayName||((T=A.email)==null?void 0:T.split("@")[0])||"Anonymous",selections:g,updatedAt:A.updatedAt,potentialWinnings:Object.entries(g).reduce((k,[P,M])=>{const b=i.find(V=>V.state_full===P);if(!b)return k;const O=M==="red"?b.winstate_chal:b.winstate_inc;return k+(_(O)-100)},0),numPicks:Object.keys(g).length}});D=D.sort((L,A)=>{if(h){const g=Math.max(0,w(L.selections));return Math.max(0,w(A.selections))-g}return A.potentialWinnings-L.potentialWinnings}),r(D)}catch(R){console.error("Error loading picks:",R)}finally{a(!1)}})()},[i,t,h]),C.useEffect(()=>{(async()=>{const R=Ns(ni,"results","election2024"),D=await pu(R);D.exists()&&(u(D.data().results),d(!0))})()},[]);const w=y=>Object.entries(y).reduce((R,[D,L])=>{const A=i.find(T=>T.state_full===D);if(!A||!l[D])return R;if(L===l[D]){const T=L==="red"?A.winstate_chal:A.winstate_inc;return R+_(T)}return R},0);return C.useEffect(()=>{(async()=>{try{const D=await(await fetch("https://static01.nyt.com/elections-assets/pages/data/2024-11-05/results-president.json")).json();console.log("NYT Results:",D)}catch(R){console.error("Error fetching NYT results:",R)}})()},[]),t?o?v.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:v.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading data..."})}):v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Leaderboard"}),v.jsx("p",{className:"text-muted-foreground",children:h?"Final results and actual returns":"Current standings based on potential winnings"})]}),h&&v.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[v.jsxs(pt,{children:[v.jsx(hn,{children:v.jsx(dn,{children:"Election Results"})}),v.jsx(mt,{children:v.jsx("div",{className:"w-full aspect-[4/3]",children:v.jsx(Yi,{projection:"geoAlbersUsa",children:v.jsx(Xi,{geography:mm,children:({geographies:y})=>y.map(R=>{const D=R.properties.name,L=l[D],A=L==="blue"?"#0039a6":L==="red"?"#cc0000":"#e2e8f0";return v.jsx(qo,{geography:R,style:{default:{fill:A,stroke:"#FFFFFF",strokeWidth:.5,outline:"none"},hover:{fill:A,stroke:"#FFFFFF",strokeWidth:.5,outline:"none"}}},R.rsmKey)})})})})})]}),v.jsx(pt,{children:v.jsx(mt,{className:"p-0",children:v.jsxs(i_,{children:[v.jsx(s_,{children:v.jsxs(Go,{className:"hover:bg-background",children:[v.jsx(Er,{className:"w-[50px]"}),v.jsx(Er,{className:"font-semibold",children:"Player"}),v.jsx(Er,{className:"text-right font-semibold w-[150px]",children:"Wins"}),v.jsx(Er,{className:"text-right font-semibold w-[150px]",children:"Total"})]})}),v.jsx(o_,{children:n.map((y,R)=>v.jsxs(v.Fragment,{children:[v.jsxs(Go,{className:"group cursor-pointer transition-colors hover:bg-muted/50",onClick:()=>m(f===y.email?null:y.email),children:[v.jsx(rr,{className:"py-3",children:f===y.email?v.jsx(D8,{className:"h-4 w-4 text-muted-foreground transition-transform group-hover:text-foreground"}):v.jsx(O8,{className:"h-4 w-4 text-muted-foreground transition-transform group-hover:text-foreground"})}),v.jsx(rr,{className:"font-medium py-3",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:"text-muted-foreground",children:[R+1,"."]}),v.jsx("span",{className:"font-semibold",children:y.displayName})]})}),v.jsx(rr,{className:"text-right py-3",children:v.jsxs("span",{className:"font-mono text-lg text-green-600",children:["$",h?w(y.selections):y.potentialWinnings]})}),v.jsx(rr,{className:"text-right py-3",children:v.jsxs("span",{className:`font-mono text-lg ${h?w(y.selections)-y.numPicks*100>0?"text-green-600":"text-red-600":"text-green-600"}`,children:["$",h?w(y.selections)-y.numPicks*100:y.potentialWinnings-y.numPicks*100]})})]},y.email),f===y.email&&v.jsx(Go,{children:v.jsx(rr,{colSpan:3,className:"bg-muted/50 border-t border-b",children:v.jsxs("div",{className:"space-y-4 p-4",children:[v.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(y.selections).map(([D,L])=>{const A=h&&l[D]===L;return v.jsxs("div",{className:`px-2 py-1 rounded-full text-sm transition-all
                                        ${L==="red"?"bg-red-100 text-red-700 border border-red-200":"bg-blue-100 text-blue-700 border border-blue-200"} ${h?A?"ring-2 ring-green-500 ring-offset-2":"opacity-50":"hover:scale-105"}`,children:[v.jsx("span",{className:"font-medium",children:D}),v.jsxs("span",{className:"ml-1 opacity-75",children:["(",L==="red"?"R":"D",")"]}),h&&v.jsx("span",{className:"ml-1",children:A?"✓":"✗"})]},D)})}),v.jsx("div",{className:"w-full aspect-[4/3]",children:v.jsx(Yi,{projection:"geoAlbersUsa",children:v.jsx(Xi,{geography:mm,children:({geographies:D})=>D.map(L=>{const A=L.properties.name,g=y.selections[A],T=g==="blue"?"#0039a6":g==="red"?"#cc0000":"#e2e8f0",k=h&&l[A]===g;return v.jsx(qo,{geography:L,style:{default:{fill:T,stroke:"#FFFFFF",strokeWidth:.5,outline:"none",opacity:h&&g&&!k?.5:1},hover:{fill:T,stroke:"#FFFFFF",strokeWidth:.5,outline:"none",opacity:h&&g&&!k?.5:1}}},L.rsmKey)})})})})]})})})]}))})]})})})]}),n.length===0&&v.jsx(pt,{children:v.jsx(mt,{className:"py-8",children:v.jsx("div",{className:"text-center text-muted-foreground",children:"No picks have been made yet. Be the first to make your predictions!"})})})]}):v.jsxs("div",{className:"max-w-5xl mx-auto space-y-8 py-8",children:[v.jsxs("div",{className:"text-center space-y-4",children:[v.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"Election Prediction Game"}),v.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Put your political forecasting skills to the test. Pick winners in key states, calculate your odds, and compete for the highest potential payout."})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-center",children:[v.jsxs(pt,{children:[v.jsx(hn,{children:v.jsx(dn,{children:"How It Works"})}),v.jsxs(mt,{className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{className:"font-semibold",children:"🎯 Make Your Picks"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Choose winners in 10 states. Each pick costs $100 from your virtual $1,000 budget."})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{className:"font-semibold",children:"📊 Real Probabilities"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Odds based on Nate Silver's election projections. Riskier picks pay more!"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("h3",{className:"font-semibold",children:"🏆 Compete to Win"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"The player with the highest potential payout from correct predictions wins."})]})]})]}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"w-full aspect-[4/3]",children:v.jsx(Yi,{projection:"geoAlbersUsa",children:v.jsx(Xi,{geography:mm,children:({geographies:y})=>y.map(R=>{const D=R.properties.name,A=i.find(g=>g.state_full===D)?I(D):"#e2e8f0";return v.jsx(qo,{geography:R,style:{default:{fill:A,stroke:"#FFFFFF",strokeWidth:.5,outline:"none"},hover:{fill:A,stroke:"#FFFFFF",strokeWidth:.5,outline:"none"}}},R.rsmKey)})})})}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 to-transparent flex items-end justify-center pb-8",children:v.jsxs(pt,{className:"w-[350px] bg-background/95 backdrop-blur",children:[v.jsxs(hn,{children:[v.jsx(dn,{children:"Ready to Play?"}),v.jsx(es,{children:"Sign in to start making your predictions"})]}),v.jsx(mt,{children:v.jsx(hi,{onClick:e,className:"w-full",children:"Sign in with Google"})})]})})]})]})]})}const K8=1,G8=1e6;let gm=0;function Q8(){return gm=(gm+1)%Number.MAX_SAFE_INTEGER,gm.toString()}const vm=new Map,rT=t=>{if(vm.has(t))return;const e=setTimeout(()=>{vm.delete(t),$l({type:"REMOVE_TOAST",toastId:t})},G8);vm.set(t,e)},Y8=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,K8)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?rT(n):t.toasts.forEach(r=>{rT(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Mh=[];let Dh={toasts:[]};function $l(t){Dh=Y8(Dh,t),Mh.forEach(e=>{e(Dh)})}function X8({...t}){const e=Q8(),n=i=>$l({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>$l({type:"DISMISS_TOAST",toastId:e});return $l({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function a_(){const[t,e]=C.useState(Dh);return C.useEffect(()=>(Mh.push(e),()=>{const n=Mh.indexOf(e);n>-1&&Mh.splice(n,1)}),[t]),{...t,toast:X8,dismiss:n=>$l({type:"DISMISS_TOAST",toastId:n})}}function J8(t,e){const n=C.createContext(e),r=s=>{const{children:o,...a}=s,l=C.useMemo(()=>a,Object.values(a));return v.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=C.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Jf(t,e=[]){let n=[];function r(s,o){const a=C.createContext(o),l=n.length;n=[...n,o];const u=d=>{var _;const{scope:f,children:m,...E}=d,x=((_=f==null?void 0:f[t])==null?void 0:_[l])||a,I=C.useMemo(()=>E,Object.values(E));return v.jsx(x.Provider,{value:I,children:m})};u.displayName=s+"Provider";function h(d,f){var x;const m=((x=f==null?void 0:f[t])==null?void 0:x[l])||a,E=C.useContext(m);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,h]}const i=()=>{const s=n.map(o=>C.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return C.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Z8(i,...e)]}function Z8(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(s)[`__scope${u}`];return{...a,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function qe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}var ku=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{};function cr(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function zk({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=eB({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=cr(n),l=C.useCallback(u=>{if(s){const d=typeof u=="function"?u(t):u;d!==t&&a(d)}else i(u)},[s,t,i,a]);return[o,l]}function eB({defaultProp:t,onChange:e}){const n=C.useState(t),[r]=n,i=C.useRef(r),s=cr(e);return C.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var tB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],gt=tB.reduce((t,e)=>{const n=C.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?fa:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Bk(t,e){t&&Cf.flushSync(()=>t.dispatchEvent(e))}function nB(t,e=globalThis==null?void 0:globalThis.document){const n=cr(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var rB="DismissableLayer",kv="dismissableLayer.update",iB="dismissableLayer.pointerDownOutside",sB="dismissableLayer.focusOutside",iT,Wk=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),l_=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,u=C.useContext(Wk),[h,d]=C.useState(null),f=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=C.useState({}),E=Ct(e,A=>d(A)),x=Array.from(u.layers),[I]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=x.indexOf(I),w=h?x.indexOf(h):-1,y=u.layersWithOutsidePointerEventsDisabled.size>0,R=w>=_,D=aB(A=>{const g=A.target,T=[...u.branches].some(k=>k.contains(g));!R||T||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},f),L=lB(A=>{const g=A.target;[...u.branches].some(k=>k.contains(g))||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},f);return nB(A=>{w===u.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},f),C.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(iT=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),sT(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=iT)}},[h,f,n,u]),C.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),sT())},[h,u]),C.useEffect(()=>{const A=()=>m({});return document.addEventListener(kv,A),()=>document.removeEventListener(kv,A)},[]),v.jsx(gt.div,{...l,ref:E,style:{pointerEvents:y?R?"auto":"none":void 0,...t.style},onFocusCapture:qe(t.onFocusCapture,L.onFocusCapture),onBlurCapture:qe(t.onBlurCapture,L.onBlurCapture),onPointerDownCapture:qe(t.onPointerDownCapture,D.onPointerDownCapture)})});l_.displayName=rB;var oB="DismissableLayerBranch",Hk=C.forwardRef((t,e)=>{const n=C.useContext(Wk),r=C.useRef(null),i=Ct(e,r);return C.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),v.jsx(gt.div,{...t,ref:i})});Hk.displayName=oB;function aB(t,e=globalThis==null?void 0:globalThis.document){const n=cr(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){qk(iB,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function lB(t,e=globalThis==null?void 0:globalThis.document){const n=cr(t),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&qk(sB,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function sT(){const t=new CustomEvent(kv);document.dispatchEvent(t)}function qk(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Bk(i,s):i.dispatchEvent(s)}var uB=l_,cB=Hk,ym="focusScope.autoFocusOnMount",_m="focusScope.autoFocusOnUnmount",oT={bubbles:!1,cancelable:!0},hB="FocusScope",Kk=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=C.useState(null),u=cr(i),h=cr(s),d=C.useRef(null),f=Ct(e,x=>l(x)),m=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let x=function(y){if(m.paused||!a)return;const R=y.target;a.contains(R)?d.current=R:Ti(d.current,{select:!0})},I=function(y){if(m.paused||!a)return;const R=y.relatedTarget;R!==null&&(a.contains(R)||Ti(d.current,{select:!0}))},_=function(y){if(document.activeElement===document.body)for(const D of y)D.removedNodes.length>0&&Ti(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",I);const w=new MutationObserver(_);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",I),w.disconnect()}}},[r,a,m.paused]),C.useEffect(()=>{if(a){lT.add(m);const x=document.activeElement;if(!a.contains(x)){const _=new CustomEvent(ym,oT);a.addEventListener(ym,u),a.dispatchEvent(_),_.defaultPrevented||(dB(vB(Gk(a)),{select:!0}),document.activeElement===x&&Ti(a))}return()=>{a.removeEventListener(ym,u),setTimeout(()=>{const _=new CustomEvent(_m,oT);a.addEventListener(_m,h),a.dispatchEvent(_),_.defaultPrevented||Ti(x??document.body,{select:!0}),a.removeEventListener(_m,h),lT.remove(m)},0)}}},[a,u,h,m]);const E=C.useCallback(x=>{if(!n&&!r||m.paused)return;const I=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,_=document.activeElement;if(I&&_){const w=x.currentTarget,[y,R]=fB(w);y&&R?!x.shiftKey&&_===R?(x.preventDefault(),n&&Ti(y,{select:!0})):x.shiftKey&&_===y&&(x.preventDefault(),n&&Ti(R,{select:!0})):_===w&&x.preventDefault()}},[n,r,m.paused]);return v.jsx(gt.div,{tabIndex:-1,...o,ref:f,onKeyDown:E})});Kk.displayName=hB;function dB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ti(r,{select:e}),document.activeElement!==n)return}function fB(t){const e=Gk(t),n=aT(e,t),r=aT(e.reverse(),t);return[n,r]}function Gk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function aT(t,e){for(const n of t)if(!pB(n,{upTo:e}))return n}function pB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function mB(t){return t instanceof HTMLInputElement&&"select"in t}function Ti(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&mB(t)&&e&&t.select()}}var lT=gB();function gB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=uT(t,e),t.unshift(e)},remove(e){var n;t=uT(t,e),(n=t[0])==null||n.resume()}}}function uT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function vB(t){return t.filter(e=>e.tagName!=="A")}var yB="Portal",u_=C.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=C.useState(!1);ku(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?IM.createPortal(v.jsx(gt.div,{...r,ref:e}),o):null});u_.displayName=yB;function _B(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var tc=t=>{const{present:e,children:n}=t,r=wB(e),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),s=Ct(r.ref,EB(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};tc.displayName="Presence";function wB(t){const[e,n]=C.useState(),r=C.useRef({}),i=C.useRef(t),s=C.useRef("none"),o=t?"mounted":"unmounted",[a,l]=_B(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const u=Xc(r.current);s.current=a==="mounted"?u:"none"},[a]),ku(()=>{const u=r.current,h=i.current;if(h!==t){const f=s.current,m=Xc(u);t?l("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(h&&f!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),ku(()=>{if(e){let u;const h=e.ownerDocument.defaultView??window,d=m=>{const x=Xc(r.current).includes(m.animationName);if(m.target===e&&x&&(l("ANIMATION_END"),!i.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",u=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},f=m=>{m.target===e&&(s.current=Xc(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{h.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:C.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function Xc(t){return(t==null?void 0:t.animationName)||"none"}function EB(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var wm=0;function xB(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??cT()),document.body.insertAdjacentElement("beforeend",t[1]??cT()),wm++,()=>{wm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),wm--}},[])}function cT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Oh="right-scroll-bar-position",Lh="width-before-scroll-bar",TB="with-scroll-bars-hidden",SB="--removed-body-scroll-bar-size";function Em(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function IB(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var CB=typeof window<"u"?C.useLayoutEffect:C.useEffect,hT=new WeakMap;function RB(t,e){var n=IB(null,function(r){return t.forEach(function(i){return Em(i,r)})});return CB(function(){var r=hT.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Em(a,null)}),s.forEach(function(a){i.has(a)||Em(a,o)})}hT.set(n,t)},[t]),n}function AB(t){return t}function kB(t,e){e===void 0&&(e=AB);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var h=o;o=[],h.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return i}function PB(t){t===void 0&&(t={});var e=kB(null);return e.options=vr({async:!0,ssr:!1},t),e}var Qk=function(t){var e=t.sideCar,n=zu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,vr({},n))};Qk.isSideCarExport=!0;function bB(t,e){return t.useMedium(e),Qk}var Yk=PB(),xm=function(){},Zf=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:xm,onWheelCapture:xm,onTouchMoveCapture:xm}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,u=t.removeScrollBar,h=t.enabled,d=t.shards,f=t.sideCar,m=t.noIsolation,E=t.inert,x=t.allowPinchZoom,I=t.as,_=I===void 0?"div":I,w=t.gapMode,y=zu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=f,D=RB([n,e]),L=vr(vr({},y),i);return C.createElement(C.Fragment,null,h&&C.createElement(R,{sideCar:Yk,removeScrollBar:u,shards:d,noIsolation:m,inert:E,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:w}),o?C.cloneElement(C.Children.only(a),vr(vr({},L),{ref:D})):C.createElement(_,vr({},L,{className:l,ref:D}),a))});Zf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Zf.classNames={fullWidth:Lh,zeroRight:Oh};var NB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=NB();return e&&t.setAttribute("nonce",e),t}function DB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function OB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var LB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=MB())&&(DB(e,n),OB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},VB=function(){var t=LB();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Xk=function(){var t=VB(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},jB={left:0,top:0,right:0,gap:0},Tm=function(t){return parseInt(t||"",10)||0},FB=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Tm(n),Tm(r),Tm(i)]},UB=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return jB;var e=FB(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},$B=Xk(),Qo="data-scroll-locked",zB=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(TB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Qo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Lh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Oh," .").concat(Oh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Lh," .").concat(Lh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Qo,`] {
    `).concat(SB,": ").concat(a,`px;
  }
`)},dT=function(){var t=parseInt(document.body.getAttribute(Qo)||"0",10);return isFinite(t)?t:0},BB=function(){C.useEffect(function(){return document.body.setAttribute(Qo,(dT()+1).toString()),function(){var t=dT()-1;t<=0?document.body.removeAttribute(Qo):document.body.setAttribute(Qo,t.toString())}},[])},WB=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;BB();var s=C.useMemo(function(){return UB(i)},[i]);return C.createElement($B,{styles:zB(s,!e,i,n?"":"!important")})},Pv=!1;if(typeof window<"u")try{var Jc=Object.defineProperty({},"passive",{get:function(){return Pv=!0,!0}});window.addEventListener("test",Jc,Jc),window.removeEventListener("test",Jc,Jc)}catch{Pv=!1}var lo=Pv?{passive:!1}:!1,HB=function(t){return t.tagName==="TEXTAREA"},Jk=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!HB(t)&&n[e]==="visible")},qB=function(t){return Jk(t,"overflowY")},KB=function(t){return Jk(t,"overflowX")},fT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Zk(t,r);if(i){var s=eP(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},GB=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},QB=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Zk=function(t,e){return t==="v"?qB(e):KB(e)},eP=function(t,e){return t==="v"?GB(e):QB(e)},YB=function(t,e){return t==="h"&&e==="rtl"?-1:1},XB=function(t,e,n,r,i){var s=YB(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),u=!1,h=o>0,d=0,f=0;do{var m=eP(t,a),E=m[0],x=m[1],I=m[2],_=x-I-s*E;(E||_)&&Zk(t,a)&&(d+=_,f+=E),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(d)<1||!i)||!h&&(Math.abs(f)<1||!i))&&(u=!0),u},Zc=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pT=function(t){return[t.deltaX,t.deltaY]},mT=function(t){return t&&"current"in t?t.current:t},JB=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ZB=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},e7=0,uo=[];function t7(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(e7++)[0],s=C.useState(Xk)[0],o=C.useRef(t);C.useEffect(function(){o.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=Qj([t.lockRef.current],(t.shards||[]).map(mT),!0).filter(Boolean);return x.forEach(function(I){return I.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=C.useCallback(function(x,I){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var _=Zc(x),w=n.current,y="deltaX"in x?x.deltaX:w[0]-_[0],R="deltaY"in x?x.deltaY:w[1]-_[1],D,L=x.target,A=Math.abs(y)>Math.abs(R)?"h":"v";if("touches"in x&&A==="h"&&L.type==="range")return!1;var g=fT(A,L);if(!g)return!0;if(g?D=A:(D=A==="v"?"h":"v",g=fT(A,L)),!g)return!1;if(!r.current&&"changedTouches"in x&&(y||R)&&(r.current=D),!D)return!0;var T=r.current||D;return XB(T,I,x,T==="h"?y:R,!0)},[]),l=C.useCallback(function(x){var I=x;if(!(!uo.length||uo[uo.length-1]!==s)){var _="deltaY"in I?pT(I):Zc(I),w=e.current.filter(function(D){return D.name===I.type&&(D.target===I.target||I.target===D.shadowParent)&&JB(D.delta,_)})[0];if(w&&w.should){I.cancelable&&I.preventDefault();return}if(!w){var y=(o.current.shards||[]).map(mT).filter(Boolean).filter(function(D){return D.contains(I.target)}),R=y.length>0?a(I,y[0]):!o.current.noIsolation;R&&I.cancelable&&I.preventDefault()}}},[]),u=C.useCallback(function(x,I,_,w){var y={name:x,delta:I,target:_,should:w,shadowParent:n7(_)};e.current.push(y),setTimeout(function(){e.current=e.current.filter(function(R){return R!==y})},1)},[]),h=C.useCallback(function(x){n.current=Zc(x),r.current=void 0},[]),d=C.useCallback(function(x){u(x.type,pT(x),x.target,a(x,t.lockRef.current))},[]),f=C.useCallback(function(x){u(x.type,Zc(x),x.target,a(x,t.lockRef.current))},[]);C.useEffect(function(){return uo.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,lo),document.addEventListener("touchmove",l,lo),document.addEventListener("touchstart",h,lo),function(){uo=uo.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,lo),document.removeEventListener("touchmove",l,lo),document.removeEventListener("touchstart",h,lo)}},[]);var m=t.removeScrollBar,E=t.inert;return C.createElement(C.Fragment,null,E?C.createElement(s,{styles:ZB(i)}):null,m?C.createElement(WB,{gapMode:t.gapMode}):null)}function n7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const r7=bB(Yk,t7);var tP=C.forwardRef(function(t,e){return C.createElement(Zf,vr({},t,{ref:e,sideCar:r7}))});tP.classNames=Zf.classNames;var i7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},co=new WeakMap,eh=new WeakMap,th={},Sm=0,nP=function(t){return t&&(t.host||nP(t.parentNode))},s7=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=nP(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},o7=function(t,e,n,r){var i=s7(e,Array.isArray(t)?t:[t]);th[n]||(th[n]=new WeakMap);var s=th[n],o=[],a=new Set,l=new Set(i),u=function(d){!d||a.has(d)||(a.add(d),u(d.parentNode))};i.forEach(u);var h=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(a.has(f))h(f);else try{var m=f.getAttribute(r),E=m!==null&&m!=="false",x=(co.get(f)||0)+1,I=(s.get(f)||0)+1;co.set(f,x),s.set(f,I),o.push(f),x===1&&E&&eh.set(f,!0),I===1&&f.setAttribute(n,"true"),E||f.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",f,_)}})};return h(e),a.clear(),Sm++,function(){o.forEach(function(d){var f=co.get(d)-1,m=s.get(d)-1;co.set(d,f),s.set(d,m),f||(eh.has(d)||d.removeAttribute(r),eh.delete(d)),m||d.removeAttribute(n)}),Sm--,Sm||(co=new WeakMap,co=new WeakMap,eh=new WeakMap,th={})}},a7=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=i7(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),o7(r,i,n,"aria-hidden")):function(){return null}},rP="Dialog",[iP,sP]=Jf(rP),[iH,dr]=iP(rP),oP="DialogTrigger",aP=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=dr(oP,n),s=Ct(e,i.triggerRef);return v.jsx(gt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":d_(i.open),...r,ref:s,onClick:qe(t.onClick,i.onOpenToggle)})});aP.displayName=oP;var c_="DialogPortal",[l7,lP]=iP(c_,{forceMount:void 0}),uP=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=dr(c_,e);return v.jsx(l7,{scope:e,forceMount:n,children:C.Children.map(r,o=>v.jsx(tc,{present:n||s.open,children:v.jsx(u_,{asChild:!0,container:i,children:o})}))})};uP.displayName=c_;var lf="DialogOverlay",cP=C.forwardRef((t,e)=>{const n=lP(lf,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=dr(lf,t.__scopeDialog);return s.modal?v.jsx(tc,{present:r||s.open,children:v.jsx(u7,{...i,ref:e})}):null});cP.displayName=lf;var u7=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=dr(lf,n);return v.jsx(tP,{as:fa,allowPinchZoom:!0,shards:[i.contentRef],children:v.jsx(gt.div,{"data-state":d_(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ks="DialogContent",hP=C.forwardRef((t,e)=>{const n=lP(Ks,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=dr(Ks,t.__scopeDialog);return v.jsx(tc,{present:r||s.open,children:s.modal?v.jsx(c7,{...i,ref:e}):v.jsx(h7,{...i,ref:e})})});hP.displayName=Ks;var c7=C.forwardRef((t,e)=>{const n=dr(Ks,t.__scopeDialog),r=C.useRef(null),i=Ct(e,n.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return a7(s)},[]),v.jsx(dP,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:qe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:qe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:qe(t.onFocusOutside,s=>s.preventDefault())})}),h7=C.forwardRef((t,e)=>{const n=dr(Ks,t.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return v.jsx(dP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),dP=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=dr(Ks,n),l=C.useRef(null),u=Ct(e,l);return xB(),v.jsxs(v.Fragment,{children:[v.jsx(Kk,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:v.jsx(l_,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":d_(a.open),...o,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(f7,{titleId:a.titleId}),v.jsx(m7,{contentRef:l,descriptionId:a.descriptionId})]})]})}),h_="DialogTitle",fP=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=dr(h_,n);return v.jsx(gt.h2,{id:i.titleId,...r,ref:e})});fP.displayName=h_;var pP="DialogDescription",mP=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=dr(pP,n);return v.jsx(gt.p,{id:i.descriptionId,...r,ref:e})});mP.displayName=pP;var gP="DialogClose",vP=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=dr(gP,n);return v.jsx(gt.button,{type:"button",...r,ref:e,onClick:qe(t.onClick,()=>i.onOpenChange(!1))})});vP.displayName=gP;function d_(t){return t?"open":"closed"}var yP="DialogTitleWarning",[d7,_P]=J8(yP,{contentName:Ks,titleName:h_,docsSlug:"dialog"}),f7=({titleId:t})=>{const e=_P(yP),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},p7="DialogDescriptionWarning",m7=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_P(p7).contentName}}.`;return C.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},g7=aP,v7=uP,y7=cP,_7=hP,w7=fP,E7=mP,wP=vP,x7="AlertDialog",[T7,sH]=Jf(x7,[sP]),hs=sP(),S7="AlertDialogTrigger",I7=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=hs(n);return v.jsx(g7,{...i,...r,ref:e})});I7.displayName=S7;var C7="AlertDialogPortal",EP=t=>{const{__scopeAlertDialog:e,...n}=t,r=hs(e);return v.jsx(v7,{...r,...n})};EP.displayName=C7;var R7="AlertDialogOverlay",xP=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=hs(n);return v.jsx(y7,{...i,...r,ref:e})});xP.displayName=R7;var Yo="AlertDialogContent",[A7,k7]=T7(Yo),TP=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=hs(n),o=C.useRef(null),a=Ct(e,o),l=C.useRef(null);return v.jsx(d7,{contentName:Yo,titleName:SP,docsSlug:"alert-dialog",children:v.jsx(A7,{scope:n,cancelRef:l,children:v.jsxs(_7,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:qe(i.onOpenAutoFocus,u=>{var h;u.preventDefault(),(h=l.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[v.jsx(hA,{children:r}),v.jsx(b7,{contentRef:o})]})})})});TP.displayName=Yo;var SP="AlertDialogTitle",IP=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=hs(n);return v.jsx(w7,{...i,...r,ref:e})});IP.displayName=SP;var CP="AlertDialogDescription",RP=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=hs(n);return v.jsx(E7,{...i,...r,ref:e})});RP.displayName=CP;var P7="AlertDialogAction",AP=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=hs(n);return v.jsx(wP,{...i,...r,ref:e})});AP.displayName=P7;var kP="AlertDialogCancel",PP=C.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=k7(kP,n),s=hs(n),o=Ct(e,i);return v.jsx(wP,{...s,...r,ref:o})});PP.displayName=kP;var b7=({contentRef:t})=>{const e=`\`${Yo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Yo}\` by passing a \`${CP}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Yo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},N7=EP,bP=xP,NP=TP,MP=AP,DP=PP,OP=IP,LP=RP;const M7=N7,VP=C.forwardRef(({className:t,...e},n)=>v.jsx(bP,{className:Pe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));VP.displayName=bP.displayName;const D7=C.forwardRef(({className:t,...e},n)=>v.jsxs(M7,{children:[v.jsx(VP,{}),v.jsx(NP,{ref:n,className:Pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));D7.displayName=NP.displayName;const O7=C.forwardRef(({className:t,...e},n)=>v.jsx(OP,{ref:n,className:Pe("text-lg font-semibold",t),...e}));O7.displayName=OP.displayName;const L7=C.forwardRef(({className:t,...e},n)=>v.jsx(LP,{ref:n,className:Pe("text-sm text-muted-foreground",t),...e}));L7.displayName=LP.displayName;const V7=C.forwardRef(({className:t,...e},n)=>v.jsx(MP,{ref:n,className:Pe(Sy(),t),...e}));V7.displayName=MP.displayName;const j7=C.forwardRef(({className:t,...e},n)=>v.jsx(DP,{ref:n,className:Pe(Sy({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));j7.displayName=DP.displayName;const F7="https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json",U7={Alabama:[-86.7509,32.8067],Alaska:[-151.6051,63.3355],Arizona:[-111.6602,34.2744],Arkansas:[-92.4426,34.8938],California:[-119.4696,36.7783],Colorado:[-105.5478,39.0646],Connecticut:[-72.7273,41.6219],Delaware:[-75.5277,39.1582],Florida:[-82.4497,28.6305],Georgia:[-83.4428,32.6415],Hawaii:[-157.5311,21.0945],Idaho:[-114.613,44.2394],Illinois:[-89.1965,40.0417],Indiana:[-86.2816,39.8942],Iowa:[-93.5,42.0751],Kansas:[-98.3804,38.4937],Kentucky:[-84.27,37.8393],Louisiana:[-92.0574,30.9843],Maine:[-69.2428,45.3695],Maryland:[-76.6413,39.0458],Massachusetts:[-71.5314,42.2373],Michigan:[-84.5603,44.3148],Minnesota:[-93.3649,46.2807],Mississippi:[-89.3985,32.7364],Missouri:[-92.458,38.3566],Montana:[-109.6333,46.8797],Nebraska:[-99.7951,41.4925],Nevada:[-117.0554,38.8026],"New Hampshire":[-71.5724,43.1939],"New Jersey":[-74.4057,40.0583],"New Mexico":[-106.1126,34.4071],"New York":[-74.2179,43.2994],"North Carolina":[-79.0193,35.5557],"North Dakota":[-100.4659,47.5515],Ohio:[-82.7937,40.4173],Oklahoma:[-97.5164,35.5376],Oregon:[-120.5542,43.9336],Pennsylvania:[-77.1945,41.2033],"Rhode Island":[-71.5101,41.6762],"South Carolina":[-80.9066,33.8361],"South Dakota":[-100.2263,44.2998],Tennessee:[-86.3505,35.858],Texas:[-99.3312,31.9686],Utah:[-111.8535,39.321],Vermont:[-72.6658,44.0687],Virginia:[-78.6569,37.4316],Washington:[-120.4472,47.7511],"West Virginia":[-80.6227,38.6409],Wisconsin:[-89.6385,44.2563],Wyoming:[-107.2903,42.7559],"District of Columbia":[-77.0369,38.9072]},$7=new Date("2024-11-05T15:00:00Z");function z7(){const[t,e]=C.useState([]),[n,r]=C.useState(!0),[i,s]=C.useState({}),{user:o}=Na();a_(),C.useState(!1);const[a,l]=C.useState(!1),u=!0,h=10;C.useEffect(()=>{fetch("/projections.csv").then(w=>w.text()).then(w=>{const y=qu.parse(w,{header:!0,transform:(R,D)=>["winstate_inc","winstate_chal","evs"].includes(D)?parseFloat(R):R});e(y.data),r(!1)}).catch(w=>{console.error("Error loading CSV:",w),r(!1)})},[]),C.useEffect(()=>{o&&(async()=>{const y=Ns(ni,"picks",o.uid),R=await pu(y);R.exists()&&(s(R.data().selections),l(R.data().locked||!1))})()},[o]),C.useEffect(()=>{const w=()=>{l(new Date>=$7)};w();const y=setInterval(w,6e4);return()=>clearInterval(y)},[]);const d=Au().domain([50,100]).range(["#cce5ff","#0039a6"]).clamp(!0),f=Au().domain([50,100]).range(["#ffcccb","#cc0000"]).clamp(!0),m=w=>{const y=t.find(L=>L.state_full===w);if(!y)return"#e2e8f0";const R=y.winstate_inc,D=y.winstate_chal;return R>D?d(R):f(D)},E=w=>{s(y=>{const R=y[w]||"none";if(_>=h&&R==="none")return y;const D=R==="none"?"red":R==="red"?"blue":"none",L={...y};return D==="none"?delete L[w]:L[w]=D,L})},x=w=>`${w.toFixed(1)}%`,I=w=>Math.round(100/(w/100)),_=Object.entries(i).filter(([w,y])=>y!=="none").length;return n?v.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:v.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading data..."})}):v.jsx("div",{className:"space-y-4 sm:space-y-8",children:v.jsxs(pt,{className:"sm:p-2",children:[v.jsx(hn,{className:"px-3 py-4 sm:p-6",children:v.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[v.jsxs("div",{children:[v.jsx(dn,{className:"text-lg sm:text-xl",children:"State Predictions & Probabilities"}),v.jsx(es,{className:"text-xs sm:text-sm",children:"Picks are locked for the election"})]}),!u]})}),v.jsx(mt,{className:"p-3 sm:p-6",children:v.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 sm:gap-8",children:[v.jsxs("div",{className:"lg:w-3/5",children:[v.jsx("div",{className:"w-full aspect-[4/3] relative",children:v.jsxs(Yi,{projection:"geoAlbersUsa",children:[v.jsx(Xi,{geography:F7,children:({geographies:w})=>w.map(y=>{const R=y.properties.name;t.find(A=>A.state_full===R);const D=i[R],L=m(R);return v.jsx(qo,{geography:y,style:{default:{fill:L,stroke:"#FFFFFF",strokeWidth:D?3:.5,outline:"none"},hover:{fill:L,stroke:"#FFFFFF",strokeWidth:D?3:2,outline:"none",cursor:"default"}},onClick:()=>!u},y.rsmKey)})}),Object.entries(i).filter(([w,y])=>y!=="none").map(([w,y])=>{const R=U7[w];return R?v.jsx("g",{onClick:()=>E(w),style:{cursor:"pointer"},children:v.jsx(Zu,{subject:R,dx:0,dy:0,connectorProps:{},children:v.jsx("text",{textAnchor:"middle",alignmentBaseline:"middle",fill:"white",fontSize:12,fontWeight:"bold",style:{textShadow:"0 0 3px rgba(0,0,0,0.5)"},children:y==="blue"?"D":"R"})})},w):null})]})}),v.jsxs("div",{className:"mt-2 sm:mt-4 flex justify-center items-center gap-4 sm:gap-8 text-xs sm:text-sm",children:[v.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[v.jsx("div",{className:"w-16 sm:w-24 h-3 sm:h-4 bg-gradient-to-r from-[#cce5ff] to-[#0039a6]"}),v.jsx("span",{children:"Democratic Lead"})]}),v.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[v.jsx("div",{className:"w-16 sm:w-24 h-3 sm:h-4 bg-gradient-to-r from-[#ffcccb] to-[#cc0000]"}),v.jsx("span",{children:"Republican Lead"})]})]})]}),v.jsxs("div",{className:"lg:w-2/5 space-y-3 sm:space-y-4",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h3",{className:"font-medium text-sm sm:text-base",children:"Your Picks Ledger"}),!u]}),v.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-4",children:[v.jsxs("div",{className:"p-2 sm:p-4 rounded-lg bg-muted",children:[v.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Selections Made"}),v.jsxs("div",{className:"text-lg sm:text-2xl font-bold",children:[_," of ",h]})]}),v.jsxs("div",{className:"p-2 sm:p-4 rounded-lg bg-muted",children:[v.jsx("div",{className:"text-xs sm:text-sm text-muted-foreground",children:"Max Potential Win"}),v.jsxs("div",{className:"text-lg sm:text-2xl font-bold",children:["$",Object.entries(i).filter(([w,y])=>y!=="none").reduce((w,[y,R])=>{const D=t.find(A=>A.state_full===y);if(!D)return w;const L=R==="red"?D.winstate_chal:D.winstate_inc;return w+(I(L)-100)},0)]})]})]}),v.jsx("div",{className:"space-y-2 max-h-[300px] sm:max-h-[500px] overflow-y-auto border-t pt-3",children:Object.entries(i).filter(([w,y])=>y!=="none").map(([w,y])=>{const R=t.find(g=>g.state_full===w);if(!R)return null;const D=y==="red"?R.winstate_chal:R.winstate_inc,L=I(D),A=100;return v.jsxs("div",{className:`flex items-center justify-between p-2 sm:p-3 rounded-lg border-2 ${y==="red"?"border-red-600 bg-red-50":"border-blue-600 bg-blue-50"}`,children:[v.jsx("div",{className:"flex items-center gap-2 sm:gap-4",children:v.jsxs("div",{children:[v.jsx("div",{className:"font-medium text-sm sm:text-base",children:w}),v.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:["Betting on ",y.toUpperCase()," (",x(D)," chance)"]})]})}),v.jsxs("div",{className:"text-right",children:[v.jsxs("div",{className:"font-medium text-sm sm:text-base",children:["To win: $",L-A]}),v.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:["Risk: $",A]})]})]},w)})})]})]})})]})})}const B7=Ty("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),jP=C.forwardRef(({className:t,variant:e,...n},r)=>v.jsx("div",{ref:r,role:"alert",className:Pe(B7({variant:e}),t),...n}));jP.displayName="Alert";const W7=C.forwardRef(({className:t,...e},n)=>v.jsx("h5",{ref:n,className:Pe("mb-1 font-medium leading-none tracking-tight",t),...e}));W7.displayName="AlertTitle";const FP=C.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:Pe("text-sm [&_p]:leading-relaxed",t),...e}));FP.displayName="AlertDescription";function H7(){return v.jsxs("div",{className:"space-y-6",children:[v.jsxs(pt,{children:[v.jsxs(hn,{children:[v.jsxs(dn,{className:"flex items-center gap-2",children:[v.jsx(B8,{className:"h-6 w-6"}),"Game Overview"]}),v.jsx(es,{children:"Compete to build the most profitable election prediction portfolio"})]}),v.jsx(mt,{children:v.jsxs(jP,{children:[v.jsx(nT,{className:"h-4 w-4"}),v.jsx(FP,{children:"Each player gets 10 picks and $1,000 to allocate ($100 per pick). The winner is the player who would have won the most money if their predictions were correct."})]})})]}),v.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[v.jsxs(pt,{children:[v.jsx(hn,{children:v.jsxs(dn,{className:"flex items-center gap-2",children:[v.jsx(L8,{className:"h-5 w-5"}),"How Betting Works"]})}),v.jsxs(mt,{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"Fixed Wager Amount"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Each pick costs exactly $100 from your $1,000 budget"})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"Payouts Based on Probability"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Lower probability picks pay more. Example: a 20% chance pays $500 on a $100 bet"})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"No Vigorish"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"This is a simplified game with no house edge - payouts are based on pure probability"})]})]})]}),v.jsxs(pt,{children:[v.jsx(hn,{children:v.jsxs(dn,{className:"flex items-center gap-2",children:[v.jsx(j8,{className:"h-5 w-5"}),"Odds Locking"]})}),v.jsx(mt,{children:v.jsx("p",{className:"text-sm text-muted-foreground",children:"All odds will be locked based on Nate Silver's final projections before polls close on Tuesday, November 5th. These final odds will determine all payouts. Additionally, no new picks or changes can be made after 6:00 PM Eastern Time on Election Day."})})]}),v.jsxs(pt,{children:[v.jsx(hn,{children:v.jsxs(dn,{className:"flex items-center gap-2",children:[v.jsx(F8,{className:"h-5 w-5"}),"Using the Map"]})}),v.jsxs(mt,{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"State Colors"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Blue states lean Democratic, red states lean Republican. Darker colors indicate stronger leads."})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"Making Selections"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Click a state to cycle through: No Pick → R → D → No Pick. Selected states show an R or D label."})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"Tracking Picks"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Your picks and potential winnings are tracked in real-time in the ledger beside the map."})]})]})]}),v.jsxs(pt,{children:[v.jsx(hn,{children:v.jsxs(dn,{className:"flex items-center gap-2",children:[v.jsx(nT,{className:"h-5 w-5"}),"Strategy Notes"]})}),v.jsxs(mt,{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"Risk vs. Reward"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Balance safe picks with longshots. A mix of probabilities often yields the best results."})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"Budget Management"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Use all 10 picks to maximize your potential winnings. Each unused pick is a missed opportunity."})]}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:"Stay Informed"}),v.jsx("p",{className:"text-sm text-muted-foreground",children:"Probabilities update regularly based on new polling data until they lock on election day."})]})]})]})]})]})}function q7(){const{signInWithGoogle:t,user:e}=Na(),n=O0();return C.useEffect(()=>{e&&n("/picks")},[e,n]),v.jsx("div",{className:"flex items-center justify-center min-h-[80vh]",children:v.jsxs(pt,{className:"w-[350px]",children:[v.jsxs(hn,{children:[v.jsx(dn,{children:"Welcome"}),v.jsx(es,{children:"Sign in to save and track your picks"})]}),v.jsx(mt,{children:v.jsx(hi,{onClick:t,className:"w-full",children:"Sign in with Google"})})]})})}function K7(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var G7=["color"],Q7=C.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,i=K7(t,G7);return C.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i,{ref:e}),C.createElement("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});function Y7(t,e=[]){let n=[];function r(s,o){const a=C.createContext(o),l=n.length;n=[...n,o];function u(d){const{scope:f,children:m,...E}=d,x=(f==null?void 0:f[t][l])||a,I=C.useMemo(()=>E,Object.values(E));return v.jsx(x.Provider,{value:I,children:m})}function h(d,f){const m=(f==null?void 0:f[t][l])||a,E=C.useContext(m);if(E)return E;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,h]}const i=()=>{const s=n.map(o=>C.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return C.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,X7(i,...e)]}function X7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(s)[`__scope${u}`];return{...a,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function UP(t){const e=t+"CollectionProvider",[n,r]=Y7(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:E,children:x}=m,I=Oe.useRef(null),_=Oe.useRef(new Map).current;return v.jsx(i,{scope:E,itemMap:_,collectionRef:I,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=Oe.forwardRef((m,E)=>{const{scope:x,children:I}=m,_=s(a,x),w=Ct(E,_.collectionRef);return v.jsx(fa,{ref:w,children:I})});l.displayName=a;const u=t+"CollectionItemSlot",h="data-radix-collection-item",d=Oe.forwardRef((m,E)=>{const{scope:x,children:I,..._}=m,w=Oe.useRef(null),y=Ct(E,w),R=s(u,x);return Oe.useEffect(()=>(R.itemMap.set(w,{ref:w,..._}),()=>void R.itemMap.delete(w))),v.jsx(fa,{[h]:"",ref:y,children:I})});d.displayName=u;function f(m){const E=s(t+"CollectionConsumer",m);return Oe.useCallback(()=>{const I=E.collectionRef.current;if(!I)return[];const _=Array.from(I.querySelectorAll(`[${h}]`));return Array.from(E.itemMap.values()).sort((R,D)=>_.indexOf(R.ref.current)-_.indexOf(D.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:l,ItemSlot:d},f,r]}var J7="VisuallyHidden",f_=C.forwardRef((t,e)=>v.jsx(gt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));f_.displayName=J7;var p_="ToastProvider",[m_,Z7,eW]=UP("Toast"),[$P,oH]=Jf("Toast",[eW]),[tW,ep]=$P(p_),zP=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=C.useState(null),[u,h]=C.useState(0),d=C.useRef(!1),f=C.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${p_}\`. Expected non-empty \`string\`.`),v.jsx(m_.Provider,{scope:e,children:v.jsx(tW,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:C.useCallback(()=>h(m=>m+1),[]),onToastRemove:C.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:o})})};zP.displayName=p_;var BP="ToastViewport",nW=["F8"],bv="toast.viewportPause",Nv="toast.viewportResume",WP=C.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=nW,label:i="Notifications ({hotkey})",...s}=t,o=ep(BP,n),a=Z7(n),l=C.useRef(null),u=C.useRef(null),h=C.useRef(null),d=C.useRef(null),f=Ct(e,d,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=o.toastCount>0;C.useEffect(()=>{const I=_=>{var y;r.length!==0&&r.every(R=>_[R]||_.code===R)&&((y=d.current)==null||y.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r]),C.useEffect(()=>{const I=l.current,_=d.current;if(E&&I&&_){const w=()=>{if(!o.isClosePausedRef.current){const L=new CustomEvent(bv);_.dispatchEvent(L),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const L=new CustomEvent(Nv);_.dispatchEvent(L),o.isClosePausedRef.current=!1}},R=L=>{!I.contains(L.relatedTarget)&&y()},D=()=>{I.contains(document.activeElement)||y()};return I.addEventListener("focusin",w),I.addEventListener("focusout",R),I.addEventListener("pointermove",w),I.addEventListener("pointerleave",D),window.addEventListener("blur",w),window.addEventListener("focus",y),()=>{I.removeEventListener("focusin",w),I.removeEventListener("focusout",R),I.removeEventListener("pointermove",w),I.removeEventListener("pointerleave",D),window.removeEventListener("blur",w),window.removeEventListener("focus",y)}}},[E,o.isClosePausedRef]);const x=C.useCallback(({tabbingDirection:I})=>{const w=a().map(y=>{const R=y.ref.current,D=[R,...mW(R)];return I==="forwards"?D:D.reverse()});return(I==="forwards"?w.reverse():w).flat()},[a]);return C.useEffect(()=>{const I=d.current;if(I){const _=w=>{var D,L,A;const y=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!y){const g=document.activeElement,T=w.shiftKey;if(w.target===I&&T){(D=u.current)==null||D.focus();return}const M=x({tabbingDirection:T?"backwards":"forwards"}),b=M.findIndex(O=>O===g);Im(M.slice(b+1))?w.preventDefault():T?(L=u.current)==null||L.focus():(A=h.current)==null||A.focus()}};return I.addEventListener("keydown",_),()=>I.removeEventListener("keydown",_)}},[a,x]),v.jsxs(cB,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&v.jsx(Mv,{ref:u,onFocusFromOutsideViewport:()=>{const I=x({tabbingDirection:"forwards"});Im(I)}}),v.jsx(m_.Slot,{scope:n,children:v.jsx(gt.ol,{tabIndex:-1,...s,ref:f})}),E&&v.jsx(Mv,{ref:h,onFocusFromOutsideViewport:()=>{const I=x({tabbingDirection:"backwards"});Im(I)}})]})});WP.displayName=BP;var HP="ToastFocusProxy",Mv=C.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=ep(HP,n);return v.jsx(f_,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=s.viewport)!=null&&u.contains(a))&&r()}})});Mv.displayName=HP;var tp="Toast",rW="toast.swipeStart",iW="toast.swipeMove",sW="toast.swipeCancel",oW="toast.swipeEnd",qP=C.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=zk({prop:r,defaultProp:i,onChange:s});return v.jsx(tc,{present:n||a,children:v.jsx(uW,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:cr(t.onPause),onResume:cr(t.onResume),onSwipeStart:qe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:qe(t.onSwipeMove,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:qe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:qe(t.onSwipeEnd,u=>{const{x:h,y:d}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});qP.displayName=tp;var[aW,lW]=$P(tp,{onClose(){}}),uW=C.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:h,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:m,...E}=t,x=ep(tp,n),[I,_]=C.useState(null),w=Ct(e,O=>_(O)),y=C.useRef(null),R=C.useRef(null),D=i||x.duration,L=C.useRef(0),A=C.useRef(D),g=C.useRef(0),{onToastAdd:T,onToastRemove:k}=x,P=cr(()=>{var V;(I==null?void 0:I.contains(document.activeElement))&&((V=x.viewport)==null||V.focus()),o()}),M=C.useCallback(O=>{!O||O===1/0||(window.clearTimeout(g.current),L.current=new Date().getTime(),g.current=window.setTimeout(P,O))},[P]);C.useEffect(()=>{const O=x.viewport;if(O){const V=()=>{M(A.current),u==null||u()},j=()=>{const z=new Date().getTime()-L.current;A.current=A.current-z,window.clearTimeout(g.current),l==null||l()};return O.addEventListener(bv,j),O.addEventListener(Nv,V),()=>{O.removeEventListener(bv,j),O.removeEventListener(Nv,V)}}},[x.viewport,D,l,u,M]),C.useEffect(()=>{s&&!x.isClosePausedRef.current&&M(D)},[s,D,x.isClosePausedRef,M]),C.useEffect(()=>(T(),()=>k()),[T,k]);const b=C.useMemo(()=>I?ZP(I):null,[I]);return x.viewport?v.jsxs(v.Fragment,{children:[b&&v.jsx(cW,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:b}),v.jsx(aW,{scope:n,onClose:P,children:Cf.createPortal(v.jsx(m_.ItemSlot,{scope:n,children:v.jsx(uB,{asChild:!0,onEscapeKeyDown:qe(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||P(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:v.jsx(gt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...E,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:qe(t.onKeyDown,O=>{O.key==="Escape"&&(a==null||a(O.nativeEvent),O.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:qe(t.onPointerDown,O=>{O.button===0&&(y.current={x:O.clientX,y:O.clientY})}),onPointerMove:qe(t.onPointerMove,O=>{if(!y.current)return;const V=O.clientX-y.current.x,j=O.clientY-y.current.y,z=!!R.current,U=["left","right"].includes(x.swipeDirection),F=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,q=U?F(0,V):0,Q=U?0:F(0,j),W=O.pointerType==="touch"?10:2,J={x:q,y:Q},ie={originalEvent:O,delta:J};z?(R.current=J,nh(iW,d,ie,{discrete:!1})):gT(J,x.swipeDirection,W)?(R.current=J,nh(rW,h,ie,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(V)>W||Math.abs(j)>W)&&(y.current=null)}),onPointerUp:qe(t.onPointerUp,O=>{const V=R.current,j=O.target;if(j.hasPointerCapture(O.pointerId)&&j.releasePointerCapture(O.pointerId),R.current=null,y.current=null,V){const z=O.currentTarget,U={originalEvent:O,delta:V};gT(V,x.swipeDirection,x.swipeThreshold)?nh(oW,m,U,{discrete:!0}):nh(sW,f,U,{discrete:!0}),z.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),cW=t=>{const{__scopeToast:e,children:n,...r}=t,i=ep(tp,e),[s,o]=C.useState(!1),[a,l]=C.useState(!1);return fW(()=>o(!0)),C.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:v.jsx(u_,{asChild:!0,children:v.jsx(f_,{...r,children:s&&v.jsxs(v.Fragment,{children:[i.label," ",n]})})})},hW="ToastTitle",KP=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(gt.div,{...r,ref:e})});KP.displayName=hW;var dW="ToastDescription",GP=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return v.jsx(gt.div,{...r,ref:e})});GP.displayName=dW;var QP="ToastAction",YP=C.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?v.jsx(JP,{altText:n,asChild:!0,children:v.jsx(g_,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${QP}\`. Expected non-empty \`string\`.`),null)});YP.displayName=QP;var XP="ToastClose",g_=C.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=lW(XP,n);return v.jsx(JP,{asChild:!0,children:v.jsx(gt.button,{type:"button",...r,ref:e,onClick:qe(t.onClick,i.onClose)})})});g_.displayName=XP;var JP=C.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return v.jsx(gt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function ZP(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),pW(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...ZP(r))}}),e}function nh(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Bk(i,s):i.dispatchEvent(s)}var gT=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function fW(t=()=>{}){const e=cr(t);ku(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function pW(t){return t.nodeType===t.ELEMENT_NODE}function mW(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Im(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var gW=zP,eb=WP,tb=qP,nb=KP,rb=GP,ib=YP,sb=g_;const vW=gW,ob=C.forwardRef(({className:t,...e},n)=>v.jsx(eb,{ref:n,className:Pe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ob.displayName=eb.displayName;const yW=Ty("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ab=C.forwardRef(({className:t,variant:e,...n},r)=>v.jsx(tb,{ref:r,className:Pe(yW({variant:e}),t),...n}));ab.displayName=tb.displayName;const _W=C.forwardRef(({className:t,...e},n)=>v.jsx(ib,{ref:n,className:Pe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));_W.displayName=ib.displayName;const lb=C.forwardRef(({className:t,...e},n)=>v.jsx(sb,{ref:n,className:Pe("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:v.jsx(Q7,{className:"h-4 w-4"})}));lb.displayName=sb.displayName;const ub=C.forwardRef(({className:t,...e},n)=>v.jsx(nb,{ref:n,className:Pe("text-sm font-semibold [&+div]:text-xs",t),...e}));ub.displayName=nb.displayName;const cb=C.forwardRef(({className:t,...e},n)=>v.jsx(rb,{ref:n,className:Pe("text-sm opacity-90",t),...e}));cb.displayName=rb.displayName;function wW(){const{toasts:t}=a_();return v.jsxs(vW,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return v.jsxs(ab,{...s,children:[v.jsxs("div",{className:"grid gap-1",children:[n&&v.jsx(ub,{children:n}),r&&v.jsx(cb,{children:r})]}),i,v.jsx(lb,{})]},e)}),v.jsx(ob,{})]})}const EW="https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json",xW={};function TW(){var f;const[t,e]=C.useState([]),[n,r]=C.useState(!0),[i,s]=C.useState({}),{user:o}=Na(),{toast:a}=a_(),[l,u]=C.useState(!1);C.useEffect(()=>{fetch("/projections.csv").then(m=>m.text()).then(m=>{const E=qu.parse(m,{header:!0,transform:(x,I)=>["winstate_inc","winstate_chal","evs"].includes(I)?parseFloat(x):x});e(E.data),r(!1)})},[]),C.useEffect(()=>{(async()=>{const E=Ns(ni,"results","election2024"),x=await pu(E);x.exists()&&s(x.data().results)})()},[]);const h=m=>{s(E=>{const x=E[m]||"none",I=x==="none"?"red":x==="red"?"blue":"none",_={...E};return I==="none"?delete _[m]:_[m]=I,_})},d=async()=>{u(!0);try{await kR(Ns(ni,"results","election2024"),{results:i,updatedAt:new Date().toISOString(),updatedBy:o==null?void 0:o.email}),a({title:"Results saved",description:"Election results have been updated successfully.",duration:2e3})}catch(m){console.error("Error saving results:",m),a({title:"Error saving results",description:"There was a problem saving the results. Please try again.",variant:"destructive",duration:3e3})}finally{u(!1)}};return(f=o==null?void 0:o.email)!=null&&f.endsWith("donniewmattingly@gmail.com")?n?v.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:v.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading data..."})}):v.jsx("div",{className:"space-y-4 sm:space-y-8",children:v.jsxs(pt,{className:"sm:p-2",children:[v.jsx(hn,{className:"px-3 py-4 sm:p-6",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx(dn,{className:"text-lg sm:text-xl",children:"Record Election Results"}),v.jsx(es,{className:"text-xs sm:text-sm",children:"Click states to record actual winners"})]}),v.jsx(hi,{onClick:d,size:"sm",disabled:l,children:l?v.jsxs(v.Fragment,{children:[v.jsx(V8,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):v.jsxs(v.Fragment,{children:[v.jsx($8,{className:"h-4 w-4 mr-2"}),"Save Results"]})})]})}),v.jsx(mt,{className:"p-3 sm:p-6",children:v.jsx("div",{className:"w-full aspect-[4/3] relative",children:v.jsxs(Yi,{projection:"geoAlbersUsa",children:[v.jsx(Xi,{geography:EW,children:({geographies:m})=>m.map(E=>{const x=E.properties.name,I=i[x],_=I==="blue"?"#0039a6":I==="red"?"#cc0000":"#e2e8f0";return v.jsx(qo,{geography:E,style:{default:{fill:_,stroke:"#FFFFFF",strokeWidth:I?3:.5,outline:"none"},hover:{fill:_,stroke:"#FFFFFF",strokeWidth:I?3:2,outline:"none",cursor:"pointer"}},onClick:()=>h(x)},E.rsmKey)})}),Object.entries(i).filter(([m,E])=>E!=="none").map(([m,E])=>{const x=xW[m];return x?v.jsx(Zu,{subject:x,dx:0,dy:0,connectorProps:{},children:v.jsx("text",{textAnchor:"middle",alignmentBaseline:"middle",fill:"white",fontSize:12,fontWeight:"bold",style:{textShadow:"0 0 3px rgba(0,0,0,0.5)",pointerEvents:"none"},children:E==="blue"?"D":"R"})},m):null})]})})})]})}):v.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:v.jsx("div",{className:"text-lg text-muted-foreground",children:"Access denied"})})}function hb(t,[e,n]){return Math.min(n,Math.max(e,t))}var SW=C.createContext(void 0);function IW(t){const e=C.useContext(SW);return t||e||"ltr"}function CW(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function RW(t){const[e,n]=C.useState(void 0);return ku(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var db=["PageUp","PageDown"],fb=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],pb={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Da="Slider",[Dv,AW,kW]=UP(Da),[mb,aH]=Jf(Da,[kW]),[PW,np]=mb(Da),gb=C.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:u=[r],value:h,onValueChange:d=()=>{},onValueCommit:f=()=>{},inverted:m=!1,form:E,...x}=t,I=C.useRef(new Set),_=C.useRef(0),y=o==="horizontal"?bW:NW,[R=[],D]=zk({prop:h,defaultProp:u,onChange:P=>{var b;(b=[...I.current][_.current])==null||b.focus(),d(P)}}),L=C.useRef(R);function A(P){const M=VW(R,P);k(P,M)}function g(P){k(P,_.current)}function T(){const P=L.current[_.current];R[_.current]!==P&&f(R)}function k(P,M,{commit:b}={commit:!1}){const O=$W(s),V=zW(Math.round((P-r)/s)*s+r,O),j=hb(V,[r,i]);D((z=[])=>{const U=OW(z,j,M);if(UW(U,l*s)){_.current=U.indexOf(j);const F=String(U)!==String(z);return F&&b&&f(U),F?U:z}else return z})}return v.jsx(PW,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:_,thumbs:I.current,values:R,orientation:o,form:E,children:v.jsx(Dv.Provider,{scope:t.__scopeSlider,children:v.jsx(Dv.Slot,{scope:t.__scopeSlider,children:v.jsx(y,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:e,onPointerDown:qe(x.onPointerDown,()=>{a||(L.current=R)}),min:r,max:i,inverted:m,onSlideStart:a?void 0:A,onSlideMove:a?void 0:g,onSlideEnd:a?void 0:T,onHomeKeyDown:()=>!a&&k(r,0,{commit:!0}),onEndKeyDown:()=>!a&&k(i,R.length-1,{commit:!0}),onStepKeyDown:({event:P,direction:M})=>{if(!a){const V=db.includes(P.key)||P.shiftKey&&fb.includes(P.key)?10:1,j=_.current,z=R[j],U=s*V*M;k(z+U,j,{commit:!0})}}})})})})});gb.displayName=Da;var[vb,yb]=mb(Da,{startEdge:"left",endEdge:"right",size:"width",direction:1}),bW=C.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:u,...h}=t,[d,f]=C.useState(null),m=Ct(e,y=>f(y)),E=C.useRef(),x=IW(i),I=x==="ltr",_=I&&!s||!I&&s;function w(y){const R=E.current||d.getBoundingClientRect(),D=[0,R.width],A=v_(D,_?[n,r]:[r,n]);return E.current=R,A(y-R.left)}return v.jsx(vb,{scope:t.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:v.jsx(_b,{dir:x,"data-orientation":"horizontal",...h,ref:m,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:y=>{const R=w(y.clientX);o==null||o(R)},onSlideMove:y=>{const R=w(y.clientX);a==null||a(R)},onSlideEnd:()=>{E.current=void 0,l==null||l()},onStepKeyDown:y=>{const D=pb[_?"from-left":"from-right"].includes(y.key);u==null||u({event:y,direction:D?-1:1})}})})}),NW=C.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...u}=t,h=C.useRef(null),d=Ct(e,h),f=C.useRef(),m=!i;function E(x){const I=f.current||h.current.getBoundingClientRect(),_=[0,I.height],y=v_(_,m?[r,n]:[n,r]);return f.current=I,y(x-I.top)}return v.jsx(vb,{scope:t.__scopeSlider,startEdge:m?"bottom":"top",endEdge:m?"top":"bottom",size:"height",direction:m?1:-1,children:v.jsx(_b,{"data-orientation":"vertical",...u,ref:d,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const I=E(x.clientY);s==null||s(I)},onSlideMove:x=>{const I=E(x.clientY);o==null||o(I)},onSlideEnd:()=>{f.current=void 0,a==null||a()},onStepKeyDown:x=>{const _=pb[m?"from-bottom":"from-top"].includes(x.key);l==null||l({event:x,direction:_?-1:1})}})})}),_b=C.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...u}=t,h=np(Da,n);return v.jsx(gt.span,{...u,ref:e,onKeyDown:qe(t.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(a(d),d.preventDefault()):db.concat(fb).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:qe(t.onPointerDown,d=>{const f=d.target;f.setPointerCapture(d.pointerId),d.preventDefault(),h.thumbs.has(f)?f.focus():r(d)}),onPointerMove:qe(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:qe(t.onPointerUp,d=>{const f=d.target;f.hasPointerCapture(d.pointerId)&&(f.releasePointerCapture(d.pointerId),s(d))})})}),wb="SliderTrack",Eb=C.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=np(wb,n);return v.jsx(gt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});Eb.displayName=wb;var Ov="SliderRange",xb=C.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=np(Ov,n),s=yb(Ov,n),o=C.useRef(null),a=Ct(e,o),l=i.values.length,u=i.values.map(f=>Sb(f,i.min,i.max)),h=l>1?Math.min(...u):0,d=100-Math.max(...u);return v.jsx(gt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[s.startEdge]:h+"%",[s.endEdge]:d+"%"}})});xb.displayName=Ov;var Lv="SliderThumb",Tb=C.forwardRef((t,e)=>{const n=AW(t.__scopeSlider),[r,i]=C.useState(null),s=Ct(e,a=>i(a)),o=C.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return v.jsx(MW,{...t,ref:s,index:o})}),MW=C.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=np(Lv,n),a=yb(Lv,n),[l,u]=C.useState(null),h=Ct(e,w=>u(w)),d=l?o.form||!!l.closest("form"):!0,f=RW(l),m=o.values[r],E=m===void 0?0:Sb(m,o.min,o.max),x=LW(r,o.values.length),I=f==null?void 0:f[a.size],_=I?jW(I,E,a.direction):0;return C.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),v.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${E}% + ${_}px)`},children:[v.jsx(Dv.ItemSlot,{scope:t.__scopeSlider,children:v.jsx(gt.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":m,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:h,style:m===void 0?{display:"none"}:t.style,onFocus:qe(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),d&&v.jsx(DW,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:m},r)]})});Tb.displayName=Lv;var DW=t=>{const{value:e,...n}=t,r=C.useRef(null),i=CW(e);return C.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&l){const u=new Event("input",{bubbles:!0});l.call(s,e),s.dispatchEvent(u)}},[i,e]),v.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function OW(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function Sb(t,e,n){const s=100/(n-e)*(t-e);return hb(s,[0,100])}function LW(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function VW(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function jW(t,e,n){const r=t/2,s=v_([0,50],[0,r]);return(r-s(e)*n)*n}function FW(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function UW(t,e){if(e>0){const n=FW(t);return Math.min(...n)>=e}return!0}function v_(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function $W(t){return(String(t).split(".")[1]||"").length}function zW(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var Ib=gb,BW=Eb,WW=xb,HW=Tb;const Cb=C.forwardRef(({className:t,...e},n)=>v.jsxs(Ib,{ref:n,className:Pe("relative flex w-full touch-none select-none items-center",t),...e,children:[v.jsx(BW,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:v.jsx(WW,{className:"absolute h-full bg-primary"})}),v.jsx(HW,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));Cb.displayName=Ib.displayName;const qW="https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json",KW={};function GW(){const[t,e]=C.useState([]),[n,r]=C.useState([]),[i,s]=C.useState(!0),[o,a]=C.useState({}),[l,u]=C.useState(null),[h,d]=C.useState(0);C.useEffect(()=>{Promise.all([fetch("/projections.csv").then(E=>E.text()),AR(gR(ni,"picks"))]).then(([E,x])=>{const I=qu.parse(E,{header:!0,transform:(w,y)=>["winstate_inc","winstate_chal","evs"].includes(y)?parseFloat(w):w});e(I.data);const _=x.docs.map(w=>{const y=w.data();return{displayName:y.displayName,selections:y.selections,potentialWinnings:0}});r(_),s(!1)})},[]);const f=E=>{a(x=>{const I=x[E]||"none",_=I==="none"?"red":I==="red"?"blue":"none",w={...x};return _==="none"?delete w[E]:w[E]=_,w})};C.useEffect(()=>{if(Object.keys(o).length===0){u(null);return}const E={};let x=-1/0,I="";n.forEach(_=>{let w=0;Object.entries(_.selections).forEach(([y,R])=>{const D=o[y];if(!D)return;const L=t.find(g=>g.state_full===y);if(!L)return;if(R===D){const g=R==="red"?L.winstate_chal:L.winstate_inc;w+=Math.round(100/(g/100))-100}}),E[_.displayName]=w,w>x&&(x=w,I=_.displayName)}),u({winner:I,winnings:E})},[o,n,t]);const m=E=>{const x=o[E];if(x==="blue")return"#0039a6";if(x==="red")return"#cc0000";const I=t.find(y=>y.state_full===E);if(!I)return"#e2e8f0";const _=I.winstate_inc,w=I.winstate_chal;return _>w?"#cce5ff":"#ffcccb"};return i?v.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:v.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading data..."})}):v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Outcome Simulator"}),v.jsx("p",{className:"text-muted-foreground",children:"Click states to set outcomes and see how it affects everyone's chances"})]}),v.jsxs("div",{className:"grid gap-8 lg:grid-cols-[2fr,1fr]",children:[v.jsxs(pt,{children:[v.jsx(hn,{children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx(dn,{children:"Set State Outcomes"}),v.jsx(es,{children:"Click states to cycle through outcomes"})]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(hi,{variant:"outline",size:"sm",onClick:()=>{const E=t.reduce((x,I)=>{const _=I.winstate_inc>I.winstate_chal;return x[I.state_full]=_?"blue":"red",x},{});a(E),d(0)},children:[v.jsx(z8,{className:"h-4 w-4 mr-2"}),"Most Likely"]}),v.jsxs(hi,{variant:"outline",size:"sm",onClick:()=>{a({}),d(0)},children:[v.jsx(U8,{className:"h-4 w-4 mr-2"}),"Reset"]})]})]})}),v.jsx(mt,{children:v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"space-y-0.5",children:[v.jsx("div",{className:"text-sm font-medium",children:"National Shift"}),v.jsx("div",{className:"text-xs text-muted-foreground",children:h===0?"No shift applied":h>0?`Democratic probability increased by ${h} points`:`Republican probability increased by ${Math.abs(h)} points`})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-sm font-medium",children:h>0?`+${h}`:h}),v.jsx(M8,{className:"h-4 w-4 text-muted-foreground"})]})]}),v.jsx(Cb,{value:[h],min:-20,max:20,step:1,onValueChange:([E])=>{d(E);const x=t.reduce((I,_)=>{const y=Math.min(Math.max(_.winstate_inc+E,0),100)>50;return I[_.state_full]=y?"blue":"red",I},{});a(x)}}),v.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[v.jsx("span",{children:"R+20 points"}),v.jsx("span",{children:"D+20 points"})]})]}),v.jsx("div",{className:"w-full aspect-[4/3]",children:v.jsxs(Yi,{projection:"geoAlbersUsa",children:[v.jsx(Xi,{geography:qW,children:({geographies:E})=>E.map(x=>{const I=x.properties.name;t.find(y=>y.state_full===I);const _=o[I],w=m(I);return v.jsx(qo,{geography:x,style:{default:{fill:w,stroke:"#FFFFFF",strokeWidth:_?3:.5,outline:"none"},hover:{fill:w,stroke:"#FFFFFF",strokeWidth:_?3:2,outline:"none",cursor:"pointer"}},onClick:()=>f(I)},x.rsmKey)})}),Object.entries(o).filter(([E,x])=>x!=="none").map(([E,x])=>{const I=KW[E];return I?v.jsx(Zu,{subject:I,dx:0,dy:0,connectorProps:{},children:v.jsx("text",{textAnchor:"middle",alignmentBaseline:"middle",fill:"white",fontSize:12,fontWeight:"bold",style:{textShadow:"0 0 3px rgba(0,0,0,0.5)",pointerEvents:"none"},children:x==="blue"?"D":"R"})},E):null})]})})]})})]}),v.jsxs(pt,{children:[v.jsxs(hn,{children:[v.jsx(dn,{children:"Simulation Results"}),v.jsx(es,{children:l?`Based on ${Object.keys(o).length} state outcomes`:"Set some state outcomes to see results"})]}),v.jsx(mt,{className:"space-y-6",children:l?v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("div",{className:"text-sm text-muted-foreground",children:"Winner"}),v.jsx("div",{className:"text-2xl font-bold",children:l.winner})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("div",{className:"text-sm text-muted-foreground",children:"Winnings"}),Object.entries(l.winnings).sort((E,x)=>x[1]-E[1]).map(([E,x])=>v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("span",{className:"font-medium",children:[E,E===l.winner&&v.jsx("span",{className:"text-yellow-500 ml-1",children:"👑"})]}),v.jsxs("span",{className:x>0?"text-green-600":"",children:["$",x]})]},E))]})]}):v.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Click states on the map to simulate outcomes"})})]})]})]})}function QW(){const[t,e]=C.useState([]),[n,r]=C.useState(!0),[i,s]=C.useState({key:"winstate_inc",direction:"desc"});C.useEffect(()=>{fetch("/projections.csv").then(l=>l.text()).then(l=>{const u=qu.parse(l,{header:!0,transform:(h,d)=>["winstate_inc","winstate_chal","evs"].includes(d)?parseFloat(h):h});e(u.data),r(!1)})},[]);const o=[...t].sort((l,u)=>{const h=l[i.key],d=u[i.key];return typeof h=="number"&&typeof d=="number"?i.direction==="asc"?h-d:d-h:0}),a=l=>{s(u=>({key:l,direction:u.key===l&&u.direction==="desc"?"asc":"desc"}))};return n?v.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:v.jsx("div",{className:"text-lg text-muted-foreground",children:"Loading data..."})}):v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"State Probabilities"}),v.jsx("p",{className:"text-muted-foreground",children:"Current win probabilities for each state based on Nate Silver's projections"})]}),v.jsx(pt,{children:v.jsx(mt,{className:"p-0",children:v.jsxs(i_,{children:[v.jsx(s_,{children:v.jsxs(Go,{children:[v.jsx(Er,{children:"State"}),v.jsx(Er,{children:"EVs"}),v.jsx(Er,{children:v.jsxs(hi,{variant:"ghost",size:"sm",onClick:()=>a("winstate_inc"),className:"flex items-center gap-1",children:["Democratic",v.jsx(tT,{className:"h-4 w-4"})]})}),v.jsx(Er,{children:v.jsxs(hi,{variant:"ghost",size:"sm",onClick:()=>a("winstate_chal"),className:"flex items-center gap-1",children:["Republican",v.jsx(tT,{className:"h-4 w-4"})]})}),v.jsx(Er,{children:"Margin"})]})}),v.jsx(o_,{children:o.map(l=>v.jsxs(Go,{children:[v.jsx(rr,{className:"font-medium",children:l.state_full}),v.jsx(rr,{children:l.evs}),v.jsx(rr,{children:v.jsx("div",{className:`font-mono ${l.winstate_inc>l.winstate_chal?"text-blue-600 font-bold":""}`,children:l.winstate_inc.toFixed(2)})}),v.jsx(rr,{children:v.jsx("div",{className:`font-mono ${l.winstate_chal>l.winstate_inc?"text-red-600 font-bold":""}`,children:l.winstate_chal.toFixed(2)})}),v.jsx(rr,{children:v.jsxs("div",{className:`font-mono ${l.winstate_inc>l.winstate_chal?"text-blue-600":"text-red-600"}`,children:[l.winstate_inc>l.winstate_chal?"+":"",(l.winstate_inc-l.winstate_chal).toFixed(2)]})})]},l.state))})]})})})]})}function ho({className:t,...e}){return v.jsx("div",{className:Pe("animate-pulse rounded-md bg-primary/10",t),...e})}function YW(){const[t,e]=C.useState(null),[n,r]=C.useState(!0),[i,s]=C.useState(null);C.useEffect(()=>{const a=async()=>{try{const u=new Date,h="https://static01.nyt.com/elections-assets/pages/data/2024-11-05/results-president.json";console.log("Fetching from:",h);const m=(await(await fetch(h)).json()).races;if(!(m!=null&&m.length))throw new Error("No race data found");console.log("Raw races data:",m);const E={},x=m[0].candidate_metadata;Object.keys(x).forEach(y=>{E[y]={counted:0,estimated:0,remaining:0}}),m.forEach(y=>{var R,D;(D=(R=y.reporting_units)==null?void 0:R[0])!=null&&D.candidates&&y.reporting_units[0].candidates.forEach(L=>{var A,g;E[L.nyt_id]&&(E[L.nyt_id].counted+=((A=L.votes)==null?void 0:A.total)||0,L.nyt_model_estimates&&(E[L.nyt_id].estimated+=L.nyt_model_estimates.votes_estimated||((g=L.votes)==null?void 0:g.total)||0,E[L.nyt_id].remaining+=L.nyt_model_estimates.votes_remaining||0))})}),console.log("Final totals by candidate:",E);const I=Object.entries(E).map(([y,R])=>({name:`${x[y].first_name} ${x[y].last_name}`,votes:R,party:x[y].party.abbreviation})).sort((y,R)=>R.votes.counted-y.votes.counted).slice(0,2);console.log("Processed candidate data:",I);const _=m.find(y=>{var R,D;return((D=(R=y.reporting_units)==null?void 0:R[0])==null?void 0:D.level)==="national"}),w=(_==null?void 0:_.reporting_units[0])||m[0].reporting_units[0];e({candidates:I,eevp:w.eevp||0,timestamp:w.provider_updated_at,totalVotes:w.total_votes||0,totalExpectedVotes:w.total_expected_vote||0})}catch(u){console.error("Error fetching NYT results:",u),s("Unable to load popular vote data")}finally{r(!1)}};a();const l=setInterval(a,6e4);return()=>clearInterval(l)},[]);const o=a=>new Intl.NumberFormat().format(a);return v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"National Popular Vote"}),v.jsx("p",{className:"text-muted-foreground",children:"Live vote totals and estimates"})]}),n||!t?v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsx(pt,{children:v.jsx(mt,{className:"pt-6",children:v.jsxs("div",{className:"space-y-4",children:[v.jsx(ho,{className:"h-32 w-32 rounded-full mx-auto"}),v.jsx(ho,{className:"h-4 w-full"}),v.jsx(ho,{className:"h-8 w-full"})]})})}),v.jsx(pt,{children:v.jsx(mt,{className:"pt-6",children:v.jsxs("div",{className:"space-y-4",children:[v.jsx(ho,{className:"h-32 w-32 rounded-full mx-auto"}),v.jsx(ho,{className:"h-4 w-full"}),v.jsx(ho,{className:"h-8 w-full"})]})})})]}):v.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:t.candidates.map(a=>v.jsx(pt,{className:`border-2 ${a.party==="Dem."?"border-blue-100":"border-red-100"}`,children:v.jsx(mt,{className:"pt-6",children:v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex flex-col items-center gap-4",children:[v.jsx("img",{src:a.party==="Dem."?"https://static01.nyt.com/elections-assets/2024/headshots/AK-G-P-2024-11-05-harris-k-44992.png":"https://static01.nyt.com/elections-assets/2024/headshots/NV-R-P-president-2024-02-08-trump-d-18284.png",alt:a.name,className:"w-32 h-32 rounded-full border-4 border-background shadow-lg"}),v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:`text-lg font-semibold ${a.party==="Dem."?"text-blue-600":"text-red-600"}`,children:a.name}),v.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.party==="Dem."?"Democratic":"Republican"," Candidate"]})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Counted Votes"}),v.jsx("div",{className:"text-2xl font-bold font-mono",children:o(a.votes.counted)})]}),v.jsxs("div",{className:"space-y-1",children:[v.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Estimated Total"}),v.jsx("div",{className:"text-2xl font-bold font-mono",children:o(a.votes.estimated)})]})]}),a.votes.remaining>0&&v.jsxs("div",{className:"space-y-1 pt-2 border-t",children:[v.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Estimated Remaining"}),v.jsx("div",{className:"text-xl font-bold font-mono text-muted-foreground",children:o(a.votes.remaining)})]})]})]})})},a.name))}),v.jsxs("div",{className:"text-sm text-center text-muted-foreground",children:["Last updated: ",t!=null&&t.timestamp?new Date(t.timestamp).toLocaleString():"..."]})]})}function Cm({children:t}){const{user:e,loading:n}=Na();return n?v.jsx("div",{children:"Loading..."}):e?v.jsx(v.Fragment,{children:t}):v.jsx(dD,{to:"/login"})}function XW(){var n;const{user:t,logout:e}=Na();return v.jsx("nav",{className:"border-b",children:v.jsxs("div",{className:"flex h-12 sm:h-16 items-center px-2 sm:px-4 justify-between",children:[v.jsxs("div",{className:"mx-2 sm:mx-6 flex gap-4 sm:gap-6 font-medium",children:[v.jsx(oo,{to:"/",className:"transition-colors hover:text-foreground/80 text-foreground",children:"Home"}),v.jsx(oo,{to:"/picks",className:"transition-colors hover:text-foreground/80 text-foreground",children:"Picks"}),v.jsx(oo,{to:"/rules",className:"transition-colors hover:text-foreground/80 text-foreground",children:"Rules"}),v.jsx(oo,{to:"/simulations",className:"transition-colors hover:text-foreground/80 text-foreground",children:"Simulate"}),v.jsx(oo,{to:"/probabilities",className:"transition-colors hover:text-foreground/80 text-foreground",children:"Odds"}),v.jsx(oo,{to:"/popular-vote",className:"transition-colors hover:text-foreground/80 text-foreground",children:"Popular Vote"})]}),t&&v.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[v.jsx("span",{className:"text-sm text-muted-foreground hidden sm:inline",children:t.email}),v.jsx("span",{className:"text-sm text-muted-foreground sm:hidden",children:(n=t.email)==null?void 0:n.split("@")[0]}),v.jsx(hi,{variant:"outline",size:"sm",onClick:e,children:"Sign Out"})]})]})})}function JW(){return v.jsx(J3,{children:v.jsxs(ED,{children:[v.jsxs("div",{className:"min-h-screen bg-background",children:[v.jsx(XW,{}),v.jsx("main",{className:"container mx-auto py-2 sm:py-6 px-2 sm:px-4",children:v.jsxs(pD,{children:[v.jsx(Fr,{path:"/login",element:v.jsx(q7,{})}),v.jsx(Fr,{path:"/",element:v.jsx(q8,{})}),v.jsx(Fr,{path:"/rules",element:v.jsx(H7,{})}),v.jsx(Fr,{path:"/picks",element:v.jsx(Cm,{children:v.jsx(z7,{})})}),v.jsx(Fr,{path:"/admin",element:v.jsx(Cm,{children:v.jsx(TW,{})})}),v.jsx(Fr,{path:"/simulations",element:v.jsx(Cm,{children:v.jsx(GW,{})})}),v.jsx(Fr,{path:"/probabilities",element:v.jsx(QW,{})}),v.jsx(Fr,{path:"/popular-vote",element:v.jsx(YW,{})})]})})]}),v.jsx(wW,{})]})})}kI(document.getElementById("root")).render(v.jsx(C.StrictMode,{children:v.jsx(JW,{})}));
